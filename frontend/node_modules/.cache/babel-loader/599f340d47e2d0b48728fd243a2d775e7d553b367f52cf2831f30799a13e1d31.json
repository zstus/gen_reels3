{"ast":null,"code":"var _jsxFileName = \"/zstus/frontend/src/components/TextImagePairManager.tsx\",\n  _s3 = $RefreshSig$();\nimport React, { useState, useCallback, useMemo, memo, useEffect, useRef } from 'react';\nimport { Box, Typography, Button, Grid, Card, CardContent, IconButton, Chip, Alert, CircularProgress, TextField, FormControlLabel, Switch, Collapse, Dialog, DialogTitle, DialogContent, DialogActions } from '@mui/material';\nimport { CloudUpload, Delete, AutoFixHigh, Refresh, Download, ExpandMore, ExpandLess, Movie as MovieIcon, VideoLibrary } from '@mui/icons-material';\nimport { useDropzone } from 'react-dropzone';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TextImagePairManager = ({\n  content,\n  imageUploadMode,\n  images,\n  onChange,\n  jobId\n}) => {\n  _s3();\n  var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  const [generationStatus, setGenerationStatus] = useState({});\n  const [uploadErrors, setUploadErrors] = useState({});\n  const [customPrompts, setCustomPrompts] = useState({});\n  const [promptsExpanded, setPromptsExpanded] = useState({});\n\n  // ÌÉúÍ∑∏ Í¥ÄÎ¶¨ ÏÉÅÌÉú\n  const [availableTags, setAvailableTags] = useState([]);\n  const [mediaTags, setMediaTags] = useState({});\n  const [tagInputs, setTagInputs] = useState({});\n  const [loadingTags, setLoadingTags] = useState(false);\n\n  // ÏµúÍ∑º ÎèôÏòÅÏÉÅ Í¥ÄÎ¶¨ ÏÉÅÌÉú\n  const [videoDialogOpen, setVideoDialogOpen] = useState(false);\n  const [recentVideos, setRecentVideos] = useState([]);\n  const [loadingVideos, setLoadingVideos] = useState(false);\n  const [loadingMoreVideos, setLoadingMoreVideos] = useState(false);\n  const [selectedVideoForIndex, setSelectedVideoForIndex] = useState(null);\n  const [videoPagination, setVideoPagination] = useState({\n    current_page: 1,\n    total_pages: 0,\n    total_items: 0,\n    has_next: false,\n    has_previous: false\n  });\n\n  // ÎπÑÎîîÏò§ Îã§Ïù¥ÏñºÎ°úÍ∑∏ ÌÉúÍ∑∏ ÌïÑÌÑ∞ÎßÅ ÏÉÅÌÉú\n  const [videoFilterTags, setVideoFilterTags] = useState([]);\n\n  // ÏµúÏã† images ÏÉÅÌÉúÎ•º Ï∂îÏ†ÅÌïòÍ∏∞ ÏúÑÌïú ref\n  const imagesRef = useRef(images);\n\n  // images propÏù¥ Î≥ÄÍ≤ΩÎê† ÎïåÎßàÎã§ ref ÏóÖÎç∞Ïù¥Ìä∏\n  useEffect(() => {\n    imagesRef.current = images;\n  }, [images]);\n\n  // ÏÇ¨Ïö© Í∞ÄÎä•Ìïú ÌÉúÍ∑∏ Î™©Î°ù Í∞ÄÏ†∏Ïò§Í∏∞\n  const fetchAvailableTags = useCallback(async () => {\n    if (loadingTags) return;\n    setLoadingTags(true);\n    try {\n      const response = await fetch('/media-assets/tags');\n      if (response.ok) {\n        const data = await response.json();\n        if (data.status === 'success') {\n          setAvailableTags(data.tags);\n        }\n      }\n    } catch (error) {\n      console.error('ÌÉúÍ∑∏ Î™©Î°ù Ï°∞Ìöå Ïã§Ìå®:', error);\n    } finally {\n      setLoadingTags(false);\n    }\n  }, [loadingTags]);\n\n  // Ïª¥Ìè¨ÎÑåÌä∏ ÎßàÏö¥Ìä∏ Ïãú ÌÉúÍ∑∏ Î™©Î°ù Í∞ÄÏ†∏Ïò§Í∏∞\n  useEffect(() => {\n    fetchAvailableTags();\n  }, [fetchAvailableTags]);\n\n  // Ïª§Ïä§ÌÖÄ ÌîÑÎ°¨ÌîÑÌä∏ Í¥ÄÎ¶¨ Ìï®ÏàòÎì§ (useCallbackÏúºÎ°ú ÏµúÏ†ÅÌôî)\n  const updateCustomPrompt = useCallback((imageIndex, prompt, enabled) => {\n    setCustomPrompts(prev => {\n      const currentPrompt = prev[imageIndex];\n      // Í∞íÏù¥ Í∞ôÏúºÎ©¥ ÏóÖÎç∞Ïù¥Ìä∏ÌïòÏßÄ ÏïäÏùå (Î∂àÌïÑÏöîÌïú Î¶¨Î†åÎçîÎßÅ Î∞©ÏßÄ)\n      if (currentPrompt && currentPrompt.prompt === prompt && currentPrompt.enabled === enabled) {\n        return prev;\n      }\n      return {\n        ...prev,\n        [imageIndex]: {\n          imageIndex,\n          prompt,\n          enabled\n        }\n      };\n    });\n  }, []);\n  const togglePromptExpanded = useCallback(imageIndex => {\n    setPromptsExpanded(prev => ({\n      ...prev,\n      [imageIndex]: !prev[imageIndex]\n    }));\n  }, []);\n\n  // ÌÉúÍ∑∏ Í¥ÄÎ¶¨ Ìï®ÏàòÎì§\n  const addTag = useCallback((imageIndex, tag) => {\n    if (!tag.trim()) return;\n    const trimmedTag = tag.trim();\n    setMediaTags(prev => {\n      const currentTags = prev[imageIndex] || [];\n      if (currentTags.includes(trimmedTag)) return prev;\n      return {\n        ...prev,\n        [imageIndex]: [...currentTags, trimmedTag]\n      };\n    });\n\n    // ÏÉà ÌÉúÍ∑∏ÎùºÎ©¥ availableTagsÏóêÎèÑ Ï∂îÍ∞Ä\n    if (!availableTags.includes(trimmedTag)) {\n      setAvailableTags(prev => [...prev, trimmedTag]);\n    }\n\n    // ÏûÖÎ†• ÌïÑÎìú Ï¥àÍ∏∞Ìôî\n    setTagInputs(prev => ({\n      ...prev,\n      [imageIndex]: ''\n    }));\n  }, [availableTags]);\n  const removeTag = useCallback((imageIndex, tagToRemove) => {\n    setMediaTags(prev => ({\n      ...prev,\n      [imageIndex]: (prev[imageIndex] || []).filter(tag => tag !== tagToRemove)\n    }));\n  }, []);\n  const handleTagInputChange = useCallback((imageIndex, value) => {\n    setTagInputs(prev => ({\n      ...prev,\n      [imageIndex]: value\n    }));\n  }, []);\n  const handleTagInputKeyPress = useCallback((imageIndex, event) => {\n    if (event.key === 'Enter') {\n      event.preventDefault();\n      const input = tagInputs[imageIndex] || '';\n      addTag(imageIndex, input);\n    }\n  }, [tagInputs, addTag]);\n\n  // ÏµúÍ∑º ÎèôÏòÅÏÉÅ Î∂àÎü¨Ïò§Í∏∞ (Ï≤´ ÌéòÏù¥ÏßÄ ÎòêÎäî ÌïÑÌÑ∞ Ï†ÅÏö©)\n  const handleLoadRecentVideos = useCallback(async (imageIndex, resetFilters = false) => {\n    console.log('üé¨ ÏµúÍ∑º ÎèôÏòÅÏÉÅ Î∂àÎü¨Ïò§Í∏∞ Î≤ÑÌäº ÌÅ¥Î¶≠Îê® - imageIndex:', imageIndex);\n    setSelectedVideoForIndex(imageIndex);\n    setVideoDialogOpen(true);\n    setLoadingVideos(true);\n\n    // ÌïÑÌÑ∞ Ï¥àÍ∏∞ÌôîÍ∞Ä ÏöîÏ≤≠Îêú Í≤ΩÏö∞\n    if (resetFilters) {\n      setVideoFilterTags([]);\n    }\n    try {\n      // ÌÉúÍ∑∏ ÌïÑÌÑ∞ Ï†ÅÏö©\n      const tagsParam = videoFilterTags.length > 0 ? `&tags=${videoFilterTags.join(',')}` : '';\n      const url = `http://localhost:8080/api/recent-videos?page=1&limit=10${tagsParam}`;\n      console.log('üåê API Ìò∏Ï∂ú URL:', url);\n      const response = await fetch(url);\n      console.log('üì° API ÏùëÎãµ ÏÉÅÌÉú:', response.status, response.statusText);\n      if (!response.ok) {\n        throw new Error(`ÏµúÍ∑º ÎèôÏòÅÏÉÅ Î™©Î°ùÏùÑ Í∞ÄÏ†∏Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§ (${response.status})`);\n      }\n      const data = await response.json();\n      console.log('üìä API ÏùëÎãµ Îç∞Ïù¥ÌÑ∞:', data);\n      if (data.status === 'success') {\n        setRecentVideos(data.videos);\n        setVideoPagination(data.pagination);\n        console.log('‚úÖ ÎπÑÎîîÏò§ Î™©Î°ù ÏÑ§Ï†ï ÏôÑÎ£å:', data.videos.length + 'Í∞ú');\n      } else {\n        throw new Error(data.message || 'ÎèôÏòÅÏÉÅ Î™©Î°ù Ï°∞Ìöå Ïã§Ìå®');\n      }\n    } catch (error) {\n      console.error('‚ùå ÏµúÍ∑º ÎèôÏòÅÏÉÅ Î°úÎî© Ïò§Î•ò:', error);\n      // ÏóêÎü¨ Î∞úÏÉù Ïãú Îπà Î∞∞Ïó¥Î°ú ÏÑ§Ï†ï\n      setRecentVideos([]);\n      setVideoPagination({\n        current_page: 1,\n        total_pages: 0,\n        total_items: 0,\n        has_next: false,\n        has_previous: false\n      });\n    } finally {\n      setLoadingVideos(false);\n    }\n  }, [videoFilterTags]);\n\n  // ÎπÑÎîîÏò§ Îã§Ïù¥ÏñºÎ°úÍ∑∏ ÌÉúÍ∑∏ ÌïÑÌÑ∞ÎßÅ Ìï®ÏàòÎì§\n  const addVideoFilterTag = useCallback(tag => {\n    if (!tag.trim() || videoFilterTags.includes(tag.trim())) return;\n    setVideoFilterTags(prev => [...prev, tag.trim()]);\n\n    // ÌïÑÌÑ∞Í∞Ä Î≥ÄÍ≤ΩÎêòÎ©¥ Ï≤´ ÌéòÏù¥ÏßÄÎ∂ÄÌÑ∞ Îã§Ïãú Î°úÎìú\n    if (selectedVideoForIndex !== null) {\n      handleLoadRecentVideos(selectedVideoForIndex);\n    }\n  }, [videoFilterTags, selectedVideoForIndex, handleLoadRecentVideos]);\n  const removeVideoFilterTag = useCallback(tagToRemove => {\n    setVideoFilterTags(prev => prev.filter(tag => tag !== tagToRemove));\n\n    // ÌïÑÌÑ∞Í∞Ä Î≥ÄÍ≤ΩÎêòÎ©¥ Ï≤´ ÌéòÏù¥ÏßÄÎ∂ÄÌÑ∞ Îã§Ïãú Î°úÎìú\n    if (selectedVideoForIndex !== null) {\n      handleLoadRecentVideos(selectedVideoForIndex);\n    }\n  }, [selectedVideoForIndex, handleLoadRecentVideos]);\n  const clearVideoFilters = useCallback(() => {\n    setVideoFilterTags([]);\n\n    // ÌïÑÌÑ∞ ÌÅ¥Î¶¨Ïñ¥ ÌõÑ Ï≤´ ÌéòÏù¥ÏßÄÎ∂ÄÌÑ∞ Îã§Ïãú Î°úÎìú\n    if (selectedVideoForIndex !== null) {\n      handleLoadRecentVideos(selectedVideoForIndex, true);\n    }\n  }, [selectedVideoForIndex, handleLoadRecentVideos]);\n\n  // ÌÖçÏä§Ìä∏-Ïù¥ÎØ∏ÏßÄ Ïåç Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ± (useMemoÎ°ú ÏµúÏ†ÅÌôî)\n  const textImagePairs = useMemo(() => {\n    const bodyTexts = Object.entries(content).filter(([key, value]) => key.startsWith('body') && (value === null || value === void 0 ? void 0 : value.trim())).map(([key, value], index) => ({\n      key,\n      value: value.trim(),\n      index\n    }));\n\n    // ÏúÑÏπò Ï†ïÎ≥¥Î•º Í∞ÄÏßÑ Ïù¥ÎØ∏ÏßÄÎì§ÏùÑ ÎßµÏúºÎ°ú ÏÉùÏÑ±\n    const imageMap = new Map();\n    images.forEach(img => {\n      const storedIndex = img.__imageIndex;\n      if (typeof storedIndex === 'number') {\n        imageMap.set(storedIndex, img);\n      }\n    });\n    console.log('üó∫Ô∏è createTextImagePairs - imageMap:', Array.from(imageMap.entries()).map(([idx, file]) => `${idx}:${file.name}`));\n    console.log('üìù bodyTexts Í∏∏Ïù¥:', bodyTexts.length, 'imageUploadMode:', imageUploadMode);\n    console.log('üîç Î∞õÏùÄ images Î∞∞Ïó¥:', images.map(img => `${img.name}(__imageIndex:${img.__imageIndex})`));\n    const pairs = [];\n    if (imageUploadMode === 'per-script') {\n      // ÌÖçÏä§Ìä∏ 1Í∞úÎãπ Ïù¥ÎØ∏ÏßÄ 1Í∞ú\n      bodyTexts.forEach(({\n        key,\n        value,\n        index\n      }) => {\n        const foundImage = imageMap.get(index);\n        const customPrompt = customPrompts[index];\n        console.log(`üìã per-script: textIndex=${index}, imageIndex=${index}, foundImage=${(foundImage === null || foundImage === void 0 ? void 0 : foundImage.name) || 'null'}`);\n        pairs.push({\n          textIndex: index,\n          textKey: key,\n          textContent: value,\n          image: foundImage || null,\n          imageIndex: index,\n          // Ïã§Ï†ú Ïù¥ÎØ∏ÏßÄ Ïù∏Îç±Ïä§ Ï†ÄÏû•\n          isGenerating: false,\n          customPrompt: (customPrompt === null || customPrompt === void 0 ? void 0 : customPrompt.prompt) || '',\n          useCustomPrompt: (customPrompt === null || customPrompt === void 0 ? void 0 : customPrompt.enabled) || false\n        });\n      });\n    } else if (imageUploadMode === 'per-two-scripts') {\n      // ÌÖçÏä§Ìä∏ 2Í∞úÎãπ Ïù¥ÎØ∏ÏßÄ 1Í∞ú\n      for (let i = 0; i < bodyTexts.length; i += 2) {\n        const imageIndex = Math.floor(i / 2);\n        const text1 = bodyTexts[i];\n        const text2 = bodyTexts[i + 1];\n        if (text1) {\n          const foundImage = imageMap.get(imageIndex);\n          const customPrompt = customPrompts[imageIndex];\n          console.log(`üìã per-two-scripts: textIndex=${i}, imageIndex=${imageIndex}, foundImage=${(foundImage === null || foundImage === void 0 ? void 0 : foundImage.name) || 'null'}`);\n          pairs.push({\n            textIndex: i,\n            textKey: `${text1.key}${text2 ? `+${text2.key}` : ''}`,\n            textContent: `${text1.value}${text2 ? ` / ${text2.value}` : ''}`,\n            image: foundImage || null,\n            imageIndex: imageIndex,\n            // Ïã§Ï†ú Ïù¥ÎØ∏ÏßÄ Ïù∏Îç±Ïä§ Ï†ÄÏû•\n            isGenerating: false,\n            customPrompt: (customPrompt === null || customPrompt === void 0 ? void 0 : customPrompt.prompt) || '',\n            useCustomPrompt: (customPrompt === null || customPrompt === void 0 ? void 0 : customPrompt.enabled) || false\n          });\n        }\n      }\n    } else if (imageUploadMode === 'single-for-all') {\n      // Î™®Îì† ÌÖçÏä§Ìä∏Ïóê Ïù¥ÎØ∏ÏßÄ 1Í∞ú\n      const allTexts = bodyTexts.map(({\n        key,\n        value\n      }) => key.replace('body', 'ÎåÄÏÇ¨')).join(' + ');\n      const allContent = bodyTexts.map(({\n        value\n      }) => value).join(' / ');\n      const foundImage = imageMap.get(0); // Ï≤´ Î≤àÏß∏ (Í∑∏Î¶¨Í≥† Ïú†ÏùºÌïú) Ïù¥ÎØ∏ÏßÄ\n      const customPrompt = customPrompts[0];\n      console.log(`üìã single-for-all: Î™®Îì† ÎåÄÏÇ¨, imageIndex=0, foundImage=${(foundImage === null || foundImage === void 0 ? void 0 : foundImage.name) || 'null'}`);\n      pairs.push({\n        textIndex: 0,\n        textKey: allTexts,\n        textContent: allContent,\n        image: foundImage || null,\n        imageIndex: 0,\n        // Ìï≠ÏÉÅ Ï≤´ Î≤àÏß∏ Ïù¥ÎØ∏ÏßÄ Ïù∏Îç±Ïä§ ÏÇ¨Ïö©\n        isGenerating: false,\n        customPrompt: (customPrompt === null || customPrompt === void 0 ? void 0 : customPrompt.prompt) || '',\n        useCustomPrompt: (customPrompt === null || customPrompt === void 0 ? void 0 : customPrompt.enabled) || false\n      });\n    }\n    console.log('üéØ ÏµúÏ¢Ö pairs Í∞úÏàò:', pairs.length);\n    return pairs;\n  }, [content, images, imageUploadMode, customPrompts]);\n\n  // Í∞úÎ≥Ñ Ïù¥ÎØ∏ÏßÄ ÏóÖÎ°úÎìú Ìï∏Îì§Îü¨\n  const handleIndividualImageUpload = useCallback((imageIndex, acceptedFiles) => {\n    if (acceptedFiles.length === 0) return;\n    const file = acceptedFiles[0];\n\n    // Í∏∞Ï°¥ ÏóêÎü¨ ÏÉÅÌÉú Ï†úÍ±∞\n    setUploadErrors(prev => {\n      const newErrors = {\n        ...prev\n      };\n      delete newErrors[imageIndex];\n      return newErrors;\n    });\n\n    // ÌååÏùº Ïú†Ìö®ÏÑ± Í≤ÄÏ¶ù (Î™®ÎìúÏóê Îî∞Îùº Îã§Î•∏ Ï†úÌïú)\n    const maxSize = imageUploadMode === 'single-for-all' ? 40 * 1024 * 1024 : 10 * 1024 * 1024;\n    const maxSizeText = imageUploadMode === 'single-for-all' ? '40MB' : '10MB';\n    if (file.size > maxSize) {\n      setUploadErrors(prev => ({\n        ...prev,\n        [imageIndex]: `ÌååÏùº ÌÅ¨Í∏∞Í∞Ä ${maxSizeText}Î•º Ï¥àÍ≥ºÌï©ÎãàÎã§`\n      }));\n      return;\n    }\n    const isImage = file.type.startsWith('image/');\n    const isVideo = file.type.startsWith('video/');\n    if (!isImage && !isVideo) {\n      setUploadErrors(prev => ({\n        ...prev,\n        [imageIndex]: 'Ïù¥ÎØ∏ÏßÄ ÎòêÎäî ÎπÑÎîîÏò§ ÌååÏùºÎßå ÏóÖÎ°úÎìú Í∞ÄÎä•Ìï©ÎãàÎã§'\n      }));\n      return;\n    }\n    console.log('üîß handleIndividualImageUpload - imageIndex:', imageIndex, 'fileName:', file.name);\n\n    // ÌååÏùºÏóê ÏúÑÏπò Ï†ïÎ≥¥ Ï∂îÍ∞Ä\n    file.__imageIndex = imageIndex;\n    console.log('üè∑Ô∏è ÌååÏùºÏóê __imageIndex ÏÑ§Ï†ï:', imageIndex);\n\n    // ÏµúÏã† images ÏÉÅÌÉúÎ•º Í∞ÄÏ†∏ÏôÄÏÑú ÏóÖÎç∞Ïù¥Ìä∏\n    const currentImages = imagesRef.current;\n    console.log('üîÑ ÏóÖÎç∞Ïù¥Ìä∏ Ï†Ñ currentImages (ref):', currentImages.map(img => `${img.name}(index:${img.__imageIndex})`));\n\n    // ÌòÑÏû¨ imagesÏóêÏÑú Ìï¥Îãπ imageIndexÎ•º Í∞ÄÏßÑ ÌååÏùº Ï†úÍ±∞ÌïòÍ≥† ÏÉà ÌååÏùº Ï∂îÍ∞Ä\n    const newImages = currentImages.filter(img => img.__imageIndex !== imageIndex);\n    newImages.push(file);\n\n    // imageIndex ÏàúÏúºÎ°ú Ï†ïÎ†¨\n    newImages.sort((a, b) => {\n      var _imageIndex, _imageIndex2;\n      const indexA = (_imageIndex = a.__imageIndex) !== null && _imageIndex !== void 0 ? _imageIndex : 0;\n      const indexB = (_imageIndex2 = b.__imageIndex) !== null && _imageIndex2 !== void 0 ? _imageIndex2 : 0;\n      return indexA - indexB;\n    });\n    console.log('üìä ÏóÖÎç∞Ïù¥Ìä∏Îêú images Î∞∞Ïó¥:', newImages.map(img => `${img.name}(index:${img.__imageIndex})`));\n    onChange(newImages, imageUploadMode);\n  }, [imageUploadMode, onChange]); // images ÏùòÏ°¥ÏÑ± Ï†úÍ±∞\n\n  // Í∞úÎ≥Ñ Ïù¥ÎØ∏ÏßÄ ÏûêÎèô ÏÉùÏÑ±\n  const handleIndividualGenerate = async (imageIndex, textContent, customPrompt, useCustomPrompt) => {\n    console.log('ü§ñ handleIndividualGenerate ÏãúÏûë - imageIndex:', imageIndex, 'textContent:', textContent, 'customPrompt:', customPrompt, 'useCustomPrompt:', useCustomPrompt);\n    setGenerationStatus(prev => ({\n      ...prev,\n      [imageIndex]: 'generating'\n    }));\n    try {\n      // ÏöîÏ≤≠ Î∞îÎîî Íµ¨ÏÑ±\n      let requestBody = {};\n\n      // job_id Ï∂îÍ∞Ä (job-based folder isolationÏùÑ ÏúÑÌï¥)\n      if (jobId) {\n        requestBody.job_id = jobId;\n        console.log('üÜî job_id Ï∂îÍ∞Ä:', jobId);\n      }\n      if (useCustomPrompt && customPrompt !== null && customPrompt !== void 0 && customPrompt.trim()) {\n        // Ïª§Ïä§ÌÖÄ ÌîÑÎ°¨ÌîÑÌä∏ ÏÇ¨Ïö©\n        requestBody.custom_prompt = customPrompt.trim();\n        console.log('üìù Ïª§Ïä§ÌÖÄ ÌîÑÎ°¨ÌîÑÌä∏ ÏÇ¨Ïö©:', customPrompt.trim());\n      } else {\n        // Í∏∞Ï°¥ ÌÖçÏä§Ìä∏ ÏÇ¨Ïö©\n        const texts = textContent.split(' / ');\n        requestBody.text = texts[0]; // Ï≤´ Î≤àÏß∏ ÌÖçÏä§Ìä∏ ÏÇ¨Ïö©\n        if (texts.length > 1) {\n          requestBody.additional_context = texts[1];\n        }\n        console.log('üìù Í∏∞Î≥∏ ÌÖçÏä§Ìä∏ ÏÇ¨Ïö©:', texts[0]);\n      }\n      const response = await fetch('/generate-single-image', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(requestBody)\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.detail || 'Ïù¥ÎØ∏ÏßÄ ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§');\n      }\n      const data = await response.json();\n      let imageUrl = data.image_url;\n\n      // job_idÍ∞Ä ÏûàÎäî Í≤ΩÏö∞ job-specific URLÎ°ú Î≥ÄÍ≤Ω\n      if (jobId && imageUrl.includes('/get-image/')) {\n        const fileName = imageUrl.split('/get-image/')[1];\n        imageUrl = `/job-uploads/${jobId}/${fileName}`;\n        console.log('üîÑ job-specific URLÎ°ú Î≥ÄÍ≤Ω:', imageUrl);\n      }\n\n      // ÏÉùÏÑ±Îêú Ïù¥ÎØ∏ÏßÄÎ•º Îã§Ïö¥Î°úÎìúÌïòÍ≥† File Í∞ùÏ≤¥Î°ú Î≥ÄÌôò\n      const imageResponse = await fetch(imageUrl);\n      if (!imageResponse.ok) {\n        throw new Error(`ÏÉùÏÑ±Îêú Ïù¥ÎØ∏ÏßÄ Îã§Ïö¥Î°úÎìúÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§: ${imageResponse.status}`);\n      }\n      const blob = await imageResponse.blob();\n      const fileName = `generated_image_pair_${imageIndex}.png`;\n      const file = new File([blob], fileName, {\n        type: 'image/png'\n      });\n      console.log('üì∏ Ïù¥ÎØ∏ÏßÄ ÏÉùÏÑ± ÏôÑÎ£å - fileName:', fileName, 'Ìò∏Ï∂úÌï† imageIndex:', imageIndex);\n\n      // Ïù¥ÎØ∏ÏßÄ Î∞∞Ïó¥ ÏóÖÎç∞Ïù¥Ìä∏\n      handleIndividualImageUpload(imageIndex, [file]);\n      setGenerationStatus(prev => ({\n        ...prev,\n        [imageIndex]: 'success'\n      }));\n      setTimeout(() => {\n        setGenerationStatus(prev => {\n          const newStatus = {\n            ...prev\n          };\n          delete newStatus[imageIndex];\n          return newStatus;\n        });\n      }, 3000);\n    } catch (error) {\n      console.error('Í∞úÎ≥Ñ Ïù¥ÎØ∏ÏßÄ ÏÉùÏÑ± Ïò§Î•ò:', error);\n      setGenerationStatus(prev => ({\n        ...prev,\n        [imageIndex]: 'error'\n      }));\n      setTimeout(() => {\n        setGenerationStatus(prev => {\n          const newStatus = {\n            ...prev\n          };\n          delete newStatus[imageIndex];\n          return newStatus;\n        });\n      }, 5000);\n    }\n  };\n\n  // Îçî ÎßéÏùÄ ÎèôÏòÅÏÉÅ Î∂àÎü¨Ïò§Í∏∞\n  const handleLoadMoreVideos = async () => {\n    if (!videoPagination.has_next || loadingMoreVideos) return;\n    setLoadingMoreVideos(true);\n    try {\n      const nextPage = videoPagination.current_page + 1;\n      // ÌÉúÍ∑∏ ÌïÑÌÑ∞ Ï†ÅÏö©\n      const tagsParam = videoFilterTags.length > 0 ? `&tags=${videoFilterTags.join(',')}` : '';\n      const response = await fetch(`/api/recent-videos?page=${nextPage}&limit=10${tagsParam}`);\n      if (!response.ok) {\n        throw new Error('Ï∂îÍ∞Ä ÎèôÏòÅÏÉÅ Î™©Î°ùÏùÑ Í∞ÄÏ†∏Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§');\n      }\n      const data = await response.json();\n      if (data.status === 'success') {\n        // Í∏∞Ï°¥ ÎèôÏòÅÏÉÅ Î™©Î°ùÏóê ÏÉà ÎèôÏòÅÏÉÅÎì§ Ï∂îÍ∞Ä\n        setRecentVideos(prev => [...prev, ...data.videos]);\n        setVideoPagination(data.pagination);\n      } else {\n        throw new Error(data.message || 'ÎèôÏòÅÏÉÅ Î™©Î°ù Ï°∞Ìöå Ïã§Ìå®');\n      }\n    } catch (error) {\n      console.error('Ï∂îÍ∞Ä ÎèôÏòÅÏÉÅ Î°úÎî© Ïò§Î•ò:', error);\n    } finally {\n      setLoadingMoreVideos(false);\n    }\n  };\n\n  // ÎèôÏòÅÏÉÅ ÏÑ†ÌÉù Ï≤òÎ¶¨\n  const handleVideoSelect = async video => {\n    if (selectedVideoForIndex === null) return;\n    try {\n      // ÎèôÏòÅÏÉÅ ÌååÏùºÏùÑ Îã§Ïö¥Î°úÎìúÌïòÏó¨ File Í∞ùÏ≤¥Î°ú Î≥ÄÌôò\n      const response = await fetch(video.path);\n      const blob = await response.blob();\n      const file = new File([blob], video.filename, {\n        type: 'video/mp4'\n      });\n\n      // ÏÑ†ÌÉùÎêú ÎèôÏòÅÏÉÅÏùÑ Ìï¥Îãπ Ïù∏Îç±Ïä§Ïóê ÏóÖÎ°úÎìú\n      handleIndividualImageUpload(selectedVideoForIndex, [file]);\n\n      // Îã§Ïù¥ÏñºÎ°úÍ∑∏ Îã´Í∏∞\n      setVideoDialogOpen(false);\n      setSelectedVideoForIndex(null);\n    } catch (error) {\n      console.error('ÎèôÏòÅÏÉÅ ÏÑ†ÌÉù Ïò§Î•ò:', error);\n    }\n  };\n\n  // Í∞úÎ≥Ñ Ïù¥ÎØ∏ÏßÄ ÏÇ≠Ï†ú (Í∞úÏÑ†Îê®)\n  const handleRemoveImage = imageIndex => {\n    console.log('üóëÔ∏è Ïù¥ÎØ∏ÏßÄ ÏÇ≠Ï†ú ÏöîÏ≤≠ - imageIndex:', imageIndex);\n\n    // ÏµúÏã† images ÏÉÅÌÉúÎ•º Í∞ÄÏ†∏ÏôÄÏÑú ÏÇ≠Ï†ú\n    const currentImages = imagesRef.current;\n    const newImages = currentImages.filter(img => img.__imageIndex !== imageIndex);\n\n    // Ìï¥Îãπ Ïù∏Îç±Ïä§Ïùò ÏóêÎü¨ ÏÉÅÌÉúÎèÑ Ìï®Íªò Ï†úÍ±∞\n    setUploadErrors(prev => {\n      const newErrors = {\n        ...prev\n      };\n      delete newErrors[imageIndex];\n      return newErrors;\n    });\n\n    // ÏÉùÏÑ± ÏÉÅÌÉúÎèÑ Ìï®Íªò Ï†úÍ±∞\n    setGenerationStatus(prev => {\n      const newStatus = {\n        ...prev\n      };\n      delete newStatus[imageIndex];\n      return newStatus;\n    });\n    console.log('‚úÖ Ïù¥ÎØ∏ÏßÄ ÏÇ≠Ï†ú ÏôÑÎ£å - imageIndex:', imageIndex);\n    console.log('üìä ÎÇ®ÏùÄ Ïù¥ÎØ∏ÏßÄ:', newImages.map(img => `${img.name}(index:${img.__imageIndex})`));\n    onChange(newImages, imageUploadMode);\n  };\n\n  // Í∞úÎ≥Ñ Ïù¥ÎØ∏ÏßÄ Îã§Ïö¥Î°úÎìú\n  const handleDownloadImage = async (imageIndex, image) => {\n    try {\n      // ÏÉùÏÑ±Îêú Ïù¥ÎØ∏ÏßÄÏù∏ÏßÄ ÌôïÏù∏ (filenameÏúºÎ°ú ÌåêÎã®)\n      if (image.name.startsWith('generated_')) {\n        // Î∞±ÏóîÎìú Îã§Ïö¥Î°úÎìú APIÎ•º ÌÜµÌï¥ Îã§Ïö¥Î°úÎìú\n        const link = document.createElement('a');\n        link.href = `/download-image/${image.name}`;\n        link.download = `reels_image_${imageIndex + 1}.png`;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      } else {\n        // ÏóÖÎ°úÎìúÎêú ÌååÏùºÏùÄ ÏßÅÏ†ë Îã§Ïö¥Î°úÎìú\n        const url = URL.createObjectURL(image);\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = `reels_image_${imageIndex + 1}_${image.name}`;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        URL.revokeObjectURL(url);\n      }\n      console.log('üíæ Ïù¥ÎØ∏ÏßÄ Îã§Ïö¥Î°úÎìú ÏôÑÎ£å - imageIndex:', imageIndex, 'fileName:', image.name);\n    } catch (error) {\n      console.error('Ïù¥ÎØ∏ÏßÄ Îã§Ïö¥Î°úÎìú Ïò§Î•ò:', error);\n    }\n  };\n\n  // ÎπÑÎîîÏò§ ÎØ∏Î¶¨Î≥¥Í∏∞ Ïª¥Ìè¨ÎÑåÌä∏ (Î∏åÎùºÏö∞Ï†Ä ÏßÅÏ†ë Ïû¨ÏÉù)\n  const VideoPreview = /*#__PURE__*/_s(/*#__PURE__*/memo(_s(({\n    file\n  }) => {\n    _s();\n    const [videoUrl, setVideoUrl] = useState(null);\n    useEffect(() => {\n      // Î∏åÎùºÏö∞Ï†ÄÏóêÏÑú ÏßÅÏ†ë Ïû¨ÏÉùÌï† Ïàò ÏûàÎèÑÎ°ù URL ÏÉùÏÑ±\n      const url = URL.createObjectURL(file);\n      setVideoUrl(url);\n      return () => {\n        if (url) {\n          URL.revokeObjectURL(url);\n        }\n      };\n    }, [file]);\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        position: 'relative'\n      },\n      children: [videoUrl && /*#__PURE__*/_jsxDEV(\"video\", {\n        src: videoUrl,\n        style: {\n          width: '100%',\n          aspectRatio: '1/1',\n          objectFit: 'cover',\n          borderRadius: '8px'\n        },\n        autoPlay: true,\n        muted: true,\n        loop: true,\n        playsInline: true,\n        controls: false,\n        onError: e => {\n          console.error('ÎπÑÎîîÏò§ Ïû¨ÏÉù Ïò§Î•ò:', e);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 639,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          position: 'absolute',\n          top: 8,\n          left: 8,\n          bgcolor: 'rgba(0,0,0,0.7)',\n          borderRadius: 1,\n          p: 0.5,\n          display: 'flex',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(MovieIcon, {\n          sx: {\n            fontSize: 16,\n            color: 'white'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 671,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"caption\",\n          color: \"white\",\n          sx: {\n            ml: 0.5\n          },\n          children: \"\\uC601\\uC0C1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 672,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 659,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 637,\n      columnNumber: 7\n    }, this);\n  }, \"nkRZTjcntyJfhojS751MifEn6dQ=\")), \"nkRZTjcntyJfhojS751MifEn6dQ=\");\n\n  // Í∞úÎ≥Ñ ÎìúÎûòÍ∑∏Ïï§ÎìúÎ°≠ Ïª¥Ìè¨ÎÑåÌä∏ (React.memoÎ°ú ÏµúÏ†ÅÌôî)\n  const IndividualDropZone = /*#__PURE__*/_s2(/*#__PURE__*/memo(_s2(({\n    imageIndex,\n    pair\n  }) => {\n    _s2();\n    const onDrop = useCallback(acceptedFiles => {\n      handleIndividualImageUpload(imageIndex, acceptedFiles);\n    }, [imageIndex]);\n    const {\n      getRootProps,\n      getInputProps,\n      isDragActive\n    } = useDropzone({\n      onDrop,\n      accept: {\n        'image/*': ['.jpeg', '.jpg', '.png', '.gif', '.webp', '.bmp'],\n        'video/*': ['.mp4', '.mov', '.avi', '.webm', '.mkv']\n      },\n      maxFiles: 1,\n      multiple: false\n    });\n    const isGenerating = generationStatus[imageIndex] === 'generating';\n    const generationError = generationStatus[imageIndex] === 'error';\n    const generationSuccess = generationStatus[imageIndex] === 'success';\n    const uploadError = uploadErrors[imageIndex];\n    const isPromptExpanded = promptsExpanded[imageIndex] || false;\n    const currentCustomPrompt = customPrompts[imageIndex];\n\n    // refÎ•º ÌÜµÌïú Ìè¨Ïª§Ïä§ Ïú†ÏßÄ\n    const textFieldRef = useRef(null);\n\n    // Î°úÏª¨ ÏÉÅÌÉúÎ°ú ÏûÖÎ†•Í∞í Í¥ÄÎ¶¨ (Ìè¨Ïª§Ïä§ Ïú†ÏßÄÎ•º ÏúÑÌï¥)\n    const [localPromptValue, setLocalPromptValue] = useState((currentCustomPrompt === null || currentCustomPrompt === void 0 ? void 0 : currentCustomPrompt.prompt) || '');\n    const [isInitialized, setIsInitialized] = useState(false);\n    const [lastUpdateTime, setLastUpdateTime] = useState(0);\n\n    // Ï¥àÍ∏∞Ìôî ÏãúÏóêÎßå Ïô∏Î∂Ä ÏÉÅÌÉúÎ•º Î°úÏª¨ ÏÉÅÌÉúÏóê ÎèôÍ∏∞Ìôî\n    useEffect(() => {\n      if (!isInitialized) {\n        setLocalPromptValue((currentCustomPrompt === null || currentCustomPrompt === void 0 ? void 0 : currentCustomPrompt.prompt) || '');\n        setIsInitialized(true);\n      }\n    }, [currentCustomPrompt === null || currentCustomPrompt === void 0 ? void 0 : currentCustomPrompt.prompt, isInitialized]);\n\n    // ÎîîÎ∞îÏö¥Ïä§Î•º ÏúÑÌïú useEffect - Ïô∏Î∂Ä ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏ Î∞©ÏßÄ\n    useEffect(() => {\n      if (!localPromptValue.trim() && !(currentCustomPrompt !== null && currentCustomPrompt !== void 0 && currentCustomPrompt.prompt)) {\n        return; // Îπà Í∞íÏù∏ Í≤ΩÏö∞ ÏóÖÎç∞Ïù¥Ìä∏ ÌïòÏßÄ ÏïäÏùå\n      }\n      const timeoutId = setTimeout(() => {\n        var _customPrompts$imageI;\n        const currentExternalValue = ((_customPrompts$imageI = customPrompts[imageIndex]) === null || _customPrompts$imageI === void 0 ? void 0 : _customPrompts$imageI.prompt) || '';\n        if (localPromptValue !== currentExternalValue) {\n          var _customPrompts$imageI2;\n          // ÌÅ¥Î°úÏ†ÄÎ•º ÏÇ¨Ïö©ÌïòÏó¨ Ìï®Ïàò Ìò∏Ï∂ú ÏãúÏ†êÏùò Í∞íÏùÑ Ï∫°Ï≤ò\n          const enabled = ((_customPrompts$imageI2 = customPrompts[imageIndex]) === null || _customPrompts$imageI2 === void 0 ? void 0 : _customPrompts$imageI2.enabled) || false;\n          updateCustomPrompt(imageIndex, localPromptValue, enabled);\n        }\n      }, 1000); // 1Ï¥àÎ°ú ÎäòÎ†§ÏÑú Îçî ÏïàÏ†ïÏ†ÅÏúºÎ°ú\n\n      return () => clearTimeout(timeoutId);\n    }, [localPromptValue, imageIndex]);\n\n    // Ïª§Ïä§ÌÖÄ ÌîÑÎ°¨ÌîÑÌä∏ Î≥ÄÍ≤Ω Ìï∏Îì§Îü¨ (Î°úÏª¨ ÏÉÅÌÉúÎßå ÏóÖÎç∞Ïù¥Ìä∏)\n    const handleCustomPromptChange = useCallback(prompt => {\n      setLocalPromptValue(prompt);\n    }, []);\n\n    // Ïª§Ïä§ÌÖÄ ÌîÑÎ°¨ÌîÑÌä∏ ÌôúÏÑ±Ìôî/ÎπÑÌôúÏÑ±Ìôî Ìï∏Îì§Îü¨\n    const handleCustomPromptToggle = useCallback(enabled => {\n      updateCustomPrompt(imageIndex, localPromptValue, enabled);\n    }, [imageIndex, localPromptValue, updateCustomPrompt]);\n    return /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column'\n      },\n      children: [/*#__PURE__*/_jsxDEV(CardContent, {\n        sx: {\n          flex: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          sx: {\n            fontSize: '0.9rem',\n            fontWeight: 600,\n            color: 'primary.main',\n            mb: 2\n          },\n          children: pair.textKey.replace('body', 'ÎåÄÏÇ¨ ').replace('+body', ' + ÎåÄÏÇ¨ ')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 754,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          sx: {\n            mb: 2,\n            p: 1.5,\n            bgcolor: 'grey.50',\n            borderRadius: 1,\n            border: '1px solid',\n            borderColor: 'grey.200',\n            fontSize: '0.8rem',\n            lineHeight: 1.4\n          },\n          children: pair.textContent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 763,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'space-between',\n              mb: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              color: \"text.secondary\",\n              sx: {\n                fontWeight: 600\n              },\n              children: \"AI \\uC0DD\\uC131 \\uC635\\uC158\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 779,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n              size: \"small\",\n              onClick: () => togglePromptExpanded(imageIndex),\n              sx: {\n                p: 0.5\n              },\n              children: isPromptExpanded ? /*#__PURE__*/_jsxDEV(ExpandLess, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 787,\n                columnNumber: 37\n              }, this) : /*#__PURE__*/_jsxDEV(ExpandMore, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 787,\n                columnNumber: 71\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 782,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 778,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n            in: isPromptExpanded,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                bgcolor: 'rgba(25, 118, 210, 0.04)',\n                p: 1.5,\n                borderRadius: 1,\n                border: '1px solid rgba(25, 118, 210, 0.12)'\n              },\n              children: [/*#__PURE__*/_jsxDEV(FormControlLabel, {\n                control: /*#__PURE__*/_jsxDEV(Switch, {\n                  checked: (currentCustomPrompt === null || currentCustomPrompt === void 0 ? void 0 : currentCustomPrompt.enabled) || false,\n                  onChange: e => handleCustomPromptToggle(e.target.checked),\n                  size: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 795,\n                  columnNumber: 21\n                }, this),\n                label: /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  sx: {\n                    fontWeight: 500\n                  },\n                  children: \"\\uCEE4\\uC2A4\\uD140 \\uD504\\uB86C\\uD504\\uD2B8 \\uC0AC\\uC6A9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 802,\n                  columnNumber: 21\n                }, this),\n                sx: {\n                  mb: 1,\n                  ml: 0\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 793,\n                columnNumber: 17\n              }, this), (currentCustomPrompt === null || currentCustomPrompt === void 0 ? void 0 : currentCustomPrompt.enabled) && /*#__PURE__*/_jsxDEV(TextField, {\n                inputRef: textFieldRef,\n                fullWidth: true,\n                multiline: true,\n                rows: 2,\n                size: \"small\",\n                placeholder: \"\\uC774\\uBBF8\\uC9C0 \\uC0DD\\uC131\\uC744 \\uC704\\uD55C \\uCEE4\\uC2A4\\uD140 \\uD504\\uB86C\\uD504\\uD2B8\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694...\",\n                value: localPromptValue,\n                onChange: e => handleCustomPromptChange(e.target.value),\n                variant: \"outlined\",\n                sx: {\n                  '& .MuiOutlinedInput-root': {\n                    fontSize: '0.75rem',\n                    bgcolor: 'white'\n                  }\n                },\n                helperText: \"\\uC2E4\\uC81C \\uC601\\uC0C1\\uC5D0\\uC11C\\uB294 \\uAE30\\uC874 \\uB300\\uC0AC\\uAC00 \\uC0AC\\uC6A9\\uB418\\uBA70, \\uC774 \\uD504\\uB86C\\uD504\\uD2B8\\uB294 \\uC774\\uBBF8\\uC9C0 \\uC0DD\\uC131\\uC5D0\\uB9CC \\uC0AC\\uC6A9\\uB429\\uB2C8\\uB2E4.\",\n                autoComplete: \"off\",\n                spellCheck: \"false\"\n              }, `prompt-input-${imageIndex}-stable`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 810,\n                columnNumber: 19\n              }, this), !(currentCustomPrompt !== null && currentCustomPrompt !== void 0 && currentCustomPrompt.enabled) && /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                color: \"text.secondary\",\n                sx: {\n                  fontStyle: 'italic'\n                },\n                children: \"\\uAE30\\uBCF8 \\uBAA8\\uB4DC: \\uC704\\uC758 \\uB300\\uC0AC \\uB0B4\\uC6A9\\uC744 \\uAE30\\uBC18\\uC73C\\uB85C \\uC774\\uBBF8\\uC9C0\\uB97C \\uC0DD\\uC131\\uD569\\uB2C8\\uB2E4.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 834,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 792,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 791,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 777,\n          columnNumber: 11\n        }, this), pair.image ? /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            position: 'relative',\n            mb: 2\n          },\n          children: [pair.image.type.startsWith('video/') ? /*#__PURE__*/_jsxDEV(VideoPreview, {\n            file: pair.image\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 846,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              width: '100%',\n              aspectRatio: '1/1',\n              backgroundImage: `url(${URL.createObjectURL(pair.image)})`,\n              backgroundSize: 'cover',\n              backgroundPosition: 'center',\n              borderRadius: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 848,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              position: 'absolute',\n              top: 8,\n              right: 8,\n              display: 'flex',\n              gap: 0.5\n            },\n            children: [/*#__PURE__*/_jsxDEV(IconButton, {\n              size: \"small\",\n              onClick: () => handleDownloadImage(imageIndex, pair.image),\n              sx: {\n                bgcolor: 'rgba(255,255,255,0.9)',\n                '&:hover': {\n                  bgcolor: 'rgba(255,255,255,1)'\n                }\n              },\n              title: \"\\uC774\\uBBF8\\uC9C0 \\uB2E4\\uC6B4\\uB85C\\uB4DC\",\n              children: /*#__PURE__*/_jsxDEV(Download, {\n                color: \"success\",\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 877,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 868,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n              size: \"small\",\n              onClick: () => handleRemoveImage(imageIndex),\n              sx: {\n                bgcolor: 'rgba(255,255,255,0.9)',\n                '&:hover': {\n                  bgcolor: 'rgba(255,255,255,1)'\n                }\n              },\n              title: \"\\uC774\\uBBF8\\uC9C0 \\uC0AD\\uC81C\",\n              children: /*#__PURE__*/_jsxDEV(Delete, {\n                color: \"error\",\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 888,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 879,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n              size: \"small\",\n              onClick: () => {\n                console.log('üîÑ ÏÉàÎ°úÍ≥†Ïπ® Î≤ÑÌäº ÌÅ¥Î¶≠Îê® - imageIndex:', imageIndex, 'textContent:', pair.textContent);\n                handleIndividualGenerate(imageIndex, pair.textContent, currentCustomPrompt === null || currentCustomPrompt === void 0 ? void 0 : currentCustomPrompt.prompt, currentCustomPrompt === null || currentCustomPrompt === void 0 ? void 0 : currentCustomPrompt.enabled);\n              },\n              disabled: isGenerating,\n              sx: {\n                bgcolor: 'rgba(255,255,255,0.9)',\n                '&:hover': {\n                  bgcolor: 'rgba(255,255,255,1)'\n                }\n              },\n              title: \"\\uC774\\uBBF8\\uC9C0 \\uC7AC\\uC0DD\\uC131\",\n              children: isGenerating ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 909,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(Refresh, {\n                color: \"primary\",\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 911,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 890,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 861,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"caption\",\n            sx: {\n              position: 'absolute',\n              bottom: 4,\n              left: 8,\n              bgcolor: 'rgba(0,0,0,0.7)',\n              color: 'white',\n              px: 1,\n              py: 0.5,\n              borderRadius: 1\n            },\n            children: pair.image.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 916,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 844,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Box, {\n          ...getRootProps(),\n          sx: {\n            border: 2,\n            borderColor: isDragActive ? 'primary.main' : 'grey.300',\n            borderStyle: 'dashed',\n            borderRadius: 1,\n            p: 2,\n            textAlign: 'center',\n            cursor: 'pointer',\n            bgcolor: isDragActive ? 'action.hover' : 'background.paper',\n            mb: 2,\n            aspectRatio: '1/1',\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'center',\n            '&:hover': {\n              borderColor: 'primary.main',\n              bgcolor: 'action.hover'\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            ...getInputProps()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 952,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(CloudUpload, {\n              sx: {\n                fontSize: 32,\n                color: 'grey.400',\n                mb: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 954,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              color: \"text.secondary\",\n              sx: {\n                textAlign: 'center'\n              },\n              children: isDragActive ? 'ÌååÏùºÏùÑ ÎÜìÏúºÏÑ∏Ïöî' : 'ÎØ∏ÎîîÏñ¥ ÎìúÎûòÍ∑∏ ÎòêÎäî ÌÅ¥Î¶≠'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 955,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              color: \"text.secondary\",\n              sx: {\n                display: 'block',\n                mt: 0.5,\n                fontSize: '0.7rem',\n                textAlign: 'center'\n              },\n              children: [\"\\uCD5C\\uB300 \", imageUploadMode === 'single-for-all' ? '40MB' : '10MB']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 958,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 953,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 930,\n          columnNumber: 13\n        }, this), isGenerating && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"info\",\n          sx: {\n            mt: 1\n          },\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n              size: 16,\n              sx: {\n                mr: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 969,\n              columnNumber: 17\n            }, this), \"\\uC774\\uBBF8\\uC9C0 \\uC0DD\\uC131 \\uC911...\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 968,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 967,\n          columnNumber: 13\n        }, this), generationSuccess && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"success\",\n          sx: {\n            mt: 1\n          },\n          children: \"\\uC774\\uBBF8\\uC9C0 \\uC0DD\\uC131 \\uC644\\uB8CC!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 976,\n          columnNumber: 13\n        }, this), generationError && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          sx: {\n            mt: 1\n          },\n          children: \"\\uC774\\uBBF8\\uC9C0 \\uC0DD\\uC131 \\uC2E4\\uD328. \\uB2E4\\uC2DC \\uC2DC\\uB3C4\\uD574\\uC8FC\\uC138\\uC694.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 982,\n          columnNumber: 13\n        }, this), uploadError && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          sx: {\n            mt: 1\n          },\n          children: uploadError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 988,\n          columnNumber: 13\n        }, this), pair.image && /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mt: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"caption\",\n            color: \"text.secondary\",\n            sx: {\n              mb: 1,\n              display: 'block'\n            },\n            children: \"\\uD0DC\\uADF8 (\\uC120\\uD0DD\\uC0AC\\uD56D)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 996,\n            columnNumber: 15\n          }, this), mediaTags[imageIndex] && mediaTags[imageIndex].length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mb: 1,\n              display: 'flex',\n              flexWrap: 'wrap',\n              gap: 0.5\n            },\n            children: mediaTags[imageIndex].map((tag, tagIndex) => /*#__PURE__*/_jsxDEV(Chip, {\n              label: tag,\n              size: \"small\",\n              onDelete: () => removeTag(imageIndex, tag),\n              color: \"primary\",\n              variant: \"outlined\"\n            }, tagIndex, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1004,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1002,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            size: \"small\",\n            placeholder: \"\\uD0DC\\uADF8 \\uC785\\uB825 \\uD6C4 Enter\",\n            value: tagInputs[imageIndex] || '',\n            onChange: e => handleTagInputChange(imageIndex, e.target.value),\n            onKeyPress: e => handleTagInputKeyPress(imageIndex, e),\n            fullWidth: true,\n            variant: \"outlined\",\n            sx: {\n              '& .MuiOutlinedInput-root': {\n                fontSize: '0.875rem',\n                height: '36px'\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1017,\n            columnNumber: 15\n          }, this), availableTags.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              color: \"text.secondary\",\n              sx: {\n                display: 'block',\n                mb: 0.5\n              },\n              children: \"\\uCD94\\uCC9C \\uD0DC\\uADF8:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1036,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                flexWrap: 'wrap',\n                gap: 0.5\n              },\n              children: availableTags.slice(0, 6).map((tag, tagIndex) => /*#__PURE__*/_jsxDEV(Chip, {\n                label: tag,\n                size: \"small\",\n                variant: \"outlined\",\n                clickable: true,\n                onClick: () => addTag(imageIndex, tag),\n                sx: {\n                  fontSize: '0.75rem',\n                  height: '24px',\n                  '&:hover': {\n                    bgcolor: 'primary.light'\n                  }\n                }\n              }, tagIndex, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1041,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1039,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1035,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 995,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 752,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          p: 1.5,\n          pt: 0\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          fullWidth: true,\n          variant: \"outlined\",\n          size: \"small\",\n          startIcon: /*#__PURE__*/_jsxDEV(AutoFixHigh, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1068,\n            columnNumber: 24\n          }, this),\n          onClick: () => {\n            console.log('üñ±Ô∏è ÏûêÎèôÏÉùÏÑ± Î≤ÑÌäº ÌÅ¥Î¶≠Îê® - imageIndex:', imageIndex, 'textContent:', pair.textContent);\n            handleIndividualGenerate(imageIndex, pair.textContent, currentCustomPrompt === null || currentCustomPrompt === void 0 ? void 0 : currentCustomPrompt.prompt, currentCustomPrompt === null || currentCustomPrompt === void 0 ? void 0 : currentCustomPrompt.enabled);\n          },\n          disabled: isGenerating,\n          sx: {\n            bgcolor: currentCustomPrompt !== null && currentCustomPrompt !== void 0 && currentCustomPrompt.enabled ? 'rgba(25, 118, 210, 0.08)' : 'transparent',\n            borderColor: currentCustomPrompt !== null && currentCustomPrompt !== void 0 && currentCustomPrompt.enabled ? 'primary.main' : 'grey.300',\n            color: currentCustomPrompt !== null && currentCustomPrompt !== void 0 && currentCustomPrompt.enabled ? 'primary.main' : 'text.primary',\n            '&:hover': {\n              bgcolor: currentCustomPrompt !== null && currentCustomPrompt !== void 0 && currentCustomPrompt.enabled ? 'rgba(25, 118, 210, 0.12)' : 'action.hover'\n            }\n          },\n          children: isGenerating ? 'ÏÉùÏÑ±Ï§ë...' : currentCustomPrompt !== null && currentCustomPrompt !== void 0 && currentCustomPrompt.enabled ? 'Ïª§Ïä§ÌÖÄ ÌîÑÎ°¨ÌîÑÌä∏Î°ú ÏÉùÏÑ±' : 'AI ÏûêÎèôÏÉùÏÑ±'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1064,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          fullWidth: true,\n          variant: \"text\",\n          size: \"small\",\n          startIcon: /*#__PURE__*/_jsxDEV(VideoLibrary, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1096,\n            columnNumber: 24\n          }, this),\n          onClick: () => handleLoadRecentVideos(imageIndex),\n          sx: {\n            mt: 1,\n            color: 'text.secondary',\n            '&:hover': {\n              bgcolor: 'action.hover',\n              color: 'primary.main'\n            }\n          },\n          children: \"\\uCD5C\\uADFC \\uB3D9\\uC601\\uC0C1 \\uBD88\\uB7EC\\uC624\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1092,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1063,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 751,\n      columnNumber: 7\n    }, this);\n  }, \"sDGpg5Y9h0DOXaEuNNeJtAt2FEo=\", false, function () {\n    return [useDropzone];\n  })), \"sDGpg5Y9h0DOXaEuNNeJtAt2FEo=\", false, function () {\n    return [useDropzone];\n  });\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      gutterBottom: true,\n      sx: {\n        mb: 3\n      },\n      children: \"\\uD14D\\uC2A4\\uD2B8-\\uC774\\uBBF8\\uC9C0 \\uB9E4\\uCE6D \\uAD00\\uB9AC\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      color: \"text.secondary\",\n      sx: {\n        mb: 3\n      },\n      children: [\"\\uAC01 \\uD14D\\uC2A4\\uD2B8\\uC5D0 \\uB300\\uC751\\uB418\\uB294 \\uC774\\uBBF8\\uC9C0\\uB97C \\uAC1C\\uBCC4\\uC801\\uC73C\\uB85C \\uAD00\\uB9AC\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uB4DC\\uB798\\uADF8\\uC564\\uB4DC\\uB86D\\uC73C\\uB85C \\uC774\\uBBF8\\uC9C0\\uB97C \\uC5C5\\uB85C\\uB4DC\\uD558\\uAC70\\uB098 AI\\uB85C \\uC790\\uB3D9 \\uC0DD\\uC131\\uD558\\uC138\\uC694.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        component: \"span\",\n        variant: \"caption\",\n        color: \"text.secondary\",\n        children: [\"\\uD30C\\uC77C \\uD06C\\uAE30 \\uC81C\\uD55C: \", imageUploadMode === 'single-for-all' ? 'ÏµúÎåÄ 40MB' : 'Í∞Å ÌååÏùº ÏµúÎåÄ 10MB']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      children: textImagePairs.map((pair, index) => /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(IndividualDropZone, {\n          imageIndex: pair.imageIndex,\n          pair: pair\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1132,\n          columnNumber: 13\n        }, this)\n      }, `dropzone-${pair.imageIndex}-${pair.textKey}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1131,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1129,\n      columnNumber: 7\n    }, this), textImagePairs.length === 0 && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"info\",\n      sx: {\n        mt: 2\n      },\n      children: \"\\uB300\\uBCF8\\uC744 \\uBA3C\\uC800 \\uC791\\uC131\\uD574\\uC8FC\\uC138\\uC694.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1138,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: videoDialogOpen,\n      onClose: () => setVideoDialogOpen(false),\n      maxWidth: \"lg\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(VideoLibrary, {\n            sx: {\n              mr: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1152,\n            columnNumber: 13\n          }, this), \"\\uCD5C\\uADFC \\uB3D9\\uC601\\uC0C1 \\uBD88\\uB7EC\\uC624\\uAE30\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1151,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1150,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 3,\n            p: 2,\n            bgcolor: 'grey.50',\n            borderRadius: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle2\",\n            sx: {\n              mb: 2,\n              fontWeight: 600\n            },\n            children: \"\\uD0DC\\uADF8 \\uD544\\uD130\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1159,\n            columnNumber: 13\n          }, this), videoFilterTags.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mb: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              color: \"text.secondary\",\n              sx: {\n                display: 'block',\n                mb: 1\n              },\n              children: \"\\uC801\\uC6A9\\uB41C \\uD544\\uD130:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1166,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                flexWrap: 'wrap',\n                gap: 0.5,\n                mb: 1\n              },\n              children: videoFilterTags.map((tag, index) => /*#__PURE__*/_jsxDEV(Chip, {\n                label: tag,\n                size: \"small\",\n                onDelete: () => removeVideoFilterTag(tag),\n                color: \"primary\"\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1171,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1169,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              size: \"small\",\n              onClick: clearVideoFilters,\n              variant: \"outlined\",\n              children: \"\\uD544\\uD130 \\uCD08\\uAE30\\uD654\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1180,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1165,\n            columnNumber: 15\n          }, this), availableTags.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              color: \"text.secondary\",\n              sx: {\n                display: 'block',\n                mb: 1\n              },\n              children: \"\\uD0DC\\uADF8 \\uC120\\uD0DD:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1189,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                flexWrap: 'wrap',\n                gap: 0.5\n              },\n              children: availableTags.map((tag, index) => {\n                const isSelected = videoFilterTags.includes(tag);\n                return /*#__PURE__*/_jsxDEV(Chip, {\n                  label: tag,\n                  size: \"small\",\n                  variant: isSelected ? \"filled\" : \"outlined\",\n                  color: isSelected ? \"primary\" : \"default\",\n                  clickable: true,\n                  onClick: () => {\n                    if (isSelected) {\n                      removeVideoFilterTag(tag);\n                    } else {\n                      addVideoFilterTag(tag);\n                    }\n                  },\n                  sx: {\n                    fontSize: '0.75rem',\n                    transition: 'all 0.2s',\n                    '&:hover': {\n                      bgcolor: isSelected ? 'primary.dark' : 'primary.light',\n                      transform: 'scale(1.05)'\n                    }\n                  }\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1196,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1192,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1188,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1158,\n          columnNumber: 11\n        }, this), loadingVideos ? /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'center',\n            p: 4\n          },\n          children: [/*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1227,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            sx: {\n              ml: 2\n            },\n            children: \"\\uB3D9\\uC601\\uC0C1 \\uBAA9\\uB85D\\uC744 \\uBD88\\uB7EC\\uC624\\uB294 \\uC911...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1228,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1226,\n          columnNumber: 13\n        }, this) : recentVideos.length === 0 ? /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"info\",\n          sx: {\n            mt: 2\n          },\n          children: \"\\uC0AC\\uC6A9 \\uAC00\\uB2A5\\uD55C \\uB3D9\\uC601\\uC0C1\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1231,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            sx: {\n              mt: 1\n            },\n            children: recentVideos.map((video, index) => /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              md: 4,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                sx: {\n                  cursor: 'pointer',\n                  '&:hover': {\n                    boxShadow: 3,\n                    transform: 'translateY(-2px)',\n                    transition: 'all 0.2s'\n                  }\n                },\n                onClick: () => handleVideoSelect(video),\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    position: 'relative',\n                    aspectRatio: '16/9',\n                    bgcolor: 'grey.100'\n                  },\n                  children: [video.thumbnailUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: video.thumbnailUrl,\n                    alt: video.filename,\n                    style: {\n                      width: '100%',\n                      height: '100%',\n                      objectFit: 'cover'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1253,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      height: '100%'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(MovieIcon, {\n                      sx: {\n                        fontSize: 48,\n                        color: 'grey.400'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1269,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1263,\n                    columnNumber: 25\n                  }, this), video.duration && /*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      position: 'absolute',\n                      bottom: 8,\n                      right: 8,\n                      bgcolor: 'rgba(0,0,0,0.7)',\n                      color: 'white',\n                      px: 1,\n                      py: 0.5,\n                      borderRadius: 1,\n                      fontSize: '0.75rem',\n                      fontWeight: 600\n                    },\n                    children: video.duration\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1275,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      position: 'absolute',\n                      top: '50%',\n                      left: '50%',\n                      transform: 'translate(-50%, -50%)',\n                      bgcolor: 'rgba(0,0,0,0.6)',\n                      borderRadius: '50%',\n                      p: 1,\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(MovieIcon, {\n                      sx: {\n                        color: 'white',\n                        fontSize: 24\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1304,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1292,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1250,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                  sx: {\n                    p: 1.5\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"caption\",\n                    sx: {\n                      fontWeight: 600,\n                      display: 'block',\n                      overflow: 'hidden',\n                      textOverflow: 'ellipsis',\n                      whiteSpace: 'nowrap'\n                    },\n                    children: video.filename\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1308,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"caption\",\n                    color: \"text.secondary\",\n                    sx: {\n                      display: 'block'\n                    },\n                    children: [\"\\uD06C\\uAE30: \", video.size]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1317,\n                    columnNumber: 23\n                  }, this), video.duration && /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"caption\",\n                    color: \"text.secondary\",\n                    sx: {\n                      display: 'block'\n                    },\n                    children: [\"\\uAE38\\uC774: \", video.duration]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1321,\n                    columnNumber: 25\n                  }, this), video.resolution && /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"caption\",\n                    color: \"text.secondary\",\n                    sx: {\n                      display: 'block'\n                    },\n                    children: [\"\\uD574\\uC0C1\\uB3C4: \", video.resolution]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1326,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"caption\",\n                    color: \"text.secondary\",\n                    sx: {\n                      display: 'block'\n                    },\n                    children: [\"\\uC218\\uC815\\uC77C: \", video.modifiedDate]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1330,\n                    columnNumber: 23\n                  }, this), video.tags && video.tags.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      mt: 1,\n                      display: 'flex',\n                      flexWrap: 'wrap',\n                      gap: 0.3\n                    },\n                    children: [video.tags.slice(0, 3).map((tag, tagIndex) => /*#__PURE__*/_jsxDEV(Chip, {\n                      label: tag,\n                      size: \"small\",\n                      color: \"primary\",\n                      variant: \"outlined\",\n                      sx: {\n                        fontSize: '0.65rem',\n                        height: '18px',\n                        '& .MuiChip-label': {\n                          px: 0.5\n                        }\n                      }\n                    }, tagIndex, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1338,\n                      columnNumber: 29\n                    }, this)), video.tags.length > 3 && /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"caption\",\n                      color: \"text.secondary\",\n                      children: [\"+\", video.tags.length - 3]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1354,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1336,\n                    columnNumber: 25\n                  }, this), video.is_favorite && /*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      mt: 0.5\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Chip, {\n                      label: \"\\uC990\\uACA8\\uCC3E\\uAE30\",\n                      size: \"small\",\n                      color: \"secondary\",\n                      sx: {\n                        fontSize: '0.65rem',\n                        height: '18px',\n                        '& .MuiChip-label': {\n                          px: 0.5\n                        }\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1364,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1363,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1307,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1239,\n                columnNumber: 19\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1238,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1236,\n            columnNumber: 15\n          }, this), recentVideos.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 3,\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              sx: {\n                mb: 2\n              },\n              children: [\"\\uCD1D \", videoPagination.total_items, \"\\uAC1C \\uC911 \", recentVideos.length, \"\\uAC1C \\uD45C\\uC2DC (\\uD398\\uC774\\uC9C0 \", videoPagination.current_page, \"/\", videoPagination.total_pages, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1388,\n              columnNumber: 19\n            }, this), videoPagination.has_next && /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              onClick: handleLoadMoreVideos,\n              disabled: loadingMoreVideos,\n              sx: {\n                minWidth: 120\n              },\n              startIcon: loadingMoreVideos ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1400,\n                columnNumber: 54\n              }, this) : undefined,\n              children: loadingMoreVideos ? 'Î°úÎî© Ï§ë...' : 'ÎçîÎ≥¥Í∏∞'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1395,\n              columnNumber: 21\n            }, this), !videoPagination.has_next && videoPagination.total_pages > 1 && /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              color: \"text.secondary\",\n              sx: {\n                mt: 1\n              },\n              children: \"\\uBAA8\\uB4E0 \\uB3D9\\uC601\\uC0C1\\uC744 \\uBD88\\uB7EC\\uC654\\uC2B5\\uB2C8\\uB2E4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1408,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1386,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setVideoDialogOpen(false),\n          children: \"\\uCDE8\\uC18C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1418,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1417,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1144,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1115,\n    columnNumber: 5\n  }, this);\n};\n_s3(TextImagePairManager, \"ac2RNyzXlYb8l1e1ipyr1Y5hMD4=\");\n_c = TextImagePairManager;\nexport default TextImagePairManager;\nvar _c;\n$RefreshReg$(_c, \"TextImagePairManager\");","map":{"version":3,"names":["React","useState","useCallback","useMemo","memo","useEffect","useRef","Box","Typography","Button","Grid","Card","CardContent","IconButton","Chip","Alert","CircularProgress","TextField","FormControlLabel","Switch","Collapse","Dialog","DialogTitle","DialogContent","DialogActions","CloudUpload","Delete","AutoFixHigh","Refresh","Download","ExpandMore","ExpandLess","Movie","MovieIcon","VideoLibrary","useDropzone","jsxDEV","_jsxDEV","Fragment","_Fragment","TextImagePairManager","content","imageUploadMode","images","onChange","jobId","_s3","_s","$RefreshSig$","_s2","generationStatus","setGenerationStatus","uploadErrors","setUploadErrors","customPrompts","setCustomPrompts","promptsExpanded","setPromptsExpanded","availableTags","setAvailableTags","mediaTags","setMediaTags","tagInputs","setTagInputs","loadingTags","setLoadingTags","videoDialogOpen","setVideoDialogOpen","recentVideos","setRecentVideos","loadingVideos","setLoadingVideos","loadingMoreVideos","setLoadingMoreVideos","selectedVideoForIndex","setSelectedVideoForIndex","videoPagination","setVideoPagination","current_page","total_pages","total_items","has_next","has_previous","videoFilterTags","setVideoFilterTags","imagesRef","current","fetchAvailableTags","response","fetch","ok","data","json","status","tags","error","console","updateCustomPrompt","imageIndex","prompt","enabled","prev","currentPrompt","togglePromptExpanded","addTag","tag","trim","trimmedTag","currentTags","includes","removeTag","tagToRemove","filter","handleTagInputChange","value","handleTagInputKeyPress","event","key","preventDefault","input","handleLoadRecentVideos","resetFilters","log","tagsParam","length","join","url","statusText","Error","videos","pagination","message","addVideoFilterTag","removeVideoFilterTag","clearVideoFilters","textImagePairs","bodyTexts","Object","entries","startsWith","map","index","imageMap","Map","forEach","img","storedIndex","__imageIndex","set","Array","from","idx","file","name","pairs","foundImage","get","customPrompt","push","textIndex","textKey","textContent","image","isGenerating","useCustomPrompt","i","Math","floor","text1","text2","allTexts","replace","allContent","handleIndividualImageUpload","acceptedFiles","newErrors","maxSize","maxSizeText","size","isImage","type","isVideo","currentImages","newImages","sort","a","b","_imageIndex","_imageIndex2","indexA","indexB","handleIndividualGenerate","requestBody","job_id","custom_prompt","texts","split","text","additional_context","method","headers","body","JSON","stringify","errorData","detail","imageUrl","image_url","fileName","imageResponse","blob","File","setTimeout","newStatus","handleLoadMoreVideos","nextPage","handleVideoSelect","video","path","filename","handleRemoveImage","handleDownloadImage","link","document","createElement","href","download","appendChild","click","removeChild","URL","createObjectURL","revokeObjectURL","VideoPreview","videoUrl","setVideoUrl","sx","position","children","src","style","width","aspectRatio","objectFit","borderRadius","autoPlay","muted","loop","playsInline","controls","onError","e","_jsxFileName","lineNumber","columnNumber","top","left","bgcolor","p","display","alignItems","fontSize","color","variant","ml","IndividualDropZone","pair","onDrop","getRootProps","getInputProps","isDragActive","accept","maxFiles","multiple","generationError","generationSuccess","uploadError","isPromptExpanded","currentCustomPrompt","textFieldRef","localPromptValue","setLocalPromptValue","isInitialized","setIsInitialized","lastUpdateTime","setLastUpdateTime","timeoutId","_customPrompts$imageI","currentExternalValue","_customPrompts$imageI2","clearTimeout","handleCustomPromptChange","handleCustomPromptToggle","height","flexDirection","flex","gutterBottom","fontWeight","mb","border","borderColor","lineHeight","justifyContent","onClick","in","control","checked","target","label","inputRef","fullWidth","multiline","rows","placeholder","helperText","autoComplete","spellCheck","fontStyle","backgroundImage","backgroundSize","backgroundPosition","right","gap","title","disabled","bottom","px","py","borderStyle","textAlign","cursor","mt","severity","mr","flexWrap","tagIndex","onDelete","onKeyPress","slice","clickable","pt","startIcon","component","container","spacing","item","xs","sm","md","open","onClose","maxWidth","isSelected","transition","transform","boxShadow","thumbnailUrl","alt","duration","overflow","textOverflow","whiteSpace","resolution","modifiedDate","is_favorite","minWidth","undefined","_c","$RefreshReg$"],"sources":["/zstus/frontend/src/components/TextImagePairManager.tsx"],"sourcesContent":["import React, { useState, useCallback, useMemo, memo, useEffect, useRef } from 'react';\nimport {\n  Box,\n  Paper,\n  Typography,\n  Button,\n  Grid,\n  Card,\n  CardContent,\n  IconButton,\n  Chip,\n  Alert,\n  CircularProgress,\n  TextField,\n  FormControlLabel,\n  Switch,\n  Collapse,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n} from '@mui/material';\nimport {\n  CloudUpload,\n  Delete,\n  AutoFixHigh,\n  Refresh,\n  Image as ImageIcon,\n  Download,\n  Edit as EditIcon,\n  ExpandMore,\n  ExpandLess,\n  Movie as MovieIcon,\n  Warning,\n  VideoLibrary\n} from '@mui/icons-material';\nimport { useDropzone } from 'react-dropzone';\nimport { ReelsContent, ImageUploadMode, TextImagePair, CustomPrompt } from '../types';\n\ninterface TextImagePairManagerProps {\n  content: ReelsContent;\n  imageUploadMode: ImageUploadMode;\n  images: File[];\n  onChange: (images: File[], mode: ImageUploadMode) => void;\n  jobId: string | null;  // Job ID Ï∂îÍ∞Ä\n}\n\nconst TextImagePairManager: React.FC<TextImagePairManagerProps> = ({\n  content,\n  imageUploadMode,\n  images,\n  onChange,\n  jobId,\n}) => {\n  const [generationStatus, setGenerationStatus] = useState<{ [key: string]: string }>({});\n  const [uploadErrors, setUploadErrors] = useState<{ [key: number]: string }>({});\n  const [customPrompts, setCustomPrompts] = useState<{ [key: number]: CustomPrompt }>({});\n  const [promptsExpanded, setPromptsExpanded] = useState<{ [key: number]: boolean }>({});\n\n  // ÌÉúÍ∑∏ Í¥ÄÎ¶¨ ÏÉÅÌÉú\n  const [availableTags, setAvailableTags] = useState<string[]>([]);\n  const [mediaTags, setMediaTags] = useState<{ [key: number]: string[] }>({});\n  const [tagInputs, setTagInputs] = useState<{ [key: number]: string }>({});\n  const [loadingTags, setLoadingTags] = useState(false);\n\n  // ÏµúÍ∑º ÎèôÏòÅÏÉÅ Í¥ÄÎ¶¨ ÏÉÅÌÉú\n  const [videoDialogOpen, setVideoDialogOpen] = useState(false);\n  const [recentVideos, setRecentVideos] = useState<Array<{\n    filename: string;\n    path: string;\n    thumbnailUrl: string | null;\n    size: string;\n    modifiedDate: string;\n    duration?: string;\n    resolution?: string;\n    fps?: string;\n    tags?: string[];\n    is_favorite?: boolean;\n  }>>([]);\n  const [loadingVideos, setLoadingVideos] = useState(false);\n  const [loadingMoreVideos, setLoadingMoreVideos] = useState(false);\n  const [selectedVideoForIndex, setSelectedVideoForIndex] = useState<number | null>(null);\n  const [videoPagination, setVideoPagination] = useState({\n    current_page: 1,\n    total_pages: 0,\n    total_items: 0,\n    has_next: false,\n    has_previous: false\n  });\n\n  // ÎπÑÎîîÏò§ Îã§Ïù¥ÏñºÎ°úÍ∑∏ ÌÉúÍ∑∏ ÌïÑÌÑ∞ÎßÅ ÏÉÅÌÉú\n  const [videoFilterTags, setVideoFilterTags] = useState<string[]>([]);\n\n  // ÏµúÏã† images ÏÉÅÌÉúÎ•º Ï∂îÏ†ÅÌïòÍ∏∞ ÏúÑÌïú ref\n  const imagesRef = useRef<File[]>(images);\n\n  // images propÏù¥ Î≥ÄÍ≤ΩÎê† ÎïåÎßàÎã§ ref ÏóÖÎç∞Ïù¥Ìä∏\n  useEffect(() => {\n    imagesRef.current = images;\n  }, [images]);\n\n  // ÏÇ¨Ïö© Í∞ÄÎä•Ìïú ÌÉúÍ∑∏ Î™©Î°ù Í∞ÄÏ†∏Ïò§Í∏∞\n  const fetchAvailableTags = useCallback(async () => {\n    if (loadingTags) return;\n\n    setLoadingTags(true);\n    try {\n      const response = await fetch('/media-assets/tags');\n      if (response.ok) {\n        const data = await response.json();\n        if (data.status === 'success') {\n          setAvailableTags(data.tags);\n        }\n      }\n    } catch (error) {\n      console.error('ÌÉúÍ∑∏ Î™©Î°ù Ï°∞Ìöå Ïã§Ìå®:', error);\n    } finally {\n      setLoadingTags(false);\n    }\n  }, [loadingTags]);\n\n  // Ïª¥Ìè¨ÎÑåÌä∏ ÎßàÏö¥Ìä∏ Ïãú ÌÉúÍ∑∏ Î™©Î°ù Í∞ÄÏ†∏Ïò§Í∏∞\n  useEffect(() => {\n    fetchAvailableTags();\n  }, [fetchAvailableTags]);\n\n  // Ïª§Ïä§ÌÖÄ ÌîÑÎ°¨ÌîÑÌä∏ Í¥ÄÎ¶¨ Ìï®ÏàòÎì§ (useCallbackÏúºÎ°ú ÏµúÏ†ÅÌôî)\n  const updateCustomPrompt = useCallback((imageIndex: number, prompt: string, enabled: boolean) => {\n    setCustomPrompts(prev => {\n      const currentPrompt = prev[imageIndex];\n      // Í∞íÏù¥ Í∞ôÏúºÎ©¥ ÏóÖÎç∞Ïù¥Ìä∏ÌïòÏßÄ ÏïäÏùå (Î∂àÌïÑÏöîÌïú Î¶¨Î†åÎçîÎßÅ Î∞©ÏßÄ)\n      if (currentPrompt &&\n          currentPrompt.prompt === prompt &&\n          currentPrompt.enabled === enabled) {\n        return prev;\n      }\n\n      return {\n        ...prev,\n        [imageIndex]: {\n          imageIndex,\n          prompt,\n          enabled\n        }\n      };\n    });\n  }, []);\n\n  const togglePromptExpanded = useCallback((imageIndex: number) => {\n    setPromptsExpanded(prev => ({\n      ...prev,\n      [imageIndex]: !prev[imageIndex]\n    }));\n  }, []);\n\n  // ÌÉúÍ∑∏ Í¥ÄÎ¶¨ Ìï®ÏàòÎì§\n  const addTag = useCallback((imageIndex: number, tag: string) => {\n    if (!tag.trim()) return;\n\n    const trimmedTag = tag.trim();\n    setMediaTags(prev => {\n      const currentTags = prev[imageIndex] || [];\n      if (currentTags.includes(trimmedTag)) return prev;\n\n      return {\n        ...prev,\n        [imageIndex]: [...currentTags, trimmedTag]\n      };\n    });\n\n    // ÏÉà ÌÉúÍ∑∏ÎùºÎ©¥ availableTagsÏóêÎèÑ Ï∂îÍ∞Ä\n    if (!availableTags.includes(trimmedTag)) {\n      setAvailableTags(prev => [...prev, trimmedTag]);\n    }\n\n    // ÏûÖÎ†• ÌïÑÎìú Ï¥àÍ∏∞Ìôî\n    setTagInputs(prev => ({ ...prev, [imageIndex]: '' }));\n  }, [availableTags]);\n\n  const removeTag = useCallback((imageIndex: number, tagToRemove: string) => {\n    setMediaTags(prev => ({\n      ...prev,\n      [imageIndex]: (prev[imageIndex] || []).filter(tag => tag !== tagToRemove)\n    }));\n  }, []);\n\n  const handleTagInputChange = useCallback((imageIndex: number, value: string) => {\n    setTagInputs(prev => ({ ...prev, [imageIndex]: value }));\n  }, []);\n\n  const handleTagInputKeyPress = useCallback((imageIndex: number, event: React.KeyboardEvent) => {\n    if (event.key === 'Enter') {\n      event.preventDefault();\n      const input = tagInputs[imageIndex] || '';\n      addTag(imageIndex, input);\n    }\n  }, [tagInputs, addTag]);\n\n  // ÏµúÍ∑º ÎèôÏòÅÏÉÅ Î∂àÎü¨Ïò§Í∏∞ (Ï≤´ ÌéòÏù¥ÏßÄ ÎòêÎäî ÌïÑÌÑ∞ Ï†ÅÏö©)\n  const handleLoadRecentVideos = useCallback(async (imageIndex: number, resetFilters: boolean = false) => {\n    console.log('üé¨ ÏµúÍ∑º ÎèôÏòÅÏÉÅ Î∂àÎü¨Ïò§Í∏∞ Î≤ÑÌäº ÌÅ¥Î¶≠Îê® - imageIndex:', imageIndex);\n\n    setSelectedVideoForIndex(imageIndex);\n    setVideoDialogOpen(true);\n    setLoadingVideos(true);\n\n    // ÌïÑÌÑ∞ Ï¥àÍ∏∞ÌôîÍ∞Ä ÏöîÏ≤≠Îêú Í≤ΩÏö∞\n    if (resetFilters) {\n      setVideoFilterTags([]);\n    }\n\n    try {\n      // ÌÉúÍ∑∏ ÌïÑÌÑ∞ Ï†ÅÏö©\n      const tagsParam = videoFilterTags.length > 0 ? `&tags=${videoFilterTags.join(',')}` : '';\n      const url = `http://localhost:8080/api/recent-videos?page=1&limit=10${tagsParam}`;\n      console.log('üåê API Ìò∏Ï∂ú URL:', url);\n\n      const response = await fetch(url);\n      console.log('üì° API ÏùëÎãµ ÏÉÅÌÉú:', response.status, response.statusText);\n\n      if (!response.ok) {\n        throw new Error(`ÏµúÍ∑º ÎèôÏòÅÏÉÅ Î™©Î°ùÏùÑ Í∞ÄÏ†∏Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§ (${response.status})`);\n      }\n\n      const data = await response.json();\n      console.log('üìä API ÏùëÎãµ Îç∞Ïù¥ÌÑ∞:', data);\n\n      if (data.status === 'success') {\n        setRecentVideos(data.videos);\n        setVideoPagination(data.pagination);\n        console.log('‚úÖ ÎπÑÎîîÏò§ Î™©Î°ù ÏÑ§Ï†ï ÏôÑÎ£å:', data.videos.length + 'Í∞ú');\n      } else {\n        throw new Error(data.message || 'ÎèôÏòÅÏÉÅ Î™©Î°ù Ï°∞Ìöå Ïã§Ìå®');\n      }\n    } catch (error) {\n      console.error('‚ùå ÏµúÍ∑º ÎèôÏòÅÏÉÅ Î°úÎî© Ïò§Î•ò:', error);\n      // ÏóêÎü¨ Î∞úÏÉù Ïãú Îπà Î∞∞Ïó¥Î°ú ÏÑ§Ï†ï\n      setRecentVideos([]);\n      setVideoPagination({\n        current_page: 1,\n        total_pages: 0,\n        total_items: 0,\n        has_next: false,\n        has_previous: false\n      });\n    } finally {\n      setLoadingVideos(false);\n    }\n  }, [videoFilterTags]);\n\n  // ÎπÑÎîîÏò§ Îã§Ïù¥ÏñºÎ°úÍ∑∏ ÌÉúÍ∑∏ ÌïÑÌÑ∞ÎßÅ Ìï®ÏàòÎì§\n  const addVideoFilterTag = useCallback((tag: string) => {\n    if (!tag.trim() || videoFilterTags.includes(tag.trim())) return;\n\n    setVideoFilterTags(prev => [...prev, tag.trim()]);\n\n    // ÌïÑÌÑ∞Í∞Ä Î≥ÄÍ≤ΩÎêòÎ©¥ Ï≤´ ÌéòÏù¥ÏßÄÎ∂ÄÌÑ∞ Îã§Ïãú Î°úÎìú\n    if (selectedVideoForIndex !== null) {\n      handleLoadRecentVideos(selectedVideoForIndex);\n    }\n  }, [videoFilterTags, selectedVideoForIndex, handleLoadRecentVideos]);\n\n  const removeVideoFilterTag = useCallback((tagToRemove: string) => {\n    setVideoFilterTags(prev => prev.filter(tag => tag !== tagToRemove));\n\n    // ÌïÑÌÑ∞Í∞Ä Î≥ÄÍ≤ΩÎêòÎ©¥ Ï≤´ ÌéòÏù¥ÏßÄÎ∂ÄÌÑ∞ Îã§Ïãú Î°úÎìú\n    if (selectedVideoForIndex !== null) {\n      handleLoadRecentVideos(selectedVideoForIndex);\n    }\n  }, [selectedVideoForIndex, handleLoadRecentVideos]);\n\n  const clearVideoFilters = useCallback(() => {\n    setVideoFilterTags([]);\n\n    // ÌïÑÌÑ∞ ÌÅ¥Î¶¨Ïñ¥ ÌõÑ Ï≤´ ÌéòÏù¥ÏßÄÎ∂ÄÌÑ∞ Îã§Ïãú Î°úÎìú\n    if (selectedVideoForIndex !== null) {\n      handleLoadRecentVideos(selectedVideoForIndex, true);\n    }\n  }, [selectedVideoForIndex, handleLoadRecentVideos]);\n\n  // ÌÖçÏä§Ìä∏-Ïù¥ÎØ∏ÏßÄ Ïåç Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ± (useMemoÎ°ú ÏµúÏ†ÅÌôî)\n  const textImagePairs = useMemo((): (TextImagePair & { imageIndex: number })[] => {\n    const bodyTexts = Object.entries(content)\n      .filter(([key, value]) => key.startsWith('body') && value?.trim())\n      .map(([key, value], index) => ({ key, value: value.trim(), index }));\n\n    // ÏúÑÏπò Ï†ïÎ≥¥Î•º Í∞ÄÏßÑ Ïù¥ÎØ∏ÏßÄÎì§ÏùÑ ÎßµÏúºÎ°ú ÏÉùÏÑ±\n    const imageMap = new Map<number, File>();\n    images.forEach(img => {\n      const storedIndex = (img as any).__imageIndex;\n      if (typeof storedIndex === 'number') {\n        imageMap.set(storedIndex, img);\n      }\n    });\n\n    console.log('üó∫Ô∏è createTextImagePairs - imageMap:', Array.from(imageMap.entries()).map(([idx, file]) => `${idx}:${file.name}`));\n    console.log('üìù bodyTexts Í∏∏Ïù¥:', bodyTexts.length, 'imageUploadMode:', imageUploadMode);\n    console.log('üîç Î∞õÏùÄ images Î∞∞Ïó¥:', images.map(img => `${img.name}(__imageIndex:${(img as any).__imageIndex})`));\n\n    const pairs: (TextImagePair & { imageIndex: number })[] = [];\n\n    if (imageUploadMode === 'per-script') {\n      // ÌÖçÏä§Ìä∏ 1Í∞úÎãπ Ïù¥ÎØ∏ÏßÄ 1Í∞ú\n      bodyTexts.forEach(({ key, value, index }) => {\n        const foundImage = imageMap.get(index);\n        const customPrompt = customPrompts[index];\n        console.log(`üìã per-script: textIndex=${index}, imageIndex=${index}, foundImage=${foundImage?.name || 'null'}`);\n        pairs.push({\n          textIndex: index,\n          textKey: key,\n          textContent: value,\n          image: foundImage || null,\n          imageIndex: index, // Ïã§Ï†ú Ïù¥ÎØ∏ÏßÄ Ïù∏Îç±Ïä§ Ï†ÄÏû•\n          isGenerating: false,\n          customPrompt: customPrompt?.prompt || '',\n          useCustomPrompt: customPrompt?.enabled || false,\n        });\n      });\n    } else if (imageUploadMode === 'per-two-scripts') {\n      // ÌÖçÏä§Ìä∏ 2Í∞úÎãπ Ïù¥ÎØ∏ÏßÄ 1Í∞ú\n      for (let i = 0; i < bodyTexts.length; i += 2) {\n        const imageIndex = Math.floor(i / 2);\n        const text1 = bodyTexts[i];\n        const text2 = bodyTexts[i + 1];\n\n        if (text1) {\n          const foundImage = imageMap.get(imageIndex);\n          const customPrompt = customPrompts[imageIndex];\n          console.log(`üìã per-two-scripts: textIndex=${i}, imageIndex=${imageIndex}, foundImage=${foundImage?.name || 'null'}`);\n          pairs.push({\n            textIndex: i,\n            textKey: `${text1.key}${text2 ? `+${text2.key}` : ''}`,\n            textContent: `${text1.value}${text2 ? ` / ${text2.value}` : ''}`,\n            image: foundImage || null,\n            imageIndex: imageIndex, // Ïã§Ï†ú Ïù¥ÎØ∏ÏßÄ Ïù∏Îç±Ïä§ Ï†ÄÏû•\n            isGenerating: false,\n            customPrompt: customPrompt?.prompt || '',\n            useCustomPrompt: customPrompt?.enabled || false,\n          });\n        }\n      }\n    } else if (imageUploadMode === 'single-for-all') {\n      // Î™®Îì† ÌÖçÏä§Ìä∏Ïóê Ïù¥ÎØ∏ÏßÄ 1Í∞ú\n      const allTexts = bodyTexts.map(({ key, value }) => key.replace('body', 'ÎåÄÏÇ¨')).join(' + ');\n      const allContent = bodyTexts.map(({ value }) => value).join(' / ');\n      const foundImage = imageMap.get(0); // Ï≤´ Î≤àÏß∏ (Í∑∏Î¶¨Í≥† Ïú†ÏùºÌïú) Ïù¥ÎØ∏ÏßÄ\n      const customPrompt = customPrompts[0];\n\n      console.log(`üìã single-for-all: Î™®Îì† ÎåÄÏÇ¨, imageIndex=0, foundImage=${foundImage?.name || 'null'}`);\n      pairs.push({\n        textIndex: 0,\n        textKey: allTexts,\n        textContent: allContent,\n        image: foundImage || null,\n        imageIndex: 0, // Ìï≠ÏÉÅ Ï≤´ Î≤àÏß∏ Ïù¥ÎØ∏ÏßÄ Ïù∏Îç±Ïä§ ÏÇ¨Ïö©\n        isGenerating: false,\n        customPrompt: customPrompt?.prompt || '',\n        useCustomPrompt: customPrompt?.enabled || false,\n      });\n    }\n\n    console.log('üéØ ÏµúÏ¢Ö pairs Í∞úÏàò:', pairs.length);\n    return pairs;\n  }, [content, images, imageUploadMode, customPrompts]);\n\n  // Í∞úÎ≥Ñ Ïù¥ÎØ∏ÏßÄ ÏóÖÎ°úÎìú Ìï∏Îì§Îü¨\n  const handleIndividualImageUpload = useCallback((imageIndex: number, acceptedFiles: File[]) => {\n    if (acceptedFiles.length === 0) return;\n\n    const file = acceptedFiles[0];\n\n    // Í∏∞Ï°¥ ÏóêÎü¨ ÏÉÅÌÉú Ï†úÍ±∞\n    setUploadErrors(prev => {\n      const newErrors = { ...prev };\n      delete newErrors[imageIndex];\n      return newErrors;\n    });\n\n    // ÌååÏùº Ïú†Ìö®ÏÑ± Í≤ÄÏ¶ù (Î™®ÎìúÏóê Îî∞Îùº Îã§Î•∏ Ï†úÌïú)\n    const maxSize = imageUploadMode === 'single-for-all' ? 40 * 1024 * 1024 : 10 * 1024 * 1024;\n    const maxSizeText = imageUploadMode === 'single-for-all' ? '40MB' : '10MB';\n\n    if (file.size > maxSize) {\n      setUploadErrors(prev => ({ ...prev, [imageIndex]: `ÌååÏùº ÌÅ¨Í∏∞Í∞Ä ${maxSizeText}Î•º Ï¥àÍ≥ºÌï©ÎãàÎã§` }));\n      return;\n    }\n\n    const isImage = file.type.startsWith('image/');\n    const isVideo = file.type.startsWith('video/');\n\n    if (!isImage && !isVideo) {\n      setUploadErrors(prev => ({ ...prev, [imageIndex]: 'Ïù¥ÎØ∏ÏßÄ ÎòêÎäî ÎπÑÎîîÏò§ ÌååÏùºÎßå ÏóÖÎ°úÎìú Í∞ÄÎä•Ìï©ÎãàÎã§' }));\n      return;\n    }\n\n    console.log('üîß handleIndividualImageUpload - imageIndex:', imageIndex, 'fileName:', file.name);\n\n    // ÌååÏùºÏóê ÏúÑÏπò Ï†ïÎ≥¥ Ï∂îÍ∞Ä\n    (file as any).__imageIndex = imageIndex;\n    console.log('üè∑Ô∏è ÌååÏùºÏóê __imageIndex ÏÑ§Ï†ï:', imageIndex);\n\n    // ÏµúÏã† images ÏÉÅÌÉúÎ•º Í∞ÄÏ†∏ÏôÄÏÑú ÏóÖÎç∞Ïù¥Ìä∏\n    const currentImages = imagesRef.current;\n    console.log('üîÑ ÏóÖÎç∞Ïù¥Ìä∏ Ï†Ñ currentImages (ref):', currentImages.map(img => `${img.name}(index:${(img as any).__imageIndex})`));\n\n    // ÌòÑÏû¨ imagesÏóêÏÑú Ìï¥Îãπ imageIndexÎ•º Í∞ÄÏßÑ ÌååÏùº Ï†úÍ±∞ÌïòÍ≥† ÏÉà ÌååÏùº Ï∂îÍ∞Ä\n    const newImages = currentImages.filter(img => (img as any).__imageIndex !== imageIndex);\n    newImages.push(file);\n\n    // imageIndex ÏàúÏúºÎ°ú Ï†ïÎ†¨\n    newImages.sort((a, b) => {\n      const indexA = (a as any).__imageIndex ?? 0;\n      const indexB = (b as any).__imageIndex ?? 0;\n      return indexA - indexB;\n    });\n\n    console.log('üìä ÏóÖÎç∞Ïù¥Ìä∏Îêú images Î∞∞Ïó¥:', newImages.map(img => `${img.name}(index:${(img as any).__imageIndex})`));\n\n    onChange(newImages, imageUploadMode);\n  }, [imageUploadMode, onChange]); // images ÏùòÏ°¥ÏÑ± Ï†úÍ±∞\n\n  // Í∞úÎ≥Ñ Ïù¥ÎØ∏ÏßÄ ÏûêÎèô ÏÉùÏÑ±\n  const handleIndividualGenerate = async (imageIndex: number, textContent: string, customPrompt?: string, useCustomPrompt?: boolean) => {\n    console.log('ü§ñ handleIndividualGenerate ÏãúÏûë - imageIndex:', imageIndex, 'textContent:', textContent, 'customPrompt:', customPrompt, 'useCustomPrompt:', useCustomPrompt);\n    setGenerationStatus(prev => ({ ...prev, [imageIndex]: 'generating' }));\n\n    try {\n      // ÏöîÏ≤≠ Î∞îÎîî Íµ¨ÏÑ±\n      let requestBody: any = {};\n\n      // job_id Ï∂îÍ∞Ä (job-based folder isolationÏùÑ ÏúÑÌï¥)\n      if (jobId) {\n        requestBody.job_id = jobId;\n        console.log('üÜî job_id Ï∂îÍ∞Ä:', jobId);\n      }\n\n      if (useCustomPrompt && customPrompt?.trim()) {\n        // Ïª§Ïä§ÌÖÄ ÌîÑÎ°¨ÌîÑÌä∏ ÏÇ¨Ïö©\n        requestBody.custom_prompt = customPrompt.trim();\n        console.log('üìù Ïª§Ïä§ÌÖÄ ÌîÑÎ°¨ÌîÑÌä∏ ÏÇ¨Ïö©:', customPrompt.trim());\n      } else {\n        // Í∏∞Ï°¥ ÌÖçÏä§Ìä∏ ÏÇ¨Ïö©\n        const texts = textContent.split(' / ');\n        requestBody.text = texts[0]; // Ï≤´ Î≤àÏß∏ ÌÖçÏä§Ìä∏ ÏÇ¨Ïö©\n        if (texts.length > 1) {\n          requestBody.additional_context = texts[1];\n        }\n        console.log('üìù Í∏∞Î≥∏ ÌÖçÏä§Ìä∏ ÏÇ¨Ïö©:', texts[0]);\n      }\n\n      const response = await fetch('/generate-single-image', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(requestBody),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.detail || 'Ïù¥ÎØ∏ÏßÄ ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§');\n      }\n\n      const data = await response.json();\n      let imageUrl = data.image_url;\n\n      // job_idÍ∞Ä ÏûàÎäî Í≤ΩÏö∞ job-specific URLÎ°ú Î≥ÄÍ≤Ω\n      if (jobId && imageUrl.includes('/get-image/')) {\n        const fileName = imageUrl.split('/get-image/')[1];\n        imageUrl = `/job-uploads/${jobId}/${fileName}`;\n        console.log('üîÑ job-specific URLÎ°ú Î≥ÄÍ≤Ω:', imageUrl);\n      }\n\n      // ÏÉùÏÑ±Îêú Ïù¥ÎØ∏ÏßÄÎ•º Îã§Ïö¥Î°úÎìúÌïòÍ≥† File Í∞ùÏ≤¥Î°ú Î≥ÄÌôò\n      const imageResponse = await fetch(imageUrl);\n      if (!imageResponse.ok) {\n        throw new Error(`ÏÉùÏÑ±Îêú Ïù¥ÎØ∏ÏßÄ Îã§Ïö¥Î°úÎìúÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§: ${imageResponse.status}`);\n      }\n\n      const blob = await imageResponse.blob();\n      const fileName = `generated_image_pair_${imageIndex}.png`;\n      const file = new File([blob], fileName, { type: 'image/png' });\n\n      console.log('üì∏ Ïù¥ÎØ∏ÏßÄ ÏÉùÏÑ± ÏôÑÎ£å - fileName:', fileName, 'Ìò∏Ï∂úÌï† imageIndex:', imageIndex);\n\n      // Ïù¥ÎØ∏ÏßÄ Î∞∞Ïó¥ ÏóÖÎç∞Ïù¥Ìä∏\n      handleIndividualImageUpload(imageIndex, [file]);\n      \n      setGenerationStatus(prev => ({ ...prev, [imageIndex]: 'success' }));\n      setTimeout(() => {\n        setGenerationStatus(prev => {\n          const newStatus = { ...prev };\n          delete newStatus[imageIndex];\n          return newStatus;\n        });\n      }, 3000);\n\n    } catch (error) {\n      console.error('Í∞úÎ≥Ñ Ïù¥ÎØ∏ÏßÄ ÏÉùÏÑ± Ïò§Î•ò:', error);\n      setGenerationStatus(prev => ({ ...prev, [imageIndex]: 'error' }));\n      setTimeout(() => {\n        setGenerationStatus(prev => {\n          const newStatus = { ...prev };\n          delete newStatus[imageIndex];\n          return newStatus;\n        });\n      }, 5000);\n    }\n  };\n\n  // Îçî ÎßéÏùÄ ÎèôÏòÅÏÉÅ Î∂àÎü¨Ïò§Í∏∞\n  const handleLoadMoreVideos = async () => {\n    if (!videoPagination.has_next || loadingMoreVideos) return;\n\n    setLoadingMoreVideos(true);\n\n    try {\n      const nextPage = videoPagination.current_page + 1;\n      // ÌÉúÍ∑∏ ÌïÑÌÑ∞ Ï†ÅÏö©\n      const tagsParam = videoFilterTags.length > 0 ? `&tags=${videoFilterTags.join(',')}` : '';\n      const response = await fetch(`/api/recent-videos?page=${nextPage}&limit=10${tagsParam}`);\n\n      if (!response.ok) {\n        throw new Error('Ï∂îÍ∞Ä ÎèôÏòÅÏÉÅ Î™©Î°ùÏùÑ Í∞ÄÏ†∏Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§');\n      }\n\n      const data = await response.json();\n      if (data.status === 'success') {\n        // Í∏∞Ï°¥ ÎèôÏòÅÏÉÅ Î™©Î°ùÏóê ÏÉà ÎèôÏòÅÏÉÅÎì§ Ï∂îÍ∞Ä\n        setRecentVideos(prev => [...prev, ...data.videos]);\n        setVideoPagination(data.pagination);\n      } else {\n        throw new Error(data.message || 'ÎèôÏòÅÏÉÅ Î™©Î°ù Ï°∞Ìöå Ïã§Ìå®');\n      }\n    } catch (error) {\n      console.error('Ï∂îÍ∞Ä ÎèôÏòÅÏÉÅ Î°úÎî© Ïò§Î•ò:', error);\n    } finally {\n      setLoadingMoreVideos(false);\n    }\n  };\n\n  // ÎèôÏòÅÏÉÅ ÏÑ†ÌÉù Ï≤òÎ¶¨\n  const handleVideoSelect = async (video: any) => {\n    if (selectedVideoForIndex === null) return;\n\n    try {\n      // ÎèôÏòÅÏÉÅ ÌååÏùºÏùÑ Îã§Ïö¥Î°úÎìúÌïòÏó¨ File Í∞ùÏ≤¥Î°ú Î≥ÄÌôò\n      const response = await fetch(video.path);\n      const blob = await response.blob();\n      const file = new File([blob], video.filename, { type: 'video/mp4' });\n\n      // ÏÑ†ÌÉùÎêú ÎèôÏòÅÏÉÅÏùÑ Ìï¥Îãπ Ïù∏Îç±Ïä§Ïóê ÏóÖÎ°úÎìú\n      handleIndividualImageUpload(selectedVideoForIndex, [file]);\n\n      // Îã§Ïù¥ÏñºÎ°úÍ∑∏ Îã´Í∏∞\n      setVideoDialogOpen(false);\n      setSelectedVideoForIndex(null);\n    } catch (error) {\n      console.error('ÎèôÏòÅÏÉÅ ÏÑ†ÌÉù Ïò§Î•ò:', error);\n    }\n  };\n\n  // Í∞úÎ≥Ñ Ïù¥ÎØ∏ÏßÄ ÏÇ≠Ï†ú (Í∞úÏÑ†Îê®)\n  const handleRemoveImage = (imageIndex: number) => {\n    console.log('üóëÔ∏è Ïù¥ÎØ∏ÏßÄ ÏÇ≠Ï†ú ÏöîÏ≤≠ - imageIndex:', imageIndex);\n\n    // ÏµúÏã† images ÏÉÅÌÉúÎ•º Í∞ÄÏ†∏ÏôÄÏÑú ÏÇ≠Ï†ú\n    const currentImages = imagesRef.current;\n    const newImages = currentImages.filter(img => (img as any).__imageIndex !== imageIndex);\n    \n    // Ìï¥Îãπ Ïù∏Îç±Ïä§Ïùò ÏóêÎü¨ ÏÉÅÌÉúÎèÑ Ìï®Íªò Ï†úÍ±∞\n    setUploadErrors(prev => {\n      const newErrors = { ...prev };\n      delete newErrors[imageIndex];\n      return newErrors;\n    });\n    \n    // ÏÉùÏÑ± ÏÉÅÌÉúÎèÑ Ìï®Íªò Ï†úÍ±∞\n    setGenerationStatus(prev => {\n      const newStatus = { ...prev };\n      delete newStatus[imageIndex];\n      return newStatus;\n    });\n    \n    console.log('‚úÖ Ïù¥ÎØ∏ÏßÄ ÏÇ≠Ï†ú ÏôÑÎ£å - imageIndex:', imageIndex);\n    console.log('üìä ÎÇ®ÏùÄ Ïù¥ÎØ∏ÏßÄ:', newImages.map(img => `${img.name}(index:${(img as any).__imageIndex})`));\n    \n    onChange(newImages, imageUploadMode);\n  };\n\n  // Í∞úÎ≥Ñ Ïù¥ÎØ∏ÏßÄ Îã§Ïö¥Î°úÎìú\n  const handleDownloadImage = async (imageIndex: number, image: File) => {\n    try {\n      // ÏÉùÏÑ±Îêú Ïù¥ÎØ∏ÏßÄÏù∏ÏßÄ ÌôïÏù∏ (filenameÏúºÎ°ú ÌåêÎã®)\n      if (image.name.startsWith('generated_')) {\n        // Î∞±ÏóîÎìú Îã§Ïö¥Î°úÎìú APIÎ•º ÌÜµÌï¥ Îã§Ïö¥Î°úÎìú\n        const link = document.createElement('a');\n        link.href = `/download-image/${image.name}`;\n        link.download = `reels_image_${imageIndex + 1}.png`;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      } else {\n        // ÏóÖÎ°úÎìúÎêú ÌååÏùºÏùÄ ÏßÅÏ†ë Îã§Ïö¥Î°úÎìú\n        const url = URL.createObjectURL(image);\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = `reels_image_${imageIndex + 1}_${image.name}`;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        URL.revokeObjectURL(url);\n      }\n      console.log('üíæ Ïù¥ÎØ∏ÏßÄ Îã§Ïö¥Î°úÎìú ÏôÑÎ£å - imageIndex:', imageIndex, 'fileName:', image.name);\n    } catch (error) {\n      console.error('Ïù¥ÎØ∏ÏßÄ Îã§Ïö¥Î°úÎìú Ïò§Î•ò:', error);\n    }\n  };\n\n  // ÎπÑÎîîÏò§ ÎØ∏Î¶¨Î≥¥Í∏∞ Ïª¥Ìè¨ÎÑåÌä∏ (Î∏åÎùºÏö∞Ï†Ä ÏßÅÏ†ë Ïû¨ÏÉù)\n  const VideoPreview: React.FC<{ file: File }> = memo(({ file }) => {\n    const [videoUrl, setVideoUrl] = useState<string | null>(null);\n\n    useEffect(() => {\n      // Î∏åÎùºÏö∞Ï†ÄÏóêÏÑú ÏßÅÏ†ë Ïû¨ÏÉùÌï† Ïàò ÏûàÎèÑÎ°ù URL ÏÉùÏÑ±\n      const url = URL.createObjectURL(file);\n      setVideoUrl(url);\n\n      return () => {\n        if (url) {\n          URL.revokeObjectURL(url);\n        }\n      };\n    }, [file]);\n\n    return (\n      <Box sx={{ position: 'relative' }}>\n        {videoUrl && (\n          <video\n            src={videoUrl}\n            style={{\n              width: '100%',\n              aspectRatio: '1/1',\n              objectFit: 'cover',\n              borderRadius: '8px'\n            }}\n            autoPlay\n            muted\n            loop\n            playsInline\n            controls={false}\n            onError={(e) => {\n              console.error('ÎπÑÎîîÏò§ Ïû¨ÏÉù Ïò§Î•ò:', e);\n            }}\n          />\n        )}\n\n        {/* ÎπÑÎîîÏò§ ÏïÑÏù¥ÏΩò Ïò§Î≤ÑÎ†àÏù¥ */}\n        <Box\n          sx={{\n            position: 'absolute',\n            top: 8,\n            left: 8,\n            bgcolor: 'rgba(0,0,0,0.7)',\n            borderRadius: 1,\n            p: 0.5,\n            display: 'flex',\n            alignItems: 'center'\n          }}\n        >\n          <MovieIcon sx={{ fontSize: 16, color: 'white' }} />\n          <Typography variant=\"caption\" color=\"white\" sx={{ ml: 0.5 }}>\n            ÏòÅÏÉÅ\n          </Typography>\n        </Box>\n      </Box>\n    );\n  });\n\n  // Í∞úÎ≥Ñ ÎìúÎûòÍ∑∏Ïï§ÎìúÎ°≠ Ïª¥Ìè¨ÎÑåÌä∏ (React.memoÎ°ú ÏµúÏ†ÅÌôî)\n  const IndividualDropZone: React.FC<{\n    imageIndex: number;\n    pair: TextImagePair & { imageIndex: number };\n  }> = memo(({ imageIndex, pair }) => {\n    const onDrop = useCallback((acceptedFiles: File[]) => {\n      handleIndividualImageUpload(imageIndex, acceptedFiles);\n    }, [imageIndex]);\n\n    const { getRootProps, getInputProps, isDragActive } = useDropzone({\n      onDrop,\n      accept: {\n        'image/*': ['.jpeg', '.jpg', '.png', '.gif', '.webp', '.bmp'],\n        'video/*': ['.mp4', '.mov', '.avi', '.webm', '.mkv']\n      },\n      maxFiles: 1,\n      multiple: false\n    });\n\n    const isGenerating = generationStatus[imageIndex] === 'generating';\n    const generationError = generationStatus[imageIndex] === 'error';\n    const generationSuccess = generationStatus[imageIndex] === 'success';\n    const uploadError = uploadErrors[imageIndex];\n    const isPromptExpanded = promptsExpanded[imageIndex] || false;\n    const currentCustomPrompt = customPrompts[imageIndex];\n\n    // refÎ•º ÌÜµÌïú Ìè¨Ïª§Ïä§ Ïú†ÏßÄ\n    const textFieldRef = useRef<HTMLInputElement>(null);\n\n    // Î°úÏª¨ ÏÉÅÌÉúÎ°ú ÏûÖÎ†•Í∞í Í¥ÄÎ¶¨ (Ìè¨Ïª§Ïä§ Ïú†ÏßÄÎ•º ÏúÑÌï¥)\n    const [localPromptValue, setLocalPromptValue] = useState(currentCustomPrompt?.prompt || '');\n    const [isInitialized, setIsInitialized] = useState(false);\n    const [lastUpdateTime, setLastUpdateTime] = useState(0);\n\n    // Ï¥àÍ∏∞Ìôî ÏãúÏóêÎßå Ïô∏Î∂Ä ÏÉÅÌÉúÎ•º Î°úÏª¨ ÏÉÅÌÉúÏóê ÎèôÍ∏∞Ìôî\n    useEffect(() => {\n      if (!isInitialized) {\n        setLocalPromptValue(currentCustomPrompt?.prompt || '');\n        setIsInitialized(true);\n      }\n    }, [currentCustomPrompt?.prompt, isInitialized]);\n\n    // ÎîîÎ∞îÏö¥Ïä§Î•º ÏúÑÌïú useEffect - Ïô∏Î∂Ä ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏ Î∞©ÏßÄ\n    useEffect(() => {\n      if (!localPromptValue.trim() && !currentCustomPrompt?.prompt) {\n        return; // Îπà Í∞íÏù∏ Í≤ΩÏö∞ ÏóÖÎç∞Ïù¥Ìä∏ ÌïòÏßÄ ÏïäÏùå\n      }\n\n      const timeoutId = setTimeout(() => {\n        const currentExternalValue = customPrompts[imageIndex]?.prompt || '';\n        if (localPromptValue !== currentExternalValue) {\n          // ÌÅ¥Î°úÏ†ÄÎ•º ÏÇ¨Ïö©ÌïòÏó¨ Ìï®Ïàò Ìò∏Ï∂ú ÏãúÏ†êÏùò Í∞íÏùÑ Ï∫°Ï≤ò\n          const enabled = customPrompts[imageIndex]?.enabled || false;\n          updateCustomPrompt(imageIndex, localPromptValue, enabled);\n        }\n      }, 1000); // 1Ï¥àÎ°ú ÎäòÎ†§ÏÑú Îçî ÏïàÏ†ïÏ†ÅÏúºÎ°ú\n\n      return () => clearTimeout(timeoutId);\n    }, [localPromptValue, imageIndex]);\n\n    // Ïª§Ïä§ÌÖÄ ÌîÑÎ°¨ÌîÑÌä∏ Î≥ÄÍ≤Ω Ìï∏Îì§Îü¨ (Î°úÏª¨ ÏÉÅÌÉúÎßå ÏóÖÎç∞Ïù¥Ìä∏)\n    const handleCustomPromptChange = useCallback((prompt: string) => {\n      setLocalPromptValue(prompt);\n    }, []);\n\n    // Ïª§Ïä§ÌÖÄ ÌîÑÎ°¨ÌîÑÌä∏ ÌôúÏÑ±Ìôî/ÎπÑÌôúÏÑ±Ìôî Ìï∏Îì§Îü¨\n    const handleCustomPromptToggle = useCallback((enabled: boolean) => {\n      updateCustomPrompt(imageIndex, localPromptValue, enabled);\n    }, [imageIndex, localPromptValue, updateCustomPrompt]);\n\n    return (\n      <Card sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\n        <CardContent sx={{ flex: 1 }}>\n          {/* ÌÖçÏä§Ìä∏ ÌëúÏãú */}\n          <Typography variant=\"h6\" gutterBottom sx={{ \n            fontSize: '0.9rem',\n            fontWeight: 600,\n            color: 'primary.main',\n            mb: 2\n          }}>\n            {pair.textKey.replace('body', 'ÎåÄÏÇ¨ ').replace('+body', ' + ÎåÄÏÇ¨ ')}\n          </Typography>\n          \n          <Typography variant=\"body2\" sx={{\n            mb: 2,\n            p: 1.5,\n            bgcolor: 'grey.50',\n            borderRadius: 1,\n            border: '1px solid',\n            borderColor: 'grey.200',\n            fontSize: '0.8rem',\n            lineHeight: 1.4\n          }}>\n            {pair.textContent}\n          </Typography>\n\n          {/* Ïª§Ïä§ÌÖÄ ÌîÑÎ°¨ÌîÑÌä∏ ÏÑπÏÖò */}\n          <Box sx={{ mb: 2 }}>\n            <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', mb: 1 }}>\n              <Typography variant=\"caption\" color=\"text.secondary\" sx={{ fontWeight: 600 }}>\n                AI ÏÉùÏÑ± ÏòµÏÖò\n              </Typography>\n              <IconButton\n                size=\"small\"\n                onClick={() => togglePromptExpanded(imageIndex)}\n                sx={{ p: 0.5 }}\n              >\n                {isPromptExpanded ? <ExpandLess fontSize=\"small\" /> : <ExpandMore fontSize=\"small\" />}\n              </IconButton>\n            </Box>\n\n            <Collapse in={isPromptExpanded}>\n              <Box sx={{ bgcolor: 'rgba(25, 118, 210, 0.04)', p: 1.5, borderRadius: 1, border: '1px solid rgba(25, 118, 210, 0.12)' }}>\n                <FormControlLabel\n                  control={\n                    <Switch\n                      checked={currentCustomPrompt?.enabled || false}\n                      onChange={(e) => handleCustomPromptToggle(e.target.checked)}\n                      size=\"small\"\n                    />\n                  }\n                  label={\n                    <Typography variant=\"caption\" sx={{ fontWeight: 500 }}>\n                      Ïª§Ïä§ÌÖÄ ÌîÑÎ°¨ÌîÑÌä∏ ÏÇ¨Ïö©\n                    </Typography>\n                  }\n                  sx={{ mb: 1, ml: 0 }}\n                />\n\n                {currentCustomPrompt?.enabled && (\n                  <TextField\n                    inputRef={textFieldRef}\n                    key={`prompt-input-${imageIndex}-stable`}\n                    fullWidth\n                    multiline\n                    rows={2}\n                    size=\"small\"\n                    placeholder=\"Ïù¥ÎØ∏ÏßÄ ÏÉùÏÑ±ÏùÑ ÏúÑÌïú Ïª§Ïä§ÌÖÄ ÌîÑÎ°¨ÌîÑÌä∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî...\"\n                    value={localPromptValue}\n                    onChange={(e) => handleCustomPromptChange(e.target.value)}\n                    variant=\"outlined\"\n                    sx={{\n                      '& .MuiOutlinedInput-root': {\n                        fontSize: '0.75rem',\n                        bgcolor: 'white'\n                      }\n                    }}\n                    helperText=\"Ïã§Ï†ú ÏòÅÏÉÅÏóêÏÑúÎäî Í∏∞Ï°¥ ÎåÄÏÇ¨Í∞Ä ÏÇ¨Ïö©ÎêòÎ©∞, Ïù¥ ÌîÑÎ°¨ÌîÑÌä∏Îäî Ïù¥ÎØ∏ÏßÄ ÏÉùÏÑ±ÏóêÎßå ÏÇ¨Ïö©Îê©ÎãàÎã§.\"\n                    autoComplete=\"off\"\n                    spellCheck=\"false\"\n                  />\n                )}\n\n                {!currentCustomPrompt?.enabled && (\n                  <Typography variant=\"caption\" color=\"text.secondary\" sx={{ fontStyle: 'italic' }}>\n                    Í∏∞Î≥∏ Î™®Îìú: ÏúÑÏùò ÎåÄÏÇ¨ ÎÇ¥Ïö©ÏùÑ Í∏∞Î∞òÏúºÎ°ú Ïù¥ÎØ∏ÏßÄÎ•º ÏÉùÏÑ±Ìï©ÎãàÎã§.\n                  </Typography>\n                )}\n              </Box>\n            </Collapse>\n          </Box>\n\n          {/* Ïù¥ÎØ∏ÏßÄ/ÎπÑÎîîÏò§ ÌëúÏãú ÎòêÎäî ÎìúÎûòÍ∑∏Ïï§ÎìúÎ°≠ ÏòÅÏó≠ */}\n          {pair.image ? (\n            <Box sx={{ position: 'relative', mb: 2 }}>\n              {pair.image.type.startsWith('video/') ? (\n                <VideoPreview file={pair.image} />\n              ) : (\n                <Box\n                  sx={{\n                    width: '100%',\n                    aspectRatio: '1/1',\n                    backgroundImage: `url(${URL.createObjectURL(pair.image)})`,\n                    backgroundSize: 'cover',\n                    backgroundPosition: 'center',\n                    borderRadius: 1\n                  }}\n                />\n              )}\n              \n              {/* Ïù¥ÎØ∏ÏßÄ Ïª®Ìä∏Î°§ Î≤ÑÌäºÎì§ */}\n              <Box sx={{ \n                position: 'absolute', \n                top: 8, \n                right: 8,\n                display: 'flex',\n                gap: 0.5\n              }}>\n                <IconButton\n                  size=\"small\"\n                  onClick={() => handleDownloadImage(imageIndex, pair.image!)}\n                  sx={{\n                    bgcolor: 'rgba(255,255,255,0.9)',\n                    '&:hover': { bgcolor: 'rgba(255,255,255,1)' }\n                  }}\n                  title=\"Ïù¥ÎØ∏ÏßÄ Îã§Ïö¥Î°úÎìú\"\n                >\n                  <Download color=\"success\" fontSize=\"small\" />\n                </IconButton>\n                <IconButton\n                  size=\"small\"\n                  onClick={() => handleRemoveImage(imageIndex)}\n                  sx={{\n                    bgcolor: 'rgba(255,255,255,0.9)',\n                    '&:hover': { bgcolor: 'rgba(255,255,255,1)' }\n                  }}\n                  title=\"Ïù¥ÎØ∏ÏßÄ ÏÇ≠Ï†ú\"\n                >\n                  <Delete color=\"error\" fontSize=\"small\" />\n                </IconButton>\n                <IconButton\n                  size=\"small\"\n                  onClick={() => {\n                    console.log('üîÑ ÏÉàÎ°úÍ≥†Ïπ® Î≤ÑÌäº ÌÅ¥Î¶≠Îê® - imageIndex:', imageIndex, 'textContent:', pair.textContent);\n                    handleIndividualGenerate(\n                      imageIndex,\n                      pair.textContent,\n                      currentCustomPrompt?.prompt,\n                      currentCustomPrompt?.enabled\n                    );\n                  }}\n                  disabled={isGenerating}\n                  sx={{\n                    bgcolor: 'rgba(255,255,255,0.9)',\n                    '&:hover': { bgcolor: 'rgba(255,255,255,1)' }\n                  }}\n                  title=\"Ïù¥ÎØ∏ÏßÄ Ïû¨ÏÉùÏÑ±\"\n                >\n                  {isGenerating ? (\n                    <CircularProgress size={16} />\n                  ) : (\n                    <Refresh color=\"primary\" fontSize=\"small\" />\n                  )}\n                </IconButton>\n              </Box>\n\n              <Typography variant=\"caption\" sx={{ \n                position: 'absolute',\n                bottom: 4,\n                left: 8,\n                bgcolor: 'rgba(0,0,0,0.7)',\n                color: 'white',\n                px: 1,\n                py: 0.5,\n                borderRadius: 1\n              }}>\n                {pair.image.name}\n              </Typography>\n            </Box>\n          ) : (\n            <Box\n              {...getRootProps()}\n              sx={{\n                border: 2,\n                borderColor: isDragActive ? 'primary.main' : 'grey.300',\n                borderStyle: 'dashed',\n                borderRadius: 1,\n                p: 2,\n                textAlign: 'center',\n                cursor: 'pointer',\n                bgcolor: isDragActive ? 'action.hover' : 'background.paper',\n                mb: 2,\n                aspectRatio: '1/1',\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'center',\n                '&:hover': {\n                  borderColor: 'primary.main',\n                  bgcolor: 'action.hover'\n                }\n              }}\n            >\n              <input {...getInputProps()} />\n              <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n                <CloudUpload sx={{ fontSize: 32, color: 'grey.400', mb: 1 }} />\n                <Typography variant=\"caption\" color=\"text.secondary\" sx={{ textAlign: 'center' }}>\n                  {isDragActive ? 'ÌååÏùºÏùÑ ÎÜìÏúºÏÑ∏Ïöî' : 'ÎØ∏ÎîîÏñ¥ ÎìúÎûòÍ∑∏ ÎòêÎäî ÌÅ¥Î¶≠'}\n                </Typography>\n                <Typography variant=\"caption\" color=\"text.secondary\" sx={{ display: 'block', mt: 0.5, fontSize: '0.7rem', textAlign: 'center' }}>\n                  ÏµúÎåÄ {imageUploadMode === 'single-for-all' ? '40MB' : '10MB'}\n                </Typography>\n              </Box>\n            </Box>\n          )}\n\n          {/* ÏÉÅÌÉú Î©îÏãúÏßÄ */}\n          {isGenerating && (\n            <Alert severity=\"info\" sx={{ mt: 1 }}>\n              <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                <CircularProgress size={16} sx={{ mr: 1 }} />\n                Ïù¥ÎØ∏ÏßÄ ÏÉùÏÑ± Ï§ë...\n              </Box>\n            </Alert>\n          )}\n          \n          {generationSuccess && (\n            <Alert severity=\"success\" sx={{ mt: 1 }}>\n              Ïù¥ÎØ∏ÏßÄ ÏÉùÏÑ± ÏôÑÎ£å!\n            </Alert>\n          )}\n          \n          {generationError && (\n            <Alert severity=\"error\" sx={{ mt: 1 }}>\n              Ïù¥ÎØ∏ÏßÄ ÏÉùÏÑ± Ïã§Ìå®. Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî.\n            </Alert>\n          )}\n          \n          {uploadError && (\n            <Alert severity=\"error\" sx={{ mt: 1 }}>\n              {uploadError}\n            </Alert>\n          )}\n\n          {/* ÌÉúÍ∑∏ ÏûÖÎ†• ÏòÅÏó≠ */}\n          {pair.image && (\n            <Box sx={{ mt: 2 }}>\n              <Typography variant=\"caption\" color=\"text.secondary\" sx={{ mb: 1, display: 'block' }}>\n                ÌÉúÍ∑∏ (ÏÑ†ÌÉùÏÇ¨Ìï≠)\n              </Typography>\n\n              {/* ÌòÑÏû¨ ÌÉúÍ∑∏Îì§ ÌëúÏãú */}\n              {mediaTags[imageIndex] && mediaTags[imageIndex].length > 0 && (\n                <Box sx={{ mb: 1, display: 'flex', flexWrap: 'wrap', gap: 0.5 }}>\n                  {mediaTags[imageIndex].map((tag, tagIndex) => (\n                    <Chip\n                      key={tagIndex}\n                      label={tag}\n                      size=\"small\"\n                      onDelete={() => removeTag(imageIndex, tag)}\n                      color=\"primary\"\n                      variant=\"outlined\"\n                    />\n                  ))}\n                </Box>\n              )}\n\n              {/* ÌÉúÍ∑∏ ÏûÖÎ†• ÌïÑÎìú */}\n              <TextField\n                size=\"small\"\n                placeholder=\"ÌÉúÍ∑∏ ÏûÖÎ†• ÌõÑ Enter\"\n                value={tagInputs[imageIndex] || ''}\n                onChange={(e) => handleTagInputChange(imageIndex, e.target.value)}\n                onKeyPress={(e) => handleTagInputKeyPress(imageIndex, e)}\n                fullWidth\n                variant=\"outlined\"\n                sx={{\n                  '& .MuiOutlinedInput-root': {\n                    fontSize: '0.875rem',\n                    height: '36px'\n                  }\n                }}\n              />\n\n              {/* Ï∂îÏ≤ú ÌÉúÍ∑∏Îì§ (ÏÇ¨Ïö© Í∞ÄÎä•Ìïú ÌÉúÍ∑∏Í∞Ä ÏûàÎäî Í≤ΩÏö∞) */}\n              {availableTags.length > 0 && (\n                <Box sx={{ mt: 1 }}>\n                  <Typography variant=\"caption\" color=\"text.secondary\" sx={{ display: 'block', mb: 0.5 }}>\n                    Ï∂îÏ≤ú ÌÉúÍ∑∏:\n                  </Typography>\n                  <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5 }}>\n                    {availableTags.slice(0, 6).map((tag, tagIndex) => (\n                      <Chip\n                        key={tagIndex}\n                        label={tag}\n                        size=\"small\"\n                        variant=\"outlined\"\n                        clickable\n                        onClick={() => addTag(imageIndex, tag)}\n                        sx={{\n                          fontSize: '0.75rem',\n                          height: '24px',\n                          '&:hover': { bgcolor: 'primary.light' }\n                        }}\n                      />\n                    ))}\n                  </Box>\n                </Box>\n              )}\n            </Box>\n          )}\n        </CardContent>\n\n        {/* ÌïòÎã® Ïï°ÏÖò Î≤ÑÌäº */}\n        <Box sx={{ p: 1.5, pt: 0 }}>\n          <Button\n            fullWidth\n            variant=\"outlined\"\n            size=\"small\"\n            startIcon={<AutoFixHigh />}\n            onClick={() => {\n              console.log('üñ±Ô∏è ÏûêÎèôÏÉùÏÑ± Î≤ÑÌäº ÌÅ¥Î¶≠Îê® - imageIndex:', imageIndex, 'textContent:', pair.textContent);\n              handleIndividualGenerate(\n                imageIndex,\n                pair.textContent,\n                currentCustomPrompt?.prompt,\n                currentCustomPrompt?.enabled\n              );\n            }}\n            disabled={isGenerating}\n            sx={{\n              bgcolor: currentCustomPrompt?.enabled ? 'rgba(25, 118, 210, 0.08)' : 'transparent',\n              borderColor: currentCustomPrompt?.enabled ? 'primary.main' : 'grey.300',\n              color: currentCustomPrompt?.enabled ? 'primary.main' : 'text.primary',\n              '&:hover': {\n                bgcolor: currentCustomPrompt?.enabled ? 'rgba(25, 118, 210, 0.12)' : 'action.hover',\n              }\n            }}\n          >\n            {isGenerating ? 'ÏÉùÏÑ±Ï§ë...' : (currentCustomPrompt?.enabled ? 'Ïª§Ïä§ÌÖÄ ÌîÑÎ°¨ÌîÑÌä∏Î°ú ÏÉùÏÑ±' : 'AI ÏûêÎèôÏÉùÏÑ±')}\n          </Button>\n\n          {/* ÏµúÍ∑º ÎèôÏòÅÏÉÅ Î∂àÎü¨Ïò§Í∏∞ Î≤ÑÌäº */}\n          <Button\n            fullWidth\n            variant=\"text\"\n            size=\"small\"\n            startIcon={<VideoLibrary />}\n            onClick={() => handleLoadRecentVideos(imageIndex)}\n            sx={{\n              mt: 1,\n              color: 'text.secondary',\n              '&:hover': {\n                bgcolor: 'action.hover',\n                color: 'primary.main'\n              }\n            }}\n          >\n            ÏµúÍ∑º ÎèôÏòÅÏÉÅ Î∂àÎü¨Ïò§Í∏∞\n          </Button>\n        </Box>\n      </Card>\n    );\n  });\n\n  return (\n    <Box>\n      <Typography variant=\"h6\" gutterBottom sx={{ mb: 3 }}>\n        ÌÖçÏä§Ìä∏-Ïù¥ÎØ∏ÏßÄ Îß§Ïπ≠ Í¥ÄÎ¶¨\n      </Typography>\n      \n      <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\n        Í∞Å ÌÖçÏä§Ìä∏Ïóê ÎåÄÏùëÎêòÎäî Ïù¥ÎØ∏ÏßÄÎ•º Í∞úÎ≥ÑÏ†ÅÏúºÎ°ú Í¥ÄÎ¶¨Ìï† Ïàò ÏûàÏäµÎãàÎã§.\n        ÎìúÎûòÍ∑∏Ïï§ÎìúÎ°≠ÏúºÎ°ú Ïù¥ÎØ∏ÏßÄÎ•º ÏóÖÎ°úÎìúÌïòÍ±∞ÎÇò AIÎ°ú ÏûêÎèô ÏÉùÏÑ±ÌïòÏÑ∏Ïöî.\n        <br />\n        <Typography component=\"span\" variant=\"caption\" color=\"text.secondary\">\n          ÌååÏùº ÌÅ¨Í∏∞ Ï†úÌïú: {imageUploadMode === 'single-for-all' ? 'ÏµúÎåÄ 40MB' : 'Í∞Å ÌååÏùº ÏµúÎåÄ 10MB'}\n        </Typography>\n      </Typography>\n\n      <Grid container spacing={2}>\n        {textImagePairs.map((pair, index) => (\n          <Grid item xs={12} sm={6} md={4} key={`dropzone-${pair.imageIndex}-${pair.textKey}`}>\n            <IndividualDropZone imageIndex={pair.imageIndex} pair={pair} />\n          </Grid>\n        ))}\n      </Grid>\n\n      {textImagePairs.length === 0 && (\n        <Alert severity=\"info\" sx={{ mt: 2 }}>\n          ÎåÄÎ≥∏ÏùÑ Î®ºÏ†Ä ÏûëÏÑ±Ìï¥Ï£ºÏÑ∏Ïöî.\n        </Alert>\n      )}\n\n      {/* ÏµúÍ∑º ÎèôÏòÅÏÉÅ ÏÑ†ÌÉù Îã§Ïù¥ÏñºÎ°úÍ∑∏ */}\n      <Dialog\n        open={videoDialogOpen}\n        onClose={() => setVideoDialogOpen(false)}\n        maxWidth=\"lg\"\n        fullWidth\n      >\n        <DialogTitle>\n          <Box sx={{ display: 'flex', alignItems: 'center' }}>\n            <VideoLibrary sx={{ mr: 1 }} />\n            ÏµúÍ∑º ÎèôÏòÅÏÉÅ Î∂àÎü¨Ïò§Í∏∞\n          </Box>\n        </DialogTitle>\n        <DialogContent>\n          {/* ÌÉúÍ∑∏ ÌïÑÌÑ∞ÎßÅ UI */}\n          <Box sx={{ mb: 3, p: 2, bgcolor: 'grey.50', borderRadius: 1 }}>\n            <Typography variant=\"subtitle2\" sx={{ mb: 2, fontWeight: 600 }}>\n              ÌÉúÍ∑∏ ÌïÑÌÑ∞\n            </Typography>\n\n            {/* ÌòÑÏû¨ Ï†ÅÏö©Îêú ÌïÑÌÑ∞ ÌÉúÍ∑∏Îì§ */}\n            {videoFilterTags.length > 0 && (\n              <Box sx={{ mb: 2 }}>\n                <Typography variant=\"caption\" color=\"text.secondary\" sx={{ display: 'block', mb: 1 }}>\n                  Ï†ÅÏö©Îêú ÌïÑÌÑ∞:\n                </Typography>\n                <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5, mb: 1 }}>\n                  {videoFilterTags.map((tag, index) => (\n                    <Chip\n                      key={index}\n                      label={tag}\n                      size=\"small\"\n                      onDelete={() => removeVideoFilterTag(tag)}\n                      color=\"primary\"\n                    />\n                  ))}\n                </Box>\n                <Button size=\"small\" onClick={clearVideoFilters} variant=\"outlined\">\n                  ÌïÑÌÑ∞ Ï¥àÍ∏∞Ìôî\n                </Button>\n              </Box>\n            )}\n\n            {/* ÌÉúÍ∑∏ ÌÅ¥ÎùºÏö∞Îìú */}\n            {availableTags.length > 0 && (\n              <Box sx={{ mt: 1 }}>\n                <Typography variant=\"caption\" color=\"text.secondary\" sx={{ display: 'block', mb: 1 }}>\n                  ÌÉúÍ∑∏ ÏÑ†ÌÉù:\n                </Typography>\n                <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5 }}>\n                  {availableTags.map((tag, index) => {\n                    const isSelected = videoFilterTags.includes(tag);\n                    return (\n                      <Chip\n                        key={index}\n                        label={tag}\n                        size=\"small\"\n                        variant={isSelected ? \"filled\" : \"outlined\"}\n                        color={isSelected ? \"primary\" : \"default\"}\n                        clickable\n                        onClick={() => {\n                          if (isSelected) {\n                            removeVideoFilterTag(tag);\n                          } else {\n                            addVideoFilterTag(tag);\n                          }\n                        }}\n                        sx={{\n                          fontSize: '0.75rem',\n                          transition: 'all 0.2s',\n                          '&:hover': {\n                            bgcolor: isSelected ? 'primary.dark' : 'primary.light',\n                            transform: 'scale(1.05)'\n                          }\n                        }}\n                      />\n                    );\n                  })}\n                </Box>\n              </Box>\n            )}\n          </Box>\n          {loadingVideos ? (\n            <Box sx={{ display: 'flex', justifyContent: 'center', p: 4 }}>\n              <CircularProgress />\n              <Typography sx={{ ml: 2 }}>ÎèôÏòÅÏÉÅ Î™©Î°ùÏùÑ Î∂àÎü¨Ïò§Îäî Ï§ë...</Typography>\n            </Box>\n          ) : recentVideos.length === 0 ? (\n            <Alert severity=\"info\" sx={{ mt: 2 }}>\n              ÏÇ¨Ïö© Í∞ÄÎä•Ìïú ÎèôÏòÅÏÉÅÏù¥ ÏóÜÏäµÎãàÎã§.\n            </Alert>\n          ) : (\n            <>\n              <Grid container spacing={2} sx={{ mt: 1 }}>\n                {recentVideos.map((video, index) => (\n                <Grid item xs={12} sm={6} md={4} key={index}>\n                  <Card\n                    sx={{\n                      cursor: 'pointer',\n                      '&:hover': {\n                        boxShadow: 3,\n                        transform: 'translateY(-2px)',\n                        transition: 'all 0.2s'\n                      }\n                    }}\n                    onClick={() => handleVideoSelect(video)}\n                  >\n                    <Box sx={{ position: 'relative', aspectRatio: '16/9', bgcolor: 'grey.100' }}>\n                      {/* Ïç∏ÎÑ§Ïùº ÎòêÎäî ÎπÑÎîîÏò§ ÏïÑÏù¥ÏΩò */}\n                      {video.thumbnailUrl ? (\n                        <img\n                          src={video.thumbnailUrl}\n                          alt={video.filename}\n                          style={{\n                            width: '100%',\n                            height: '100%',\n                            objectFit: 'cover'\n                          }}\n                        />\n                      ) : (\n                        <Box sx={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          justifyContent: 'center',\n                          height: '100%'\n                        }}>\n                          <MovieIcon sx={{ fontSize: 48, color: 'grey.400' }} />\n                        </Box>\n                      )}\n\n                      {/* ÏßÄÏÜçÏãúÍ∞Ñ Ïò§Î≤ÑÎ†àÏù¥ (Ïö∞ÌïòÎã®) */}\n                      {video.duration && (\n                        <Box sx={{\n                          position: 'absolute',\n                          bottom: 8,\n                          right: 8,\n                          bgcolor: 'rgba(0,0,0,0.7)',\n                          color: 'white',\n                          px: 1,\n                          py: 0.5,\n                          borderRadius: 1,\n                          fontSize: '0.75rem',\n                          fontWeight: 600\n                        }}>\n                          {video.duration}\n                        </Box>\n                      )}\n\n                      {/* Ïû¨ÏÉù Î≤ÑÌäº Ïò§Î≤ÑÎ†àÏù¥ */}\n                      <Box sx={{\n                        position: 'absolute',\n                        top: '50%',\n                        left: '50%',\n                        transform: 'translate(-50%, -50%)',\n                        bgcolor: 'rgba(0,0,0,0.6)',\n                        borderRadius: '50%',\n                        p: 1,\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center'\n                      }}>\n                        <MovieIcon sx={{ color: 'white', fontSize: 24 }} />\n                      </Box>\n                    </Box>\n                    <CardContent sx={{ p: 1.5 }}>\n                      <Typography variant=\"caption\" sx={{\n                        fontWeight: 600,\n                        display: 'block',\n                        overflow: 'hidden',\n                        textOverflow: 'ellipsis',\n                        whiteSpace: 'nowrap'\n                      }}>\n                        {video.filename}\n                      </Typography>\n                      <Typography variant=\"caption\" color=\"text.secondary\" sx={{ display: 'block' }}>\n                        ÌÅ¨Í∏∞: {video.size}\n                      </Typography>\n                      {video.duration && (\n                        <Typography variant=\"caption\" color=\"text.secondary\" sx={{ display: 'block' }}>\n                          Í∏∏Ïù¥: {video.duration}\n                        </Typography>\n                      )}\n                      {video.resolution && (\n                        <Typography variant=\"caption\" color=\"text.secondary\" sx={{ display: 'block' }}>\n                          Ìï¥ÏÉÅÎèÑ: {video.resolution}\n                        </Typography>\n                      )}\n                      <Typography variant=\"caption\" color=\"text.secondary\" sx={{ display: 'block' }}>\n                        ÏàòÏ†ïÏùº: {video.modifiedDate}\n                      </Typography>\n\n                      {/* ÌÉúÍ∑∏ ÌëúÏãú */}\n                      {video.tags && video.tags.length > 0 && (\n                        <Box sx={{ mt: 1, display: 'flex', flexWrap: 'wrap', gap: 0.3 }}>\n                          {video.tags.slice(0, 3).map((tag, tagIndex) => (\n                            <Chip\n                              key={tagIndex}\n                              label={tag}\n                              size=\"small\"\n                              color=\"primary\"\n                              variant=\"outlined\"\n                              sx={{\n                                fontSize: '0.65rem',\n                                height: '18px',\n                                '& .MuiChip-label': {\n                                  px: 0.5\n                                }\n                              }}\n                            />\n                          ))}\n                          {video.tags.length > 3 && (\n                            <Typography variant=\"caption\" color=\"text.secondary\">\n                              +{video.tags.length - 3}\n                            </Typography>\n                          )}\n                        </Box>\n                      )}\n\n                      {/* Ï¶êÍ≤®Ï∞æÍ∏∞ ÌëúÏãú */}\n                      {video.is_favorite && (\n                        <Box sx={{ mt: 0.5 }}>\n                          <Chip\n                            label=\"Ï¶êÍ≤®Ï∞æÍ∏∞\"\n                            size=\"small\"\n                            color=\"secondary\"\n                            sx={{\n                              fontSize: '0.65rem',\n                              height: '18px',\n                              '& .MuiChip-label': {\n                                px: 0.5\n                              }\n                            }}\n                          />\n                        </Box>\n                      )}\n                    </CardContent>\n                  </Card>\n                </Grid>\n                ))}\n              </Grid>\n\n              {/* ÌéòÏù¥ÏßÄ Ï†ïÎ≥¥ Î∞è ÎçîÎ≥¥Í∏∞ Î≤ÑÌäº */}\n              {recentVideos.length > 0 && (\n                <Box sx={{ mt: 3, display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n                  {/* ÌéòÏù¥ÏßÄ Ï†ïÎ≥¥ */}\n                  <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\n                    Ï¥ù {videoPagination.total_items}Í∞ú Ï§ë {recentVideos.length}Í∞ú ÌëúÏãú\n                    (ÌéòÏù¥ÏßÄ {videoPagination.current_page}/{videoPagination.total_pages})\n                  </Typography>\n\n                  {/* ÎçîÎ≥¥Í∏∞ Î≤ÑÌäº */}\n                  {videoPagination.has_next && (\n                    <Button\n                      variant=\"outlined\"\n                      onClick={handleLoadMoreVideos}\n                      disabled={loadingMoreVideos}\n                      sx={{ minWidth: 120 }}\n                      startIcon={loadingMoreVideos ? <CircularProgress size={16} /> : undefined}\n                    >\n                      {loadingMoreVideos ? 'Î°úÎî© Ï§ë...' : 'ÎçîÎ≥¥Í∏∞'}\n                    </Button>\n                  )}\n\n                  {/* ÎÅùÏóê ÎèÑÎã¨ÌñàÏùÑ Îïå Î©îÏãúÏßÄ */}\n                  {!videoPagination.has_next && videoPagination.total_pages > 1 && (\n                    <Typography variant=\"caption\" color=\"text.secondary\" sx={{ mt: 1 }}>\n                      Î™®Îì† ÎèôÏòÅÏÉÅÏùÑ Î∂àÎü¨ÏôîÏäµÎãàÎã§\n                    </Typography>\n                  )}\n                </Box>\n              )}\n            </>\n          )}\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setVideoDialogOpen(false)}>\n            Ï∑®ÏÜå\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Box>\n  );\n};\n\nexport default TextImagePairManager;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}