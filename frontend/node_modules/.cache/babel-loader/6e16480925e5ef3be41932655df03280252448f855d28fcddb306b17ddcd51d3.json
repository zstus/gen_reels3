{"ast":null,"code":"var _jsxFileName = \"/zstus/frontend/src/components/MusicStep.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Box, Paper, Typography, Button, Grid, Card, CardContent, IconButton, Chip, Alert, CircularProgress, Slider, Tabs, Tab } from '@mui/material';\nimport { PlayArrow, Pause, VolumeUp, MusicNote, CheckCircle, RadioButtonUnchecked } from '@mui/icons-material';\nimport apiService from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// 음악 성격별 한국어 명칭과 설명\nconst MOOD_CONFIG = {\n  bright: {\n    name: '밝은 음악',\n    description: '활기차고 즐거운 분위기',\n    color: '#ffeb3b'\n  },\n  calm: {\n    name: '차분한 음악',\n    description: '평온하고 릴랙스한 분위기',\n    color: '#4caf50'\n  },\n  romantic: {\n    name: '로맨틱한 음악',\n    description: '감성적이고 따뜻한 분위기',\n    color: '#e91e63'\n  },\n  sad: {\n    name: '슬픈 음악',\n    description: '감정적이고 애절한 분위기',\n    color: '#9c27b0'\n  },\n  suspense: {\n    name: '긴장감 있는 음악',\n    description: '스릴 있고 극적인 분위기',\n    color: '#f44336'\n  }\n};\nconst MusicStep = ({\n  selectedMusic,\n  musicMood,\n  onChange,\n  onNext,\n  onBack\n}) => {\n  _s();\n  const [musicFolders, setMusicFolders] = useState({\n    bright: [],\n    calm: [],\n    romantic: [],\n    sad: [],\n    suspense: []\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [currentlyPlaying, setCurrentlyPlaying] = useState(null);\n  const [volume, setVolume] = useState(0.5);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const audioRef = useRef(null);\n  const intervalRef = useRef(null);\n\n  // 컴포넌트 마운트시 BGM 목록 로드\n  useEffect(() => {\n    loadBgmFiles();\n    return () => {\n      stopAllMusic();\n    };\n  }, []);\n\n  // BGM 파일 목록 로드\n  const loadBgmFiles = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const bgmList = await apiService.getBgmList();\n      const bgmData = {\n        bright: [],\n        calm: [],\n        romantic: [],\n        sad: [],\n        suspense: []\n      };\n\n      // BGM 목록을 성격별로 정리\n      bgmList.forEach(folder => {\n        bgmData[folder.mood] = folder.files;\n      });\n      setMusicFolders(bgmData);\n    } catch (err) {\n      setError(err.message || '음악 파일을 불러오는 중 오류가 발생했습니다');\n      console.error('BGM 로드 실패:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const playMusic = musicFile => {\n    stopAllMusic();\n    if (audioRef.current) {\n      audioRef.current.src = musicFile.url;\n      audioRef.current.volume = volume;\n      audioRef.current.play();\n      setCurrentlyPlaying(musicFile.filename);\n\n      // 시간 업데이트 인터벌 시작\n      intervalRef.current = setInterval(() => {\n        if (audioRef.current) {\n          setCurrentTime(audioRef.current.currentTime);\n          setDuration(audioRef.current.duration || 0);\n        }\n      }, 1000);\n    }\n  };\n  const pauseMusic = () => {\n    if (audioRef.current) {\n      audioRef.current.pause();\n      setCurrentlyPlaying(null);\n    }\n    if (intervalRef.current) {\n      clearInterval(intervalRef.current);\n    }\n  };\n  const stopAllMusic = () => {\n    if (audioRef.current) {\n      audioRef.current.pause();\n      audioRef.current.currentTime = 0;\n    }\n    setCurrentlyPlaying(null);\n    setCurrentTime(0);\n    setDuration(0);\n    if (intervalRef.current) {\n      clearInterval(intervalRef.current);\n    }\n  };\n  const selectMusic = musicFile => {\n    onChange(musicFile, musicFile.mood);\n  };\n  const handleMoodChange = (_event, newMood) => {\n    stopAllMusic();\n    onChange((selectedMusic === null || selectedMusic === void 0 ? void 0 : selectedMusic.mood) === newMood ? selectedMusic : null, newMood);\n  };\n  const handleVolumeChange = (_event, newValue) => {\n    const volumeValue = newValue;\n    setVolume(volumeValue);\n    if (audioRef.current) {\n      audioRef.current.volume = volumeValue;\n    }\n  };\n  const formatTime = seconds => {\n    const mins = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n  const canProceed = selectedMusic !== null;\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: audioRef,\n      onEnded: () => setCurrentlyPlaying(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      component: \"h1\",\n      gutterBottom: true,\n      children: \"\\uC74C\\uC545 \\uC120\\uD0DD\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body1\",\n      color: \"text.secondary\",\n      sx: {\n        mb: 3\n      },\n      children: \"\\uB9B4\\uC2A4 \\uC601\\uC0C1\\uC758 \\uBC30\\uACBD\\uC74C\\uC545\\uC744 \\uC120\\uD0DD\\uD558\\uC138\\uC694. \\uAC01 \\uC74C\\uC545\\uC744 \\uBBF8\\uB9AC \\uB4E4\\uC5B4\\uBCFC \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"center\",\n      sx: {\n        my: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 3\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 9\n    }, this), !loading && !error && /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 4,\n        children: [/*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"\\uC74C\\uC545 \\uC131\\uACA9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n            orientation: \"vertical\",\n            value: musicMood,\n            onChange: handleMoodChange,\n            sx: {\n              borderRight: 1,\n              borderColor: 'divider'\n            },\n            children: Object.entries(MOOD_CONFIG).map(([mood, config]) => /*#__PURE__*/_jsxDEV(Tab, {\n              value: mood,\n              label: /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  textAlign: 'left',\n                  width: '100%'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  children: config.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: \"text.secondary\",\n                  children: config.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 23\n              }, this),\n              sx: {\n                alignItems: 'flex-start',\n                minHeight: 60,\n                '&.Mui-selected': {\n                  bgcolor: `${config.color}20`\n                }\n              }\n            }, mood, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 3\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              gutterBottom: true,\n              children: \"\\uBBF8\\uB9AC\\uB4E3\\uAE30 \\uBCFC\\uB968\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                alignItems: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(VolumeUp, {\n                sx: {\n                  mr: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Slider, {\n                value: volume,\n                onChange: handleVolumeChange,\n                step: 0.1,\n                min: 0,\n                max: 1,\n                sx: {\n                  flexGrow: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this), currentlyPlaying && /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 2,\n            mt: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle2\",\n            gutterBottom: true,\n            children: \"\\uC7AC\\uC0DD \\uC911\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            noWrap: true,\n            children: currentlyPlaying\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"caption\",\n            color: \"text.secondary\",\n            children: [formatTime(currentTime), \" / \", formatTime(duration)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 8,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            display: \"flex\",\n            alignItems: \"center\",\n            sx: {\n              mb: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              sx: {\n                flexGrow: 1\n              },\n              children: [MOOD_CONFIG[musicMood].name, \" \\uBAA9\\uB85D\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Chip, {\n              label: `${musicFolders[musicMood].length}개 곡`,\n              size: \"small\",\n              sx: {\n                bgcolor: `${MOOD_CONFIG[musicMood].color}20`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }, this), musicFolders[musicMood].length === 0 ? /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              textAlign: 'center',\n              py: 4,\n              color: 'text.secondary'\n            },\n            children: [/*#__PURE__*/_jsxDEV(MusicNote, {\n              sx: {\n                fontSize: 48,\n                mb: 2\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: \"\\uC774 \\uCE74\\uD14C\\uACE0\\uB9AC\\uC5D0\\uB294 \\uC74C\\uC545\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            children: musicFolders[musicMood].map(musicFile => /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                sx: {\n                  cursor: 'pointer',\n                  border: (selectedMusic === null || selectedMusic === void 0 ? void 0 : selectedMusic.filename) === musicFile.filename ? 2 : 1,\n                  borderColor: (selectedMusic === null || selectedMusic === void 0 ? void 0 : selectedMusic.filename) === musicFile.filename ? 'primary.main' : 'divider',\n                  '&:hover': {\n                    bgcolor: 'action.hover'\n                  }\n                },\n                onClick: () => selectMusic(musicFile),\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  sx: {\n                    p: 2\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Box, {\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    children: [/*#__PURE__*/_jsxDEV(Box, {\n                      sx: {\n                        flexGrow: 1,\n                        minWidth: 0\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"subtitle2\",\n                        noWrap: true,\n                        children: musicFile.displayName\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 310,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"caption\",\n                        color: \"text.secondary\",\n                        noWrap: true,\n                        children: musicFile.filename\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 313,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 309,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(Box, {\n                      display: \"flex\",\n                      alignItems: \"center\",\n                      children: [/*#__PURE__*/_jsxDEV(IconButton, {\n                        size: \"small\",\n                        sx: {\n                          mr: 1\n                        },\n                        children: (selectedMusic === null || selectedMusic === void 0 ? void 0 : selectedMusic.filename) === musicFile.filename ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n                          color: \"primary\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 322,\n                          columnNumber: 35\n                        }, this) : /*#__PURE__*/_jsxDEV(RadioButtonUnchecked, {\n                          color: \"action\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 324,\n                          columnNumber: 35\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 320,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                        size: \"small\",\n                        onClick: e => {\n                          e.stopPropagation();\n                          if (currentlyPlaying === musicFile.filename) {\n                            pauseMusic();\n                          } else {\n                            playMusic(musicFile);\n                          }\n                        },\n                        children: currentlyPlaying === musicFile.filename ? /*#__PURE__*/_jsxDEV(Pause, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 341,\n                          columnNumber: 35\n                        }, this) : /*#__PURE__*/_jsxDEV(PlayArrow, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 343,\n                          columnNumber: 35\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 329,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 318,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 23\n              }, this)\n            }, musicFile.filename, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 17\n          }, this), selectedMusic && /*#__PURE__*/_jsxDEV(Alert, {\n            severity: \"success\",\n            sx: {\n              mt: 3\n            },\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: selectedMusic.displayName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 21\n              }, this), \"\\uC774(\\uAC00) \\uC120\\uD0DD\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        mt: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        onClick: () => {\n          stopAllMusic();\n          onBack();\n        },\n        size: \"large\",\n        children: \"\\uC774\\uC804: \\uC774\\uBBF8\\uC9C0 \\uC5C5\\uB85C\\uB4DC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        onClick: () => {\n          stopAllMusic();\n          onNext();\n        },\n        size: \"large\",\n        disabled: !canProceed,\n        children: \"\\uB2E4\\uC74C: \\uC601\\uC0C1 \\uC0DD\\uC131\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 5\n  }, this);\n};\n_s(MusicStep, \"sr4Ir9j4FY4Ag3tqpoGCzdq4B/M=\");\n_c = MusicStep;\nexport default MusicStep;\nvar _c;\n$RefreshReg$(_c, \"MusicStep\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Box","Paper","Typography","Button","Grid","Card","CardContent","IconButton","Chip","Alert","CircularProgress","Slider","Tabs","Tab","PlayArrow","Pause","VolumeUp","MusicNote","CheckCircle","RadioButtonUnchecked","apiService","jsxDEV","_jsxDEV","MOOD_CONFIG","bright","name","description","color","calm","romantic","sad","suspense","MusicStep","selectedMusic","musicMood","onChange","onNext","onBack","_s","musicFolders","setMusicFolders","loading","setLoading","error","setError","currentlyPlaying","setCurrentlyPlaying","volume","setVolume","currentTime","setCurrentTime","duration","setDuration","audioRef","intervalRef","loadBgmFiles","stopAllMusic","bgmList","getBgmList","bgmData","forEach","folder","mood","files","err","message","console","playMusic","musicFile","current","src","url","play","filename","setInterval","pauseMusic","pause","clearInterval","selectMusic","handleMoodChange","_event","newMood","handleVolumeChange","newValue","volumeValue","formatTime","seconds","mins","Math","floor","secs","toString","padStart","canProceed","children","ref","onEnded","fileName","_jsxFileName","lineNumber","columnNumber","variant","component","gutterBottom","sx","mb","display","justifyContent","my","severity","container","spacing","item","xs","md","p","orientation","value","borderRight","borderColor","Object","entries","map","config","label","textAlign","width","alignItems","minHeight","bgcolor","mt","mr","step","min","max","flexGrow","noWrap","length","size","py","fontSize","sm","cursor","border","onClick","minWidth","displayName","e","stopPropagation","disabled","_c","$RefreshReg$"],"sources":["/zstus/frontend/src/components/MusicStep.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport {\n  Box,\n  Paper,\n  Typography,\n  Button,\n  Grid,\n  Card,\n  CardContent,\n  IconButton,\n  Chip,\n  Alert,\n  CircularProgress,\n  Slider,\n  Tabs,\n  Tab,\n} from '@mui/material';\nimport {\n  PlayArrow,\n  Pause,\n  VolumeUp,\n  MusicNote,\n  CheckCircle,\n  RadioButtonUnchecked,\n} from '@mui/icons-material';\nimport { MusicFile, MusicMood, MusicFolder } from '../types';\nimport apiService from '../services/api';\n\ninterface MusicStepProps {\n  selectedMusic: MusicFile | null;\n  musicMood: MusicMood;\n  onChange: (selectedMusic: MusicFile | null, musicMood: MusicMood) => void;\n  onNext: () => void;\n  onBack: () => void;\n}\n\n// 음악 성격별 한국어 명칭과 설명\nconst MOOD_CONFIG = {\n  bright: { name: '밝은 음악', description: '활기차고 즐거운 분위기', color: '#ffeb3b' },\n  calm: { name: '차분한 음악', description: '평온하고 릴랙스한 분위기', color: '#4caf50' },\n  romantic: { name: '로맨틱한 음악', description: '감성적이고 따뜻한 분위기', color: '#e91e63' },\n  sad: { name: '슬픈 음악', description: '감정적이고 애절한 분위기', color: '#9c27b0' },\n  suspense: { name: '긴장감 있는 음악', description: '스릴 있고 극적인 분위기', color: '#f44336' },\n};\n\nconst MusicStep: React.FC<MusicStepProps> = ({\n  selectedMusic,\n  musicMood,\n  onChange,\n  onNext,\n  onBack,\n}) => {\n  const [musicFolders, setMusicFolders] = useState<{ [key in MusicMood]: MusicFile[] }>({\n    bright: [],\n    calm: [],\n    romantic: [],\n    sad: [],\n    suspense: [],\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [currentlyPlaying, setCurrentlyPlaying] = useState<string | null>(null);\n  const [volume, setVolume] = useState(0.5);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  \n  const audioRef = useRef<HTMLAudioElement | null>(null);\n  const intervalRef = useRef<NodeJS.Timeout | null>(null);\n\n  // 컴포넌트 마운트시 BGM 목록 로드\n  useEffect(() => {\n    loadBgmFiles();\n    return () => {\n      stopAllMusic();\n    };\n  }, []);\n\n  // BGM 파일 목록 로드\n  const loadBgmFiles = async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      const bgmList = await apiService.getBgmList();\n      const bgmData: { [key in MusicMood]: MusicFile[] } = {\n        bright: [],\n        calm: [],\n        romantic: [],\n        sad: [],\n        suspense: [],\n      };\n\n      // BGM 목록을 성격별로 정리\n      bgmList.forEach(folder => {\n        bgmData[folder.mood] = folder.files;\n      });\n\n      setMusicFolders(bgmData);\n    } catch (err: any) {\n      setError(err.message || '음악 파일을 불러오는 중 오류가 발생했습니다');\n      console.error('BGM 로드 실패:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const playMusic = (musicFile: MusicFile) => {\n    stopAllMusic();\n    \n    if (audioRef.current) {\n      audioRef.current.src = musicFile.url;\n      audioRef.current.volume = volume;\n      audioRef.current.play();\n      setCurrentlyPlaying(musicFile.filename);\n      \n      // 시간 업데이트 인터벌 시작\n      intervalRef.current = setInterval(() => {\n        if (audioRef.current) {\n          setCurrentTime(audioRef.current.currentTime);\n          setDuration(audioRef.current.duration || 0);\n        }\n      }, 1000);\n    }\n  };\n\n  const pauseMusic = () => {\n    if (audioRef.current) {\n      audioRef.current.pause();\n      setCurrentlyPlaying(null);\n    }\n    if (intervalRef.current) {\n      clearInterval(intervalRef.current);\n    }\n  };\n\n  const stopAllMusic = () => {\n    if (audioRef.current) {\n      audioRef.current.pause();\n      audioRef.current.currentTime = 0;\n    }\n    setCurrentlyPlaying(null);\n    setCurrentTime(0);\n    setDuration(0);\n    if (intervalRef.current) {\n      clearInterval(intervalRef.current);\n    }\n  };\n\n  const selectMusic = (musicFile: MusicFile) => {\n    onChange(musicFile, musicFile.mood);\n  };\n\n  const handleMoodChange = (_event: React.SyntheticEvent, newMood: MusicMood) => {\n    stopAllMusic();\n    onChange(selectedMusic?.mood === newMood ? selectedMusic : null, newMood);\n  };\n\n  const handleVolumeChange = (_event: Event, newValue: number | number[]) => {\n    const volumeValue = newValue as number;\n    setVolume(volumeValue);\n    if (audioRef.current) {\n      audioRef.current.volume = volumeValue;\n    }\n  };\n\n  const formatTime = (seconds: number) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  const canProceed = selectedMusic !== null;\n\n  return (\n    <Box>\n      <audio ref={audioRef} onEnded={() => setCurrentlyPlaying(null)} />\n      \n      <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n        음악 선택\n      </Typography>\n      <Typography variant=\"body1\" color=\"text.secondary\" sx={{ mb: 3 }}>\n        릴스 영상의 배경음악을 선택하세요. 각 음악을 미리 들어볼 수 있습니다.\n      </Typography>\n\n      {loading && (\n        <Box display=\"flex\" justifyContent=\"center\" sx={{ my: 4 }}>\n          <CircularProgress />\n        </Box>\n      )}\n\n      {error && (\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\n          {error}\n        </Alert>\n      )}\n\n      {!loading && !error && (\n        <Grid container spacing={3}>\n          {/* 왼쪽: 음악 성격 선택 */}\n          <Grid item xs={12} md={4}>\n            <Paper sx={{ p: 3 }}>\n              <Typography variant=\"h6\" gutterBottom>\n                음악 성격\n              </Typography>\n              <Tabs\n                orientation=\"vertical\"\n                value={musicMood}\n                onChange={handleMoodChange}\n                sx={{ borderRight: 1, borderColor: 'divider' }}\n              >\n                {Object.entries(MOOD_CONFIG).map(([mood, config]) => (\n                  <Tab\n                    key={mood}\n                    value={mood}\n                    label={\n                      <Box sx={{ textAlign: 'left', width: '100%' }}>\n                        <Typography variant=\"body1\">{config.name}</Typography>\n                        <Typography variant=\"caption\" color=\"text.secondary\">\n                          {config.description}\n                        </Typography>\n                      </Box>\n                    }\n                    sx={{\n                      alignItems: 'flex-start',\n                      minHeight: 60,\n                      '&.Mui-selected': {\n                        bgcolor: `${config.color}20`,\n                      }\n                    }}\n                  />\n                ))}\n              </Tabs>\n\n              {/* 볼륨 컨트롤 */}\n              <Box sx={{ mt: 3 }}>\n                <Typography variant=\"body2\" gutterBottom>\n                  미리듣기 볼륨\n                </Typography>\n                <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                  <VolumeUp sx={{ mr: 1 }} />\n                  <Slider\n                    value={volume}\n                    onChange={handleVolumeChange}\n                    step={0.1}\n                    min={0}\n                    max={1}\n                    sx={{ flexGrow: 1 }}\n                  />\n                </Box>\n              </Box>\n            </Paper>\n\n            {/* 현재 재생 중인 음악 정보 */}\n            {currentlyPlaying && (\n              <Paper sx={{ p: 2, mt: 2 }}>\n                <Typography variant=\"subtitle2\" gutterBottom>\n                  재생 중\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\" noWrap>\n                  {currentlyPlaying}\n                </Typography>\n                <Typography variant=\"caption\" color=\"text.secondary\">\n                  {formatTime(currentTime)} / {formatTime(duration)}\n                </Typography>\n              </Paper>\n            )}\n          </Grid>\n\n          {/* 오른쪽: 음악 파일 목록 */}\n          <Grid item xs={12} md={8}>\n            <Paper sx={{ p: 3 }}>\n              <Box display=\"flex\" alignItems=\"center\" sx={{ mb: 2 }}>\n                <Typography variant=\"h6\" sx={{ flexGrow: 1 }}>\n                  {MOOD_CONFIG[musicMood].name} 목록\n                </Typography>\n                <Chip\n                  label={`${musicFolders[musicMood].length}개 곡`}\n                  size=\"small\"\n                  sx={{ bgcolor: `${MOOD_CONFIG[musicMood].color}20` }}\n                />\n              </Box>\n\n              {musicFolders[musicMood].length === 0 ? (\n                <Box sx={{ textAlign: 'center', py: 4, color: 'text.secondary' }}>\n                  <MusicNote sx={{ fontSize: 48, mb: 2 }} />\n                  <Typography variant=\"body2\">\n                    이 카테고리에는 음악이 없습니다\n                  </Typography>\n                </Box>\n              ) : (\n                <Grid container spacing={2}>\n                  {musicFolders[musicMood].map((musicFile) => (\n                    <Grid item xs={12} sm={6} key={musicFile.filename}>\n                      <Card\n                        sx={{\n                          cursor: 'pointer',\n                          border: selectedMusic?.filename === musicFile.filename ? 2 : 1,\n                          borderColor: selectedMusic?.filename === musicFile.filename \n                            ? 'primary.main' \n                            : 'divider',\n                          '&:hover': {\n                            bgcolor: 'action.hover',\n                          }\n                        }}\n                        onClick={() => selectMusic(musicFile)}\n                      >\n                        <CardContent sx={{ p: 2 }}>\n                          <Box display=\"flex\" alignItems=\"center\">\n                            <Box sx={{ flexGrow: 1, minWidth: 0 }}>\n                              <Typography variant=\"subtitle2\" noWrap>\n                                {musicFile.displayName}\n                              </Typography>\n                              <Typography variant=\"caption\" color=\"text.secondary\" noWrap>\n                                {musicFile.filename}\n                              </Typography>\n                            </Box>\n                            \n                            <Box display=\"flex\" alignItems=\"center\">\n                              {/* 선택 상태 표시 */}\n                              <IconButton size=\"small\" sx={{ mr: 1 }}>\n                                {selectedMusic?.filename === musicFile.filename ? (\n                                  <CheckCircle color=\"primary\" />\n                                ) : (\n                                  <RadioButtonUnchecked color=\"action\" />\n                                )}\n                              </IconButton>\n                              \n                              {/* 재생/일시정지 버튼 */}\n                              <IconButton\n                                size=\"small\"\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  if (currentlyPlaying === musicFile.filename) {\n                                    pauseMusic();\n                                  } else {\n                                    playMusic(musicFile);\n                                  }\n                                }}\n                              >\n                                {currentlyPlaying === musicFile.filename ? (\n                                  <Pause />\n                                ) : (\n                                  <PlayArrow />\n                                )}\n                              </IconButton>\n                            </Box>\n                          </Box>\n                        </CardContent>\n                      </Card>\n                    </Grid>\n                  ))}\n                </Grid>\n              )}\n\n              {selectedMusic && (\n                <Alert severity=\"success\" sx={{ mt: 3 }}>\n                  <Typography variant=\"body2\">\n                    <strong>{selectedMusic.displayName}</strong>이(가) 선택되었습니다.\n                  </Typography>\n                </Alert>\n              )}\n            </Paper>\n          </Grid>\n        </Grid>\n      )}\n\n      {/* 하단 버튼 */}\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', mt: 4 }}>\n        <Button\n          variant=\"outlined\"\n          onClick={() => {\n            stopAllMusic();\n            onBack();\n          }}\n          size=\"large\"\n        >\n          이전: 이미지 업로드\n        </Button>\n        <Button\n          variant=\"contained\"\n          onClick={() => {\n            stopAllMusic();\n            onNext();\n          }}\n          size=\"large\"\n          disabled={!canProceed}\n        >\n          다음: 영상 생성\n        </Button>\n      </Box>\n    </Box>\n  );\n};\n\nexport default MusicStep;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}