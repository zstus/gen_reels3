{"ast":null,"code":"var _jsxFileName = \"/zstus/frontend/src/components/ImageStep.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback } from 'react';\nimport { Box, Paper, Typography, Button, Grid, FormControl, RadioGroup, FormControlLabel, Radio, Alert, Card, CardContent, IconButton, Chip, LinearProgress, CircularProgress } from '@mui/material';\nimport { CloudUpload, Delete, Image as ImageIcon, AutoFixHigh } from '@mui/icons-material';\nimport { useDropzone } from 'react-dropzone';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ImageStep = ({\n  images,\n  imageUploadMode,\n  content,\n  onChange,\n  onNext,\n  onBack\n}) => {\n  _s();\n  const [uploadProgress, setUploadProgress] = useState({});\n  const [errors, setErrors] = useState([]);\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [generationProgress, setGenerationProgress] = useState('');\n\n  // 필요한 이미지 개수 계산\n  const getRequiredImageCount = () => {\n    const scriptCount = Object.values(content).slice(1) // title 제외\n    .filter(script => script === null || script === void 0 ? void 0 : script.trim()).length;\n    if (imageUploadMode === 'per-script') {\n      return scriptCount;\n    } else {\n      return Math.ceil(scriptCount / 2);\n    }\n  };\n  const requiredImageCount = getRequiredImageCount();\n  const onDrop = useCallback(acceptedFiles => {\n    const validFiles = [];\n    const newErrors = [];\n    acceptedFiles.forEach((file, index) => {\n      // 파일 크기 검증 (10MB)\n      if (file.size > 10 * 1024 * 1024) {\n        newErrors.push(`${file.name}: 파일 크기가 10MB를 초과합니다`);\n        return;\n      }\n\n      // 파일 형식 검증 (이미지 + 비디오)\n      const isImage = file.type.startsWith('image/');\n      const isVideo = file.type.startsWith('video/');\n      if (!isImage && !isVideo) {\n        newErrors.push(`${file.name}: 이미지 또는 비디오 파일만 업로드 가능합니다`);\n        return;\n      }\n      validFiles.push(file);\n\n      // 업로드 진행률 시뮬레이션\n      setUploadProgress(prev => ({\n        ...prev,\n        [file.name]: 0\n      }));\n\n      // 가상의 업로드 진행률\n      let progress = 0;\n      const interval = setInterval(() => {\n        progress += 10;\n        setUploadProgress(prev => ({\n          ...prev,\n          [file.name]: progress\n        }));\n        if (progress >= 100) {\n          clearInterval(interval);\n          setTimeout(() => {\n            setUploadProgress(prev => {\n              const newProgress = {\n                ...prev\n              };\n              delete newProgress[file.name];\n              return newProgress;\n            });\n          }, 500);\n        }\n      }, 100);\n    });\n    if (validFiles.length > 0) {\n      const newImages = [...images, ...validFiles].slice(0, requiredImageCount);\n      onChange(newImages, imageUploadMode);\n    }\n    setErrors(newErrors);\n  }, [images, imageUploadMode, requiredImageCount, onChange]);\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive\n  } = useDropzone({\n    onDrop,\n    accept: {\n      'image/*': ['.jpeg', '.jpg', '.png', '.gif', '.webp', '.bmp'],\n      'video/*': ['.mp4', '.mov', '.avi', '.webm']\n    },\n    maxFiles: requiredImageCount - images.length,\n    disabled: images.length >= requiredImageCount\n  });\n  const removeImage = index => {\n    const newImages = images.filter((_, i) => i !== index);\n    onChange(newImages, imageUploadMode);\n  };\n  const handleModeChange = event => {\n    const newMode = event.target.value;\n    const newRequiredCount = newMode === 'per-script' ? Object.values(content).slice(1).filter(script => script === null || script === void 0 ? void 0 : script.trim()).length : Math.ceil(Object.values(content).slice(1).filter(script => script === null || script === void 0 ? void 0 : script.trim()).length / 2);\n\n    // 기존 이미지가 새로운 요구사항보다 많으면 자르기\n    const newImages = images.slice(0, newRequiredCount);\n    onChange(newImages, newMode);\n  };\n  const formatFileSize = bytes => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n  const getMediaPreview = file => {\n    return URL.createObjectURL(file);\n  };\n  const isVideoFile = file => {\n    return file.type.startsWith('video/');\n  };\n  const canProceed = images.length === requiredImageCount;\n\n  // 자동 이미지 생성 함수\n  const handleAutoGenerate = async mode => {\n    setIsGenerating(true);\n    setErrors([]);\n    try {\n      // content에서 body 텍스트들 추출\n      const bodyTexts = Object.entries(content).filter(([key, value]) => key.startsWith('body') && (value === null || value === void 0 ? void 0 : value.trim())).map(([key, value]) => value.trim());\n      if (bodyTexts.length === 0) {\n        setErrors(['대본 내용이 없습니다. 먼저 대본을 작성해주세요.']);\n        setIsGenerating(false);\n        return;\n      }\n      setGenerationProgress('이미지 생성 중...');\n      const response = await fetch('/generate-images', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          texts: bodyTexts,\n          mode: mode\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.detail || ' 이미지 생성에 실패했습니다');\n      }\n      const data = await response.json();\n      const imageUrls = data.image_urls;\n      setGenerationProgress('이미지 다운로드 중...');\n\n      // 백엔드에서 저장된 이미지를 다운로드하고 File 객체로 변환\n      const imageFiles = await Promise.all(imageUrls.filter(url => url.trim() !== '').map(async (url, index) => {\n        // 상대 경로를 절대 경로로 변환 (백엔드 서버 기준)\n        // 실제 백엔드 서버 주소 사용\n        const backendUrl = 'http://zstus.synology.me:8097'; // 실제 백엔드 서버 주소\n        const fullUrl = url.startsWith('http') ? url : `${backendUrl}${url}`;\n        const imageResponse = await fetch(fullUrl);\n        if (!imageResponse.ok) {\n          throw new Error(`이미지 다운로드 실패: ${index + 1}`);\n        }\n        const blob = await imageResponse.blob();\n        const fileName = `generated_image_${index + 1}.png`;\n        return new File([blob], fileName, {\n          type: 'image/png'\n        });\n      }));\n\n      // 기존 이미지에 새로 생성된 이미지들 추가\n      const newImages = [...images, ...imageFiles].slice(0, requiredImageCount);\n      onChange(newImages, imageUploadMode);\n      setGenerationProgress('이미지 생성 완료!');\n      setTimeout(() => setGenerationProgress(''), 2000);\n    } catch (error) {\n      console.error('이미지 생성 중 오류:', error);\n      setErrors([error instanceof Error ? error.message : '이미지 생성 중 오류가 발생했습니다']);\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      component: \"h1\",\n      gutterBottom: true,\n      children: \"\\uBBF8\\uB514\\uC5B4 \\uC5C5\\uB85C\\uB4DC\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body1\",\n      color: \"text.secondary\",\n      sx: {\n        mb: 3\n      },\n      children: \"\\uB9B4\\uC2A4 \\uC601\\uC0C1\\uC758 \\uBC30\\uACBD\\uC73C\\uB85C \\uC0AC\\uC6A9\\uD560 \\uC774\\uBBF8\\uC9C0 \\uB610\\uB294 \\uC601\\uC0C1\\uC744 \\uC5C5\\uB85C\\uB4DC\\uD558\\uC138\\uC694. (\\uC774\\uBBF8\\uC9C0: JPG, PNG, GIF, WebP / \\uC601\\uC0C1: MP4, MOV, AVI, WebM)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: [/*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 3,\n            mb: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"\\uC5C5\\uB85C\\uB4DC \\uBAA8\\uB4DC \\uC120\\uD0DD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            component: \"fieldset\",\n            children: /*#__PURE__*/_jsxDEV(RadioGroup, {\n              value: imageUploadMode,\n              onChange: handleModeChange,\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'space-between',\n                  width: '100%'\n                },\n                children: [/*#__PURE__*/_jsxDEV(FormControlLabel, {\n                  value: \"per-two-scripts\",\n                  control: /*#__PURE__*/_jsxDEV(Radio, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 256,\n                    columnNumber: 30\n                  }, this),\n                  label: /*#__PURE__*/_jsxDEV(Box, {\n                    children: [/*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body1\",\n                      children: \"\\uB300\\uC0AC 2\\uAC1C\\uB9C8\\uB2E4 \\uBBF8\\uB514\\uC5B4 1\\uAC1C\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 259,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"caption\",\n                      color: \"text.secondary\",\n                      children: [\"\\uD544\\uC694 \\uBBF8\\uB514\\uC5B4: \", Math.ceil(Object.values(content).slice(1).filter(script => script === null || script === void 0 ? void 0 : script.trim()).length / 2), \"\\uAC1C\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 262,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outlined\",\n                  size: \"small\",\n                  startIcon: /*#__PURE__*/_jsxDEV(AutoFixHigh, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 32\n                  }, this),\n                  onClick: () => handleAutoGenerate('per_two_scripts'),\n                  disabled: isGenerating || Object.values(content).slice(1).filter(script => script === null || script === void 0 ? void 0 : script.trim()).length === 0,\n                  sx: {\n                    ml: 2,\n                    minWidth: 100\n                  },\n                  children: \"\\uC790\\uB3D9\\uC0DD\\uC131\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'space-between',\n                  width: '100%'\n                },\n                children: [/*#__PURE__*/_jsxDEV(FormControlLabel, {\n                  value: \"per-script\",\n                  control: /*#__PURE__*/_jsxDEV(Radio, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 30\n                  }, this),\n                  label: /*#__PURE__*/_jsxDEV(Box, {\n                    children: [/*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body1\",\n                      children: \"\\uB300\\uC0AC\\uB9C8\\uB2E4 \\uBBF8\\uB514\\uC5B4 1\\uAC1C\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 285,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"caption\",\n                      color: \"text.secondary\",\n                      children: [\"\\uD544\\uC694 \\uBBF8\\uB514\\uC5B4: \", Object.values(content).slice(1).filter(script => script === null || script === void 0 ? void 0 : script.trim()).length, \"\\uAC1C\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 288,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outlined\",\n                  size: \"small\",\n                  startIcon: /*#__PURE__*/_jsxDEV(AutoFixHigh, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 32\n                  }, this),\n                  onClick: () => handleAutoGenerate('per_script'),\n                  disabled: isGenerating || Object.values(content).slice(1).filter(script => script === null || script === void 0 ? void 0 : script.trim()).length === 0,\n                  sx: {\n                    ml: 2,\n                    minWidth: 100\n                  },\n                  children: \"\\uC790\\uB3D9\\uC0DD\\uC131\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this), isGenerating && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 2,\n              display: 'flex',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n              size: 20,\n              sx: {\n                mr: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"primary\",\n              children: generationProgress\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 15\n          }, this), generationProgress && !isGenerating && /*#__PURE__*/_jsxDEV(Alert, {\n            severity: \"success\",\n            sx: {\n              mt: 2\n            },\n            children: generationProgress\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            ...getRootProps(),\n            sx: {\n              border: 2,\n              borderColor: isDragActive ? 'primary.main' : 'grey.300',\n              borderStyle: 'dashed',\n              borderRadius: 2,\n              p: 4,\n              textAlign: 'center',\n              cursor: images.length >= requiredImageCount ? 'not-allowed' : 'pointer',\n              bgcolor: isDragActive ? 'action.hover' : 'background.paper',\n              opacity: images.length >= requiredImageCount ? 0.6 : 1,\n              transition: 'all 0.2s ease-in-out',\n              '&:hover': {\n                borderColor: images.length >= requiredImageCount ? 'grey.300' : 'primary.main',\n                bgcolor: images.length >= requiredImageCount ? 'background.paper' : 'action.hover'\n              }\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              ...getInputProps()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CloudUpload, {\n              sx: {\n                fontSize: 48,\n                color: 'grey.400',\n                mb: 2\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: isDragActive ? '여기에 파일을 놓으세요' : '미디어 파일을 드래그하거나 클릭하여 선택'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: \"\\uC9C0\\uC6D0 \\uD615\\uC2DD: JPG, PNG, GIF, WebP, BMP, MP4, MOV, AVI, WebM (\\uCD5C\\uB300 10MB)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              sx: {\n                mt: 1\n              },\n              children: [\"\\uC5C5\\uB85C\\uB4DC \\uC0C1\\uD0DC: \", images.length, \"/\", requiredImageCount, \"\\uAC1C\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this), Object.entries(uploadProgress).map(([filename, progress]) => /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              color: \"text.secondary\",\n              children: [filename, \" \\uC5C5\\uB85C\\uB4DC \\uC911...\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(LinearProgress, {\n              variant: \"determinate\",\n              value: progress,\n              sx: {\n                mt: 0.5\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 17\n            }, this)]\n          }, filename, true, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this)), errors.map((error, index) => /*#__PURE__*/_jsxDEV(Alert, {\n            severity: \"error\",\n            sx: {\n              mt: 2\n            },\n            children: error\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: [\"\\uC5C5\\uB85C\\uB4DC\\uB41C \\uBBF8\\uB514\\uC5B4 (\", images.length, \"/\", requiredImageCount, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 13\n          }, this), images.length === 0 ? /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              textAlign: 'center',\n              py: 4,\n              color: 'text.secondary'\n            },\n            children: [/*#__PURE__*/_jsxDEV(ImageIcon, {\n              sx: {\n                fontSize: 64,\n                mb: 2\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: \"\\uC544\\uC9C1 \\uC5C5\\uB85C\\uB4DC\\uB41C \\uBBF8\\uB514\\uC5B4\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            children: images.map((file, index) => /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                sx: {\n                  position: 'relative'\n                },\n                children: [isVideoFile(file) ? /*#__PURE__*/_jsxDEV(\"video\", {\n                  src: getMediaPreview(file),\n                  style: {\n                    width: '100%',\n                    height: 120,\n                    objectFit: 'cover'\n                  },\n                  muted: true,\n                  loop: true,\n                  autoPlay: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    width: '100%',\n                    height: 120,\n                    backgroundImage: `url(${getMediaPreview(file)})`,\n                    backgroundSize: 'cover',\n                    backgroundPosition: 'center',\n                    position: 'relative'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 416,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                  size: \"small\",\n                  onClick: () => removeImage(index),\n                  sx: {\n                    position: 'absolute',\n                    top: 4,\n                    right: 4,\n                    bgcolor: 'rgba(255,255,255,0.8)',\n                    zIndex: 1,\n                    '&:hover': {\n                      bgcolor: 'rgba(255,255,255,0.9)'\n                    }\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Delete, {\n                    color: \"error\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 441,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 427,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                  label: index + 1,\n                  size: \"small\",\n                  color: \"primary\",\n                  sx: {\n                    position: 'absolute',\n                    top: 4,\n                    left: 4\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                  sx: {\n                    p: 1\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"caption\",\n                    noWrap: true,\n                    children: file.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 454,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"caption\",\n                    color: \"text.secondary\",\n                    display: \"block\",\n                    children: formatFileSize(file.size)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 457,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 21\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 15\n          }, this), !canProceed && images.length > 0 && /*#__PURE__*/_jsxDEV(Alert, {\n            severity: \"info\",\n            sx: {\n              mt: 2\n            },\n            children: [requiredImageCount - images.length, \"\\uAC1C\\uC758 \\uBBF8\\uB514\\uC5B4\\uB97C \\uB354 \\uC5C5\\uB85C\\uB4DC\\uD574\\uC8FC\\uC138\\uC694\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 15\n          }, this), canProceed && /*#__PURE__*/_jsxDEV(Alert, {\n            severity: \"success\",\n            sx: {\n              mt: 2\n            },\n            children: \"\\uBAA8\\uB4E0 \\uBBF8\\uB514\\uC5B4\\uAC00 \\uC5C5\\uB85C\\uB4DC\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4! \\uB2E4\\uC74C \\uB2E8\\uACC4\\uB85C \\uC9C4\\uD589\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        mt: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        onClick: onBack,\n        size: \"large\",\n        children: \"\\uC774\\uC804: \\uB300\\uBCF8 \\uC791\\uC131\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        onClick: onNext,\n        size: \"large\",\n        disabled: !canProceed,\n        children: \"\\uB2E4\\uC74C: \\uC74C\\uC545 \\uC120\\uD0DD\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 232,\n    columnNumber: 5\n  }, this);\n};\n_s(ImageStep, \"99EmDkaP+Tvg59cjiaPlVpNXS6g=\", false, function () {\n  return [useDropzone];\n});\n_c = ImageStep;\nexport default ImageStep;\nvar _c;\n$RefreshReg$(_c, \"ImageStep\");","map":{"version":3,"names":["React","useState","useCallback","Box","Paper","Typography","Button","Grid","FormControl","RadioGroup","FormControlLabel","Radio","Alert","Card","CardContent","IconButton","Chip","LinearProgress","CircularProgress","CloudUpload","Delete","Image","ImageIcon","AutoFixHigh","useDropzone","jsxDEV","_jsxDEV","ImageStep","images","imageUploadMode","content","onChange","onNext","onBack","_s","uploadProgress","setUploadProgress","errors","setErrors","isGenerating","setIsGenerating","generationProgress","setGenerationProgress","getRequiredImageCount","scriptCount","Object","values","slice","filter","script","trim","length","Math","ceil","requiredImageCount","onDrop","acceptedFiles","validFiles","newErrors","forEach","file","index","size","push","name","isImage","type","startsWith","isVideo","prev","progress","interval","setInterval","clearInterval","setTimeout","newProgress","newImages","getRootProps","getInputProps","isDragActive","accept","maxFiles","disabled","removeImage","_","i","handleModeChange","event","newMode","target","value","newRequiredCount","formatFileSize","bytes","k","sizes","floor","log","parseFloat","pow","toFixed","getMediaPreview","URL","createObjectURL","isVideoFile","canProceed","handleAutoGenerate","mode","bodyTexts","entries","key","map","response","fetch","method","headers","body","JSON","stringify","texts","ok","errorData","json","Error","detail","data","imageUrls","image_urls","imageFiles","Promise","all","url","backendUrl","fullUrl","imageResponse","blob","fileName","File","error","console","message","children","variant","component","gutterBottom","_jsxFileName","lineNumber","columnNumber","color","sx","mb","container","spacing","item","xs","md","p","display","alignItems","justifyContent","width","control","label","startIcon","onClick","ml","minWidth","mt","mr","severity","border","borderColor","borderStyle","borderRadius","textAlign","cursor","bgcolor","opacity","transition","fontSize","filename","py","position","src","style","height","objectFit","muted","loop","autoPlay","backgroundImage","backgroundSize","backgroundPosition","top","right","zIndex","left","noWrap","_c","$RefreshReg$"],"sources":["/zstus/frontend/src/components/ImageStep.tsx"],"sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\nimport {\n  Box,\n  Paper,\n  Typography,\n  Button,\n  Grid,\n  FormControl,\n  FormLabel,\n  RadioGroup,\n  FormControlLabel,\n  Radio,\n  Alert,\n  Card,\n  CardContent,\n  IconButton,\n  Chip,\n  LinearProgress,\n  CircularProgress,\n} from '@mui/material';\nimport { CloudUpload, Delete, Image as ImageIcon, AutoFixHigh } from '@mui/icons-material';\nimport { useDropzone } from 'react-dropzone';\nimport { ReelsContent, ImageUploadMode } from '../types';\n\ninterface ImageStepProps {\n  images: File[];\n  imageUploadMode: ImageUploadMode;\n  content: ReelsContent;\n  onChange: (images: File[], mode: ImageUploadMode) => void;\n  onNext: () => void;\n  onBack: () => void;\n}\n\nconst ImageStep: React.FC<ImageStepProps> = ({\n  images,\n  imageUploadMode,\n  content,\n  onChange,\n  onNext,\n  onBack,\n}) => {\n  const [uploadProgress, setUploadProgress] = useState<{ [key: string]: number }>({});\n  const [errors, setErrors] = useState<string[]>([]);\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [generationProgress, setGenerationProgress] = useState('');\n\n  // 필요한 이미지 개수 계산\n  const getRequiredImageCount = () => {\n    const scriptCount = Object.values(content)\n      .slice(1) // title 제외\n      .filter(script => script?.trim()).length;\n    \n    if (imageUploadMode === 'per-script') {\n      return scriptCount;\n    } else {\n      return Math.ceil(scriptCount / 2);\n    }\n  };\n\n  const requiredImageCount = getRequiredImageCount();\n\n  const onDrop = useCallback((acceptedFiles: File[]) => {\n    const validFiles: File[] = [];\n    const newErrors: string[] = [];\n\n    acceptedFiles.forEach((file, index) => {\n      // 파일 크기 검증 (10MB)\n      if (file.size > 10 * 1024 * 1024) {\n        newErrors.push(`${file.name}: 파일 크기가 10MB를 초과합니다`);\n        return;\n      }\n\n      // 파일 형식 검증 (이미지 + 비디오)\n      const isImage = file.type.startsWith('image/');\n      const isVideo = file.type.startsWith('video/');\n      \n      if (!isImage && !isVideo) {\n        newErrors.push(`${file.name}: 이미지 또는 비디오 파일만 업로드 가능합니다`);\n        return;\n      }\n\n      validFiles.push(file);\n\n      // 업로드 진행률 시뮬레이션\n      setUploadProgress(prev => ({ ...prev, [file.name]: 0 }));\n      \n      // 가상의 업로드 진행률\n      let progress = 0;\n      const interval = setInterval(() => {\n        progress += 10;\n        setUploadProgress(prev => ({ ...prev, [file.name]: progress }));\n        \n        if (progress >= 100) {\n          clearInterval(interval);\n          setTimeout(() => {\n            setUploadProgress(prev => {\n              const newProgress = { ...prev };\n              delete newProgress[file.name];\n              return newProgress;\n            });\n          }, 500);\n        }\n      }, 100);\n    });\n\n    if (validFiles.length > 0) {\n      const newImages = [...images, ...validFiles].slice(0, requiredImageCount);\n      onChange(newImages, imageUploadMode);\n    }\n\n    setErrors(newErrors);\n  }, [images, imageUploadMode, requiredImageCount, onChange]);\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    onDrop,\n    accept: {\n      'image/*': ['.jpeg', '.jpg', '.png', '.gif', '.webp', '.bmp'],\n      'video/*': ['.mp4', '.mov', '.avi', '.webm']\n    },\n    maxFiles: requiredImageCount - images.length,\n    disabled: images.length >= requiredImageCount\n  });\n\n  const removeImage = (index: number) => {\n    const newImages = images.filter((_, i) => i !== index);\n    onChange(newImages, imageUploadMode);\n  };\n\n  const handleModeChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const newMode = event.target.value as ImageUploadMode;\n    const newRequiredCount = newMode === 'per-script' \n      ? Object.values(content).slice(1).filter(script => script?.trim()).length\n      : Math.ceil(Object.values(content).slice(1).filter(script => script?.trim()).length / 2);\n    \n    // 기존 이미지가 새로운 요구사항보다 많으면 자르기\n    const newImages = images.slice(0, newRequiredCount);\n    onChange(newImages, newMode);\n  };\n\n  const formatFileSize = (bytes: number) => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n\n  const getMediaPreview = (file: File) => {\n    return URL.createObjectURL(file);\n  };\n\n  const isVideoFile = (file: File) => {\n    return file.type.startsWith('video/');\n  };\n\n  const canProceed = images.length === requiredImageCount;\n\n  // 자동 이미지 생성 함수\n  const handleAutoGenerate = async (mode: 'per_script' | 'per_two_scripts') => {\n    setIsGenerating(true);\n    setErrors([]);\n    \n    try {\n      // content에서 body 텍스트들 추출\n      const bodyTexts = Object.entries(content)\n        .filter(([key, value]) => key.startsWith('body') && value?.trim())\n        .map(([key, value]) => value.trim());\n      \n      if (bodyTexts.length === 0) {\n        setErrors(['대본 내용이 없습니다. 먼저 대본을 작성해주세요.']);\n        setIsGenerating(false);\n        return;\n      }\n\n      setGenerationProgress('이미지 생성 중...');\n      \n      const response = await fetch('/generate-images', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          texts: bodyTexts,\n          mode: mode\n        }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.detail || ' 이미지 생성에 실패했습니다');\n      }\n\n      const data = await response.json();\n      const imageUrls = data.image_urls;\n\n      setGenerationProgress('이미지 다운로드 중...');\n      \n      // 백엔드에서 저장된 이미지를 다운로드하고 File 객체로 변환\n      const imageFiles = await Promise.all(\n        imageUrls.filter((url: string) => url.trim() !== '').map(async (url: string, index: number) => {\n          // 상대 경로를 절대 경로로 변환 (백엔드 서버 기준)\n          // 실제 백엔드 서버 주소 사용\n          const backendUrl = 'http://zstus.synology.me:8097';  // 실제 백엔드 서버 주소\n          const fullUrl = url.startsWith('http') ? url : `${backendUrl}${url}`;\n          const imageResponse = await fetch(fullUrl);\n          if (!imageResponse.ok) {\n            throw new Error(`이미지 다운로드 실패: ${index + 1}`);\n          }\n          \n          const blob = await imageResponse.blob();\n          const fileName = `generated_image_${index + 1}.png`;\n          return new File([blob], fileName, { type: 'image/png' });\n        })\n      );\n\n      // 기존 이미지에 새로 생성된 이미지들 추가\n      const newImages = [...images, ...imageFiles].slice(0, requiredImageCount);\n      onChange(newImages, imageUploadMode);\n      \n      setGenerationProgress('이미지 생성 완료!');\n      setTimeout(() => setGenerationProgress(''), 2000);\n      \n    } catch (error) {\n      console.error('이미지 생성 중 오류:', error);\n      setErrors([error instanceof Error ? error.message : '이미지 생성 중 오류가 발생했습니다']);\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  return (\n    <Box>\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n        미디어 업로드\n      </Typography>\n      <Typography variant=\"body1\" color=\"text.secondary\" sx={{ mb: 3 }}>\n        릴스 영상의 배경으로 사용할 이미지 또는 영상을 업로드하세요. (이미지: JPG, PNG, GIF, WebP / 영상: MP4, MOV, AVI, WebM)\n      </Typography>\n\n      <Grid container spacing={3}>\n        {/* 왼쪽: 업로드 설정 */}\n        <Grid item xs={12} md={6}>\n          <Paper sx={{ p: 3, mb: 3 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              업로드 모드 선택\n            </Typography>\n            \n            <FormControl component=\"fieldset\">\n              <RadioGroup\n                value={imageUploadMode}\n                onChange={handleModeChange}\n              >\n                <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', width: '100%' }}>\n                  <FormControlLabel\n                    value=\"per-two-scripts\"\n                    control={<Radio />}\n                    label={\n                      <Box>\n                        <Typography variant=\"body1\">\n                          대사 2개마다 미디어 1개\n                        </Typography>\n                        <Typography variant=\"caption\" color=\"text.secondary\">\n                          필요 미디어: {Math.ceil(Object.values(content).slice(1).filter(script => script?.trim()).length / 2)}개\n                        </Typography>\n                      </Box>\n                    }\n                  />\n                  <Button\n                    variant=\"outlined\"\n                    size=\"small\"\n                    startIcon={<AutoFixHigh />}\n                    onClick={() => handleAutoGenerate('per_two_scripts')}\n                    disabled={isGenerating || Object.values(content).slice(1).filter(script => script?.trim()).length === 0}\n                    sx={{ ml: 2, minWidth: 100 }}\n                  >\n                    자동생성\n                  </Button>\n                </Box>\n                <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', width: '100%' }}>\n                  <FormControlLabel\n                    value=\"per-script\"\n                    control={<Radio />}\n                    label={\n                      <Box>\n                        <Typography variant=\"body1\">\n                          대사마다 미디어 1개\n                        </Typography>\n                        <Typography variant=\"caption\" color=\"text.secondary\">\n                          필요 미디어: {Object.values(content).slice(1).filter(script => script?.trim()).length}개\n                        </Typography>\n                      </Box>\n                    }\n                  />\n                  <Button\n                    variant=\"outlined\"\n                    size=\"small\"\n                    startIcon={<AutoFixHigh />}\n                    onClick={() => handleAutoGenerate('per_script')}\n                    disabled={isGenerating || Object.values(content).slice(1).filter(script => script?.trim()).length === 0}\n                    sx={{ ml: 2, minWidth: 100 }}\n                  >\n                    자동생성\n                  </Button>\n                </Box>\n              </RadioGroup>\n            </FormControl>\n            \n            {/* 생성 진행 상황 표시 */}\n            {isGenerating && (\n              <Box sx={{ mt: 2, display: 'flex', alignItems: 'center' }}>\n                <CircularProgress size={20} sx={{ mr: 1 }} />\n                <Typography variant=\"body2\" color=\"primary\">\n                  {generationProgress}\n                </Typography>\n              </Box>\n            )}\n            \n            {generationProgress && !isGenerating && (\n              <Alert severity=\"success\" sx={{ mt: 2 }}>\n                {generationProgress}\n              </Alert>\n            )}\n          </Paper>\n\n          {/* 드래그 앤 드롭 영역 */}\n          <Paper sx={{ p: 3 }}>\n            <Box\n              {...getRootProps()}\n              sx={{\n                border: 2,\n                borderColor: isDragActive ? 'primary.main' : 'grey.300',\n                borderStyle: 'dashed',\n                borderRadius: 2,\n                p: 4,\n                textAlign: 'center',\n                cursor: images.length >= requiredImageCount ? 'not-allowed' : 'pointer',\n                bgcolor: isDragActive ? 'action.hover' : 'background.paper',\n                opacity: images.length >= requiredImageCount ? 0.6 : 1,\n                transition: 'all 0.2s ease-in-out',\n                '&:hover': {\n                  borderColor: images.length >= requiredImageCount ? 'grey.300' : 'primary.main',\n                  bgcolor: images.length >= requiredImageCount ? 'background.paper' : 'action.hover',\n                }\n              }}\n            >\n              <input {...getInputProps()} />\n              <CloudUpload sx={{ fontSize: 48, color: 'grey.400', mb: 2 }} />\n              <Typography variant=\"h6\" gutterBottom>\n                {isDragActive ? '여기에 파일을 놓으세요' : '미디어 파일을 드래그하거나 클릭하여 선택'}\n              </Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                지원 형식: JPG, PNG, GIF, WebP, BMP, MP4, MOV, AVI, WebM (최대 10MB)\n              </Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\n                업로드 상태: {images.length}/{requiredImageCount}개\n              </Typography>\n            </Box>\n\n            {/* 업로드 진행률 */}\n            {Object.entries(uploadProgress).map(([filename, progress]) => (\n              <Box key={filename} sx={{ mt: 2 }}>\n                <Typography variant=\"caption\" color=\"text.secondary\">\n                  {filename} 업로드 중...\n                </Typography>\n                <LinearProgress variant=\"determinate\" value={progress} sx={{ mt: 0.5 }} />\n              </Box>\n            ))}\n\n            {/* 에러 메시지 */}\n            {errors.map((error, index) => (\n              <Alert severity=\"error\" key={index} sx={{ mt: 2 }}>\n                {error}\n              </Alert>\n            ))}\n          </Paper>\n        </Grid>\n\n        {/* 오른쪽: 업로드된 미디어 미리보기 */}\n        <Grid item xs={12} md={6}>\n          <Paper sx={{ p: 3 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              업로드된 미디어 ({images.length}/{requiredImageCount})\n            </Typography>\n\n            {images.length === 0 ? (\n              <Box\n                sx={{\n                  textAlign: 'center',\n                  py: 4,\n                  color: 'text.secondary'\n                }}\n              >\n                <ImageIcon sx={{ fontSize: 64, mb: 2 }} />\n                <Typography variant=\"body2\">\n                  아직 업로드된 미디어가 없습니다\n                </Typography>\n              </Box>\n            ) : (\n              <Grid container spacing={2}>\n                {images.map((file, index) => (\n                  <Grid item xs={6} key={index}>\n                    <Card sx={{ position: 'relative' }}>\n                      {isVideoFile(file) ? (\n                        <video\n                          src={getMediaPreview(file)}\n                          style={{\n                            width: '100%',\n                            height: 120,\n                            objectFit: 'cover',\n                          }}\n                          muted\n                          loop\n                          autoPlay\n                        />\n                      ) : (\n                        <Box\n                          sx={{\n                            width: '100%',\n                            height: 120,\n                            backgroundImage: `url(${getMediaPreview(file)})`,\n                            backgroundSize: 'cover',\n                            backgroundPosition: 'center',\n                            position: 'relative'\n                          }}\n                        />\n                      )}\n                      <IconButton\n                        size=\"small\"\n                        onClick={() => removeImage(index)}\n                        sx={{\n                          position: 'absolute',\n                          top: 4,\n                          right: 4,\n                          bgcolor: 'rgba(255,255,255,0.8)',\n                          zIndex: 1,\n                          '&:hover': {\n                            bgcolor: 'rgba(255,255,255,0.9)'\n                          }\n                        }}\n                      >\n                        <Delete color=\"error\" />\n                      </IconButton>\n                      <Chip\n                        label={index + 1}\n                        size=\"small\"\n                        color=\"primary\"\n                        sx={{\n                          position: 'absolute',\n                          top: 4,\n                          left: 4\n                        }}\n                      />\n                      <CardContent sx={{ p: 1 }}>\n                        <Typography variant=\"caption\" noWrap>\n                          {file.name}\n                        </Typography>\n                        <Typography variant=\"caption\" color=\"text.secondary\" display=\"block\">\n                          {formatFileSize(file.size)}\n                        </Typography>\n                      </CardContent>\n                    </Card>\n                  </Grid>\n                ))}\n              </Grid>\n            )}\n\n            {!canProceed && images.length > 0 && (\n              <Alert severity=\"info\" sx={{ mt: 2 }}>\n                {requiredImageCount - images.length}개의 미디어를 더 업로드해주세요\n              </Alert>\n            )}\n\n            {canProceed && (\n              <Alert severity=\"success\" sx={{ mt: 2 }}>\n                모든 미디어가 업로드되었습니다! 다음 단계로 진행할 수 있습니다.\n              </Alert>\n            )}\n          </Paper>\n        </Grid>\n      </Grid>\n\n      {/* 하단 버튼 */}\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', mt: 4 }}>\n        <Button\n          variant=\"outlined\"\n          onClick={onBack}\n          size=\"large\"\n        >\n          이전: 대본 작성\n        </Button>\n        <Button\n          variant=\"contained\"\n          onClick={onNext}\n          size=\"large\"\n          disabled={!canProceed}\n        >\n          다음: 음악 선택\n        </Button>\n      </Box>\n    </Box>\n  );\n};\n\nexport default ImageStep;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}