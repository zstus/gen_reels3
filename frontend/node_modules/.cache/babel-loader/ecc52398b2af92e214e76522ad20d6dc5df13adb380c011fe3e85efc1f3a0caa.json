{"ast":null,"code":"var _jsxFileName = \"/zstus/frontend/src/components/GenerateStep.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from 'react';\nimport { Box, Paper, Typography, Button, Grid, Alert, LinearProgress, Card, CardContent, CircularProgress, Dialog, DialogTitle, DialogContent, DialogActions } from '@mui/material';\nimport { PlayArrow, Download, Refresh, CheckCircle, Error as ErrorIcon, VideoCall, MusicNote, Image as ImageIcon, TextFields } from '@mui/icons-material';\nimport { AuthContext } from '../contexts/AuthContext';\nimport apiService from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GenerateStep = ({\n  projectData,\n  onBack,\n  onReset\n}) => {\n  _s();\n  // 사용자 정보 가져오기\n  const {\n    user\n  } = useContext(AuthContext);\n\n  // 기존 상태 변수들\n  const [generationStatus, setGenerationStatus] = useState('idle');\n  const [progress, setProgress] = useState(0);\n  const [statusMessage, setStatusMessage] = useState('');\n  const [videoPath, setVideoPath] = useState(null);\n  const [error, setError] = useState(null);\n  const [showConfirmDialog, setShowConfirmDialog] = useState(false);\n\n  // 배치 작업 관련 상태 변수들\n  const [userEmail, setUserEmail] = useState((user === null || user === void 0 ? void 0 : user.email) || '');\n  const [enableAsyncMode, setEnableAsyncMode] = useState(true);\n  const [jobId, setJobId] = useState(null);\n  const [asyncResponse, setAsyncResponse] = useState(null);\n  const [estimatedTime, setEstimatedTime] = useState('약 3-10분');\n\n  // 예상 생성 시간 계산\n  const calculateEstimatedTime = () => {\n    const scriptCount = Object.values(projectData.content).slice(1) // title 제외\n    .filter(script => script === null || script === void 0 ? void 0 : script.trim()).length;\n\n    // 기본 30초 + 대사당 10초 + 이미지당 5초\n    const baseTime = 30;\n    const scriptTime = scriptCount * 10;\n    const imageTime = projectData.images.length * 5;\n    return Math.max(60, baseTime + scriptTime + imageTime);\n  };\n\n  // 배치 영상 생성 시작 (비동기)\n  const startAsyncGeneration = async () => {\n    // 이메일 주소 검증\n    if (!userEmail.trim()) {\n      setError('이메일 주소를 입력해주세요.');\n      return;\n    }\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(userEmail)) {\n      setError('유효한 이메일 주소를 입력해주세요.');\n      return;\n    }\n    setGenerationStatus('generating');\n    setProgress(30);\n    setError(null);\n    setVideoPath(null);\n    setJobId(null);\n    setAsyncResponse(null);\n    try {\n      setStatusMessage('배치 작업 요청 중...');\n\n      // 배치 작업 API 호출\n      const contentData = JSON.stringify(projectData.content);\n      const response = await apiService.generateVideoAsync({\n        userEmail: userEmail,\n        content: contentData,\n        images: projectData.images,\n        imageUploadMode: projectData.imageUploadMode,\n        textPosition: projectData.textPosition,\n        textStyle: projectData.textStyle,\n        musicFile: projectData.selectedMusic || undefined,\n        musicMood: projectData.musicMood\n      });\n      if (response.status === 'success') {\n        setProgress(50);\n        setStatusMessage('작업이 큐에 추가되었습니다. 완료되면 이메일로 알려드립니다.');\n        setJobId(response.job_id || null);\n        setAsyncResponse(response);\n        setEstimatedTime(response.estimated_time || '약 3-10분');\n        setGenerationStatus('completed');\n      } else {\n        throw new Error(response.message || '작업 요청에 실패했습니다');\n      }\n    } catch (err) {\n      console.error('배치 작업 요청 실패:', err);\n      setError(err.message || '작업 요청 중 오류가 발생했습니다');\n      setGenerationStatus('error');\n      setProgress(0);\n      setStatusMessage('');\n    }\n  };\n\n  // 기존 동기식 영상 생성 (레거시)\n  const startSyncGeneration = async () => {\n    setGenerationStatus('generating');\n    setProgress(0);\n    setError(null);\n    setVideoPath(null);\n    try {\n      // 진행률 시뮬레이션\n      const progressSteps = [{\n        progress: 10,\n        message: '텍스트 분석 중...'\n      }, {\n        progress: 20,\n        message: 'TTS 음성 생성 중...'\n      }, {\n        progress: 40,\n        message: '이미지 처리 중...'\n      }, {\n        progress: 60,\n        message: '배경음악 준비 중...'\n      }, {\n        progress: 80,\n        message: '영상 합성 중...'\n      }, {\n        progress: 95,\n        message: '최종 렌더링 중...'\n      }];\n\n      // 단계별 진행률 업데이트\n      for (const step of progressSteps) {\n        await new Promise(resolve => setTimeout(resolve, 2000));\n        setProgress(step.progress);\n        setStatusMessage(step.message);\n      }\n\n      // API 호출\n      const contentData = JSON.stringify(projectData.content);\n      const response = await apiService.generateVideo({\n        content: contentData,\n        images: projectData.images,\n        imageUploadMode: projectData.imageUploadMode,\n        textPosition: projectData.textPosition,\n        textStyle: projectData.textStyle,\n        musicFile: projectData.selectedMusic || undefined,\n        musicMood: projectData.musicMood\n      });\n      if (response.status === 'success') {\n        setProgress(100);\n        setStatusMessage('영상 생성 완료!');\n        setVideoPath(response.video_path || null);\n        setGenerationStatus('completed');\n      } else {\n        throw new Error(response.message || '영상 생성에 실패했습니다');\n      }\n    } catch (err) {\n      console.error('영상 생성 실패:', err);\n      setError(err.message || '영상 생성 중 오류가 발생했습니다');\n      setGenerationStatus('error');\n      setProgress(0);\n      setStatusMessage('');\n    }\n  };\n\n  // 영상 생성 시작 (모드에 따라 분기)\n  const startGeneration = () => {\n    if (enableAsyncMode) {\n      startAsyncGeneration();\n    } else {\n      startSyncGeneration();\n    }\n  };\n\n  // 영상 다운로드\n  const downloadVideo = () => {\n    if (videoPath) {\n      const downloadUrl = apiService.getVideoDownloadUrl(videoPath);\n      const link = document.createElement('a');\n      link.href = downloadUrl;\n      link.download = `reels_${new Date().toISOString().slice(0, 10)}.mp4`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    }\n  };\n\n  // 새 프로젝트 시작 확인\n  const handleNewProject = () => {\n    setShowConfirmDialog(true);\n  };\n  const confirmNewProject = () => {\n    setShowConfirmDialog(false);\n    onReset();\n  };\n\n  // 프로젝트 요약 정보\n  const getProjectSummary = () => {\n    var _projectData$selected;\n    const scriptCount = Object.values(projectData.content).slice(1).filter(script => script === null || script === void 0 ? void 0 : script.trim()).length;\n    let totalChars = 0;\n    Object.values(projectData.content).slice(1).forEach(script => {\n      if (script !== null && script !== void 0 && script.trim()) {\n        totalChars += script.length;\n      }\n    });\n    const estimatedDuration = Math.max(5, Math.ceil(totalChars / 450 * 60));\n    return {\n      scriptCount,\n      totalChars,\n      estimatedDuration,\n      imageCount: projectData.images.length,\n      imageMode: projectData.imageUploadMode === 'per-script' ? '대사마다 이미지' : '2대사마다 이미지',\n      textPosition: projectData.textPosition === 'top' ? '상단 (340-520px 영역)' : '하단 (520-700px 영역)',\n      textStyle: projectData.textStyle === 'outline' ? '외곽선 (배경 투명)' : '반투명 검은 배경',\n      musicName: ((_projectData$selected = projectData.selectedMusic) === null || _projectData$selected === void 0 ? void 0 : _projectData$selected.displayName) || '기본 음악',\n      musicMood: projectData.musicMood\n    };\n  };\n  const summary = getProjectSummary();\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      component: \"h1\",\n      gutterBottom: true,\n      children: \"\\uC601\\uC0C1 \\uC0DD\\uC131\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body1\",\n      color: \"text.secondary\",\n      sx: {\n        mb: 3\n      },\n      children: \"\\uBAA8\\uB4E0 \\uC900\\uBE44\\uAC00 \\uC644\\uB8CC\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4. \\uC601\\uC0C1\\uC744 \\uC0DD\\uC131\\uD558\\uACE0 \\uB2E4\\uC6B4\\uB85C\\uB4DC\\uD558\\uC138\\uC694.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"\\uD504\\uB85C\\uC81D\\uD2B8 \\uC694\\uC57D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            sx: {\n              mb: 2\n            },\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                display: \"flex\",\n                alignItems: \"center\",\n                sx: {\n                  mb: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(TextFields, {\n                  color: \"primary\",\n                  sx: {\n                    mr: 1\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"subtitle2\",\n                  children: \"\\uCF58\\uD150\\uCE20\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: [\"\\uC81C\\uBAA9: \", projectData.content.title]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: [\"\\uB300\\uC0AC: \", summary.scriptCount, \"\\uAC1C (\", summary.totalChars, \"\\uC790)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: [\"\\uC608\\uC0C1 \\uAE38\\uC774: \\uC57D \", summary.estimatedDuration, \"\\uCD08\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            sx: {\n              mb: 2\n            },\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                display: \"flex\",\n                alignItems: \"center\",\n                sx: {\n                  mb: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(ImageIcon, {\n                  color: \"primary\",\n                  sx: {\n                    mr: 1\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"subtitle2\",\n                  children: \"\\uBBF8\\uB514\\uC5B4 & \\uD14D\\uC2A4\\uD2B8 \\uC124\\uC815\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: [\"\\uC5C5\\uB85C\\uB4DC\\uB41C \\uBBF8\\uB514\\uC5B4: \", summary.imageCount, \"\\uAC1C\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: [\"\\uBAA8\\uB4DC: \", summary.imageMode]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: [\"\\uD14D\\uC2A4\\uD2B8 \\uC704\\uCE58: \", summary.textPosition]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: [\"\\uC790\\uB9C9 \\uC2A4\\uD0C0\\uC77C: \", summary.textStyle]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                display: \"flex\",\n                alignItems: \"center\",\n                sx: {\n                  mb: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(MusicNote, {\n                  color: \"primary\",\n                  sx: {\n                    mr: 1\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"subtitle2\",\n                  children: \"\\uBC30\\uACBD\\uC74C\\uC545\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: [\"\\uC120\\uD0DD\\uB41C \\uC74C\\uC545: \", summary.musicName]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: [\"\\uC131\\uACA9: \", summary.musicMood]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"\\uC0DD\\uC131 \\uC0C1\\uD0DC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this), generationStatus === 'idle' && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              textAlign: 'center',\n              py: 4\n            },\n            children: [/*#__PURE__*/_jsxDEV(VideoCall, {\n              sx: {\n                fontSize: 64,\n                color: 'text.secondary',\n                mb: 2\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              sx: {\n                mb: 3\n              },\n              children: \"\\uC601\\uC0C1 \\uC0DD\\uC131\\uC744 \\uC2DC\\uC791\\uD560 \\uC900\\uBE44\\uAC00 \\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Alert, {\n              severity: \"info\",\n              sx: {\n                mb: 3\n              },\n              children: [\"\\uC608\\uC0C1 \\uC0DD\\uC131 \\uC2DC\\uAC04: \\uC57D \", Math.ceil(estimatedTime / 60), \"\\uBD84\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              size: \"large\",\n              startIcon: /*#__PURE__*/_jsxDEV(PlayArrow, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 30\n              }, this),\n              onClick: startGeneration,\n              children: \"\\uC601\\uC0C1 \\uC0DD\\uC131 \\uC2DC\\uC791\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 15\n          }, this), generationStatus === 'generating' && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              textAlign: 'center',\n              py: 4\n            },\n            children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n              size: 64,\n              sx: {\n                mb: 2\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: \"\\uC601\\uC0C1 \\uC0DD\\uC131 \\uC911...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              sx: {\n                mb: 3\n              },\n              children: statusMessage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(LinearProgress, {\n              variant: \"determinate\",\n              value: progress,\n              sx: {\n                mb: 2,\n                height: 8,\n                borderRadius: 4\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: [progress, \"% \\uC644\\uB8CC (\\uC608\\uC0C1 \\uC2DC\\uAC04: \", Math.ceil((100 - progress) / 100 * estimatedTime / 60), \"\\uBD84 \\uB0A8\\uC74C)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Alert, {\n              severity: \"warning\",\n              sx: {\n                mt: 2\n              },\n              children: \"\\uC0DD\\uC131 \\uC911\\uC5D0\\uB294 \\uD398\\uC774\\uC9C0\\uB97C \\uB2EB\\uC9C0 \\uB9C8\\uC138\\uC694\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 15\n          }, this), generationStatus === 'completed' && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              textAlign: 'center',\n              py: 4\n            },\n            children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n              sx: {\n                fontSize: 64,\n                color: 'success.main',\n                mb: 2\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: \"\\uC601\\uC0C1 \\uC0DD\\uC131 \\uC644\\uB8CC!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              sx: {\n                mb: 3\n              },\n              children: \"\\uB9B4\\uC2A4 \\uC601\\uC0C1\\uC774 \\uC131\\uACF5\\uC801\\uC73C\\uB85C \\uC0DD\\uC131\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Alert, {\n              severity: \"success\",\n              sx: {\n                mb: 3\n              },\n              children: statusMessage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              size: \"large\",\n              startIcon: /*#__PURE__*/_jsxDEV(Download, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 30\n              }, this),\n              onClick: downloadVideo,\n              sx: {\n                mr: 2\n              },\n              children: \"\\uC601\\uC0C1 \\uB2E4\\uC6B4\\uB85C\\uB4DC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              size: \"large\",\n              startIcon: /*#__PURE__*/_jsxDEV(Refresh, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 30\n              }, this),\n              onClick: handleNewProject,\n              children: \"\\uC0C8 \\uD504\\uB85C\\uC81D\\uD2B8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 15\n          }, this), generationStatus === 'error' && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              textAlign: 'center',\n              py: 4\n            },\n            children: [/*#__PURE__*/_jsxDEV(ErrorIcon, {\n              sx: {\n                fontSize: 64,\n                color: 'error.main',\n                mb: 2\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: \"\\uC0DD\\uC131 \\uC2E4\\uD328\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Alert, {\n              severity: \"error\",\n              sx: {\n                mb: 3\n              },\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"error\",\n              size: \"large\",\n              startIcon: /*#__PURE__*/_jsxDEV(Refresh, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 30\n              }, this),\n              onClick: startGeneration,\n              sx: {\n                mr: 2\n              },\n              children: \"\\uB2E4\\uC2DC \\uC2DC\\uB3C4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              size: \"large\",\n              onClick: onBack,\n              children: \"\\uC124\\uC815 \\uC218\\uC815\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 7\n    }, this), generationStatus === 'idle' && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        mt: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        onClick: onBack,\n        size: \"large\",\n        children: \"\\uC774\\uC804: \\uC74C\\uC545 \\uC120\\uD0DD\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: showConfirmDialog,\n      onClose: () => setShowConfirmDialog(false),\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"\\uC0C8 \\uD504\\uB85C\\uC81D\\uD2B8 \\uC2DC\\uC791\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          children: \"\\uC0C8 \\uD504\\uB85C\\uC81D\\uD2B8\\uB97C \\uC2DC\\uC791\\uD558\\uBA74 \\uD604\\uC7AC \\uC791\\uC5C5 \\uB0B4\\uC6A9\\uC774 \\uBAA8\\uB450 \\uCD08\\uAE30\\uD654\\uB429\\uB2C8\\uB2E4. \\uACC4\\uC18D\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setShowConfirmDialog(false),\n          children: \"\\uCDE8\\uC18C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: confirmNewProject,\n          variant: \"contained\",\n          color: \"primary\",\n          children: \"\\uD655\\uC778\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 257,\n    columnNumber: 5\n  }, this);\n};\n_s(GenerateStep, \"O+xlvmMsJYH3UsS1HEyLA7vMJJM=\");\n_c = GenerateStep;\nexport default GenerateStep;\nvar _c;\n$RefreshReg$(_c, \"GenerateStep\");","map":{"version":3,"names":["React","useState","useContext","Box","Paper","Typography","Button","Grid","Alert","LinearProgress","Card","CardContent","CircularProgress","Dialog","DialogTitle","DialogContent","DialogActions","PlayArrow","Download","Refresh","CheckCircle","Error","ErrorIcon","VideoCall","MusicNote","Image","ImageIcon","TextFields","AuthContext","apiService","jsxDEV","_jsxDEV","GenerateStep","projectData","onBack","onReset","_s","user","generationStatus","setGenerationStatus","progress","setProgress","statusMessage","setStatusMessage","videoPath","setVideoPath","error","setError","showConfirmDialog","setShowConfirmDialog","userEmail","setUserEmail","email","enableAsyncMode","setEnableAsyncMode","jobId","setJobId","asyncResponse","setAsyncResponse","estimatedTime","setEstimatedTime","calculateEstimatedTime","scriptCount","Object","values","content","slice","filter","script","trim","length","baseTime","scriptTime","imageTime","images","Math","max","startAsyncGeneration","emailRegex","test","contentData","JSON","stringify","response","generateVideoAsync","imageUploadMode","textPosition","textStyle","musicFile","selectedMusic","undefined","musicMood","status","job_id","estimated_time","message","err","console","startSyncGeneration","progressSteps","step","Promise","resolve","setTimeout","generateVideo","video_path","startGeneration","downloadVideo","downloadUrl","getVideoDownloadUrl","link","document","createElement","href","download","Date","toISOString","body","appendChild","click","removeChild","handleNewProject","confirmNewProject","getProjectSummary","_projectData$selected","totalChars","forEach","estimatedDuration","ceil","imageCount","imageMode","musicName","displayName","summary","children","variant","component","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","color","sx","mb","container","spacing","item","xs","md","p","display","alignItems","mr","title","textAlign","py","fontSize","severity","size","startIcon","onClick","value","height","borderRadius","mt","justifyContent","open","onClose","_c","$RefreshReg$"],"sources":["/zstus/frontend/src/components/GenerateStep.tsx"],"sourcesContent":["import React, { useState, useContext } from 'react';\nimport {\n  Box,\n  Paper,\n  Typography,\n  Button,\n  Grid,\n  Alert,\n  LinearProgress,\n  Card,\n  CardContent,\n  Divider,\n  Chip,\n  CircularProgress,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  TextField,\n  FormControlLabel,\n  Switch,\n} from '@mui/material';\nimport {\n  PlayArrow,\n  Download,\n  Refresh,\n  CheckCircle,\n  Error as ErrorIcon,\n  VideoCall,\n  MusicNote,\n  Image as ImageIcon,\n  TextFields,\n  Email,\n  Schedule,\n  Send,\n} from '@mui/icons-material';\nimport { ProjectData, GenerationStatus, AsyncVideoResponse } from '../types';\nimport { AuthContext } from '../contexts/AuthContext';\nimport apiService from '../services/api';\n\ninterface GenerateStepProps {\n  projectData: ProjectData;\n  onBack: () => void;\n  onReset: () => void;\n}\n\nconst GenerateStep: React.FC<GenerateStepProps> = ({\n  projectData,\n  onBack,\n  onReset,\n}) => {\n  // 사용자 정보 가져오기\n  const { user } = useContext(AuthContext);\n\n  // 기존 상태 변수들\n  const [generationStatus, setGenerationStatus] = useState<GenerationStatus>('idle');\n  const [progress, setProgress] = useState(0);\n  const [statusMessage, setStatusMessage] = useState('');\n  const [videoPath, setVideoPath] = useState<string | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [showConfirmDialog, setShowConfirmDialog] = useState(false);\n\n  // 배치 작업 관련 상태 변수들\n  const [userEmail, setUserEmail] = useState<string>(user?.email || '');\n  const [enableAsyncMode, setEnableAsyncMode] = useState<boolean>(true);\n  const [jobId, setJobId] = useState<string | null>(null);\n  const [asyncResponse, setAsyncResponse] = useState<AsyncVideoResponse | null>(null);\n  const [estimatedTime, setEstimatedTime] = useState<string>('약 3-10분');\n\n  // 예상 생성 시간 계산\n  const calculateEstimatedTime = () => {\n    const scriptCount = Object.values(projectData.content)\n      .slice(1) // title 제외\n      .filter(script => script?.trim()).length;\n    \n    // 기본 30초 + 대사당 10초 + 이미지당 5초\n    const baseTime = 30;\n    const scriptTime = scriptCount * 10;\n    const imageTime = projectData.images.length * 5;\n    \n    return Math.max(60, baseTime + scriptTime + imageTime);\n  };\n\n  // 배치 영상 생성 시작 (비동기)\n  const startAsyncGeneration = async () => {\n    // 이메일 주소 검증\n    if (!userEmail.trim()) {\n      setError('이메일 주소를 입력해주세요.');\n      return;\n    }\n\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(userEmail)) {\n      setError('유효한 이메일 주소를 입력해주세요.');\n      return;\n    }\n\n    setGenerationStatus('generating');\n    setProgress(30);\n    setError(null);\n    setVideoPath(null);\n    setJobId(null);\n    setAsyncResponse(null);\n\n    try {\n      setStatusMessage('배치 작업 요청 중...');\n\n      // 배치 작업 API 호출\n      const contentData = JSON.stringify(projectData.content);\n      const response = await apiService.generateVideoAsync({\n        userEmail: userEmail,\n        content: contentData,\n        images: projectData.images,\n        imageUploadMode: projectData.imageUploadMode,\n        textPosition: projectData.textPosition,\n        textStyle: projectData.textStyle,\n        musicFile: projectData.selectedMusic || undefined,\n        musicMood: projectData.musicMood,\n      });\n\n      if (response.status === 'success') {\n        setProgress(50);\n        setStatusMessage('작업이 큐에 추가되었습니다. 완료되면 이메일로 알려드립니다.');\n        setJobId(response.job_id || null);\n        setAsyncResponse(response);\n        setEstimatedTime(response.estimated_time || '약 3-10분');\n        setGenerationStatus('completed');\n      } else {\n        throw new Error(response.message || '작업 요청에 실패했습니다');\n      }\n    } catch (err: any) {\n      console.error('배치 작업 요청 실패:', err);\n      setError(err.message || '작업 요청 중 오류가 발생했습니다');\n      setGenerationStatus('error');\n      setProgress(0);\n      setStatusMessage('');\n    }\n  };\n\n  // 기존 동기식 영상 생성 (레거시)\n  const startSyncGeneration = async () => {\n    setGenerationStatus('generating');\n    setProgress(0);\n    setError(null);\n    setVideoPath(null);\n\n    try {\n      // 진행률 시뮬레이션\n      const progressSteps = [\n        { progress: 10, message: '텍스트 분석 중...' },\n        { progress: 20, message: 'TTS 음성 생성 중...' },\n        { progress: 40, message: '이미지 처리 중...' },\n        { progress: 60, message: '배경음악 준비 중...' },\n        { progress: 80, message: '영상 합성 중...' },\n        { progress: 95, message: '최종 렌더링 중...' },\n      ];\n\n      // 단계별 진행률 업데이트\n      for (const step of progressSteps) {\n        await new Promise(resolve => setTimeout(resolve, 2000));\n        setProgress(step.progress);\n        setStatusMessage(step.message);\n      }\n\n      // API 호출\n      const contentData = JSON.stringify(projectData.content);\n      const response = await apiService.generateVideo({\n        content: contentData,\n        images: projectData.images,\n        imageUploadMode: projectData.imageUploadMode,\n        textPosition: projectData.textPosition,\n        textStyle: projectData.textStyle,\n        musicFile: projectData.selectedMusic || undefined,\n        musicMood: projectData.musicMood,\n      });\n\n      if (response.status === 'success') {\n        setProgress(100);\n        setStatusMessage('영상 생성 완료!');\n        setVideoPath(response.video_path || null);\n        setGenerationStatus('completed');\n      } else {\n        throw new Error(response.message || '영상 생성에 실패했습니다');\n      }\n    } catch (err: any) {\n      console.error('영상 생성 실패:', err);\n      setError(err.message || '영상 생성 중 오류가 발생했습니다');\n      setGenerationStatus('error');\n      setProgress(0);\n      setStatusMessage('');\n    }\n  };\n\n  // 영상 생성 시작 (모드에 따라 분기)\n  const startGeneration = () => {\n    if (enableAsyncMode) {\n      startAsyncGeneration();\n    } else {\n      startSyncGeneration();\n    }\n  };\n\n  // 영상 다운로드\n  const downloadVideo = () => {\n    if (videoPath) {\n      const downloadUrl = apiService.getVideoDownloadUrl(videoPath);\n      const link = document.createElement('a');\n      link.href = downloadUrl;\n      link.download = `reels_${new Date().toISOString().slice(0, 10)}.mp4`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    }\n  };\n\n  // 새 프로젝트 시작 확인\n  const handleNewProject = () => {\n    setShowConfirmDialog(true);\n  };\n\n  const confirmNewProject = () => {\n    setShowConfirmDialog(false);\n    onReset();\n  };\n\n  // 프로젝트 요약 정보\n  const getProjectSummary = () => {\n    const scriptCount = Object.values(projectData.content)\n      .slice(1)\n      .filter(script => script?.trim()).length;\n    \n    let totalChars = 0;\n    Object.values(projectData.content).slice(1).forEach(script => {\n      if (script?.trim()) {\n        totalChars += script.length;\n      }\n    });\n\n    const estimatedDuration = Math.max(5, Math.ceil((totalChars / 450) * 60));\n\n    return {\n      scriptCount,\n      totalChars,\n      estimatedDuration,\n      imageCount: projectData.images.length,\n      imageMode: projectData.imageUploadMode === 'per-script' ? '대사마다 이미지' : '2대사마다 이미지',\n      textPosition: projectData.textPosition === 'top' ? '상단 (340-520px 영역)' : '하단 (520-700px 영역)',\n      textStyle: projectData.textStyle === 'outline' ? '외곽선 (배경 투명)' : '반투명 검은 배경',\n      musicName: projectData.selectedMusic?.displayName || '기본 음악',\n      musicMood: projectData.musicMood,\n    };\n  };\n\n  const summary = getProjectSummary();\n\n  return (\n    <Box>\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n        영상 생성\n      </Typography>\n      <Typography variant=\"body1\" color=\"text.secondary\" sx={{ mb: 3 }}>\n        모든 준비가 완료되었습니다. 영상을 생성하고 다운로드하세요.\n      </Typography>\n\n      <Grid container spacing={3}>\n        {/* 왼쪽: 프로젝트 요약 */}\n        <Grid item xs={12} md={6}>\n          <Paper sx={{ p: 3 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              프로젝트 요약\n            </Typography>\n\n            {/* 콘텐츠 정보 */}\n            <Card sx={{ mb: 2 }}>\n              <CardContent>\n                <Box display=\"flex\" alignItems=\"center\" sx={{ mb: 1 }}>\n                  <TextFields color=\"primary\" sx={{ mr: 1 }} />\n                  <Typography variant=\"subtitle2\">콘텐츠</Typography>\n                </Box>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  제목: {projectData.content.title}\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  대사: {summary.scriptCount}개 ({summary.totalChars}자)\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  예상 길이: 약 {summary.estimatedDuration}초\n                </Typography>\n              </CardContent>\n            </Card>\n\n            {/* 이미지 및 텍스트 정보 */}\n            <Card sx={{ mb: 2 }}>\n              <CardContent>\n                <Box display=\"flex\" alignItems=\"center\" sx={{ mb: 1 }}>\n                  <ImageIcon color=\"primary\" sx={{ mr: 1 }} />\n                  <Typography variant=\"subtitle2\">미디어 & 텍스트 설정</Typography>\n                </Box>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  업로드된 미디어: {summary.imageCount}개\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  모드: {summary.imageMode}\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  텍스트 위치: {summary.textPosition}\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  자막 스타일: {summary.textStyle}\n                </Typography>\n              </CardContent>\n            </Card>\n\n            {/* 음악 정보 */}\n            <Card>\n              <CardContent>\n                <Box display=\"flex\" alignItems=\"center\" sx={{ mb: 1 }}>\n                  <MusicNote color=\"primary\" sx={{ mr: 1 }} />\n                  <Typography variant=\"subtitle2\">배경음악</Typography>\n                </Box>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  선택된 음악: {summary.musicName}\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  성격: {summary.musicMood}\n                </Typography>\n              </CardContent>\n            </Card>\n          </Paper>\n        </Grid>\n\n        {/* 오른쪽: 생성 상태 */}\n        <Grid item xs={12} md={6}>\n          <Paper sx={{ p: 3 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              생성 상태\n            </Typography>\n\n            {generationStatus === 'idle' && (\n              <Box sx={{ textAlign: 'center', py: 4 }}>\n                <VideoCall sx={{ fontSize: 64, color: 'text.secondary', mb: 2 }} />\n                <Typography variant=\"body1\" sx={{ mb: 3 }}>\n                  영상 생성을 시작할 준비가 되었습니다\n                </Typography>\n                <Alert severity=\"info\" sx={{ mb: 3 }}>\n                  예상 생성 시간: 약 {Math.ceil(estimatedTime / 60)}분\n                </Alert>\n                <Button\n                  variant=\"contained\"\n                  size=\"large\"\n                  startIcon={<PlayArrow />}\n                  onClick={startGeneration}\n                >\n                  영상 생성 시작\n                </Button>\n              </Box>\n            )}\n\n            {generationStatus === 'generating' && (\n              <Box sx={{ textAlign: 'center', py: 4 }}>\n                <CircularProgress size={64} sx={{ mb: 2 }} />\n                <Typography variant=\"h6\" gutterBottom>\n                  영상 생성 중...\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\n                  {statusMessage}\n                </Typography>\n                <LinearProgress \n                  variant=\"determinate\" \n                  value={progress} \n                  sx={{ mb: 2, height: 8, borderRadius: 4 }}\n                />\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  {progress}% 완료 (예상 시간: {Math.ceil((100 - progress) / 100 * estimatedTime / 60)}분 남음)\n                </Typography>\n                <Alert severity=\"warning\" sx={{ mt: 2 }}>\n                  생성 중에는 페이지를 닫지 마세요\n                </Alert>\n              </Box>\n            )}\n\n            {generationStatus === 'completed' && (\n              <Box sx={{ textAlign: 'center', py: 4 }}>\n                <CheckCircle sx={{ fontSize: 64, color: 'success.main', mb: 2 }} />\n                <Typography variant=\"h6\" gutterBottom>\n                  영상 생성 완료!\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\n                  릴스 영상이 성공적으로 생성되었습니다\n                </Typography>\n                <Alert severity=\"success\" sx={{ mb: 3 }}>\n                  {statusMessage}\n                </Alert>\n                <Button\n                  variant=\"contained\"\n                  size=\"large\"\n                  startIcon={<Download />}\n                  onClick={downloadVideo}\n                  sx={{ mr: 2 }}\n                >\n                  영상 다운로드\n                </Button>\n                <Button\n                  variant=\"outlined\"\n                  size=\"large\"\n                  startIcon={<Refresh />}\n                  onClick={handleNewProject}\n                >\n                  새 프로젝트\n                </Button>\n              </Box>\n            )}\n\n            {generationStatus === 'error' && (\n              <Box sx={{ textAlign: 'center', py: 4 }}>\n                <ErrorIcon sx={{ fontSize: 64, color: 'error.main', mb: 2 }} />\n                <Typography variant=\"h6\" gutterBottom>\n                  생성 실패\n                </Typography>\n                <Alert severity=\"error\" sx={{ mb: 3 }}>\n                  {error}\n                </Alert>\n                <Button\n                  variant=\"contained\"\n                  color=\"error\"\n                  size=\"large\"\n                  startIcon={<Refresh />}\n                  onClick={startGeneration}\n                  sx={{ mr: 2 }}\n                >\n                  다시 시도\n                </Button>\n                <Button\n                  variant=\"outlined\"\n                  size=\"large\"\n                  onClick={onBack}\n                >\n                  설정 수정\n                </Button>\n              </Box>\n            )}\n          </Paper>\n        </Grid>\n      </Grid>\n\n      {/* 하단 버튼 */}\n      {generationStatus === 'idle' && (\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', mt: 4 }}>\n          <Button\n            variant=\"outlined\"\n            onClick={onBack}\n            size=\"large\"\n          >\n            이전: 음악 선택\n          </Button>\n        </Box>\n      )}\n\n      {/* 새 프로젝트 확인 다이얼로그 */}\n      <Dialog open={showConfirmDialog} onClose={() => setShowConfirmDialog(false)}>\n        <DialogTitle>새 프로젝트 시작</DialogTitle>\n        <DialogContent>\n          <Typography variant=\"body1\">\n            새 프로젝트를 시작하면 현재 작업 내용이 모두 초기화됩니다. \n            계속하시겠습니까?\n          </Typography>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setShowConfirmDialog(false)}>취소</Button>\n          <Button onClick={confirmNewProject} variant=\"contained\" color=\"primary\">\n            확인\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Box>\n  );\n};\n\nexport default GenerateStep;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}